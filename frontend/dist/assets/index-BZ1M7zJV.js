(function(){const b=document.createElement("link").relList;if(b&&b.supports&&b.supports("modulepreload"))return;for(const D of document.querySelectorAll('link[rel="modulepreload"]'))y(D);new MutationObserver(D=>{for(const j of D)if(j.type==="childList")for(const M of j.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&y(M)}).observe(document,{childList:!0,subtree:!0});function C(D){const j={};return D.integrity&&(j.integrity=D.integrity),D.referrerPolicy&&(j.referrerPolicy=D.referrerPolicy),D.crossOrigin==="use-credentials"?j.credentials="include":D.crossOrigin==="anonymous"?j.credentials="omit":j.credentials="same-origin",j}function y(D){if(D.ep)return;D.ep=!0;const j=C(D);fetch(D.href,j)}})();var fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $v(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var pb={exports:{}},Cm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function GD(){if(pv)return Cm;pv=1;var f=Symbol.for("react.transitional.element"),b=Symbol.for("react.fragment");function C(y,D,j){var M=null;if(j!==void 0&&(M=""+j),D.key!==void 0&&(M=""+D.key),"key"in D){j={};for(var S in D)S!=="key"&&(j[S]=D[S])}else j=D;return D=j.ref,{$$typeof:f,type:y,key:M,ref:D!==void 0?D:null,props:j}}return Cm.Fragment=b,Cm.jsx=C,Cm.jsxs=C,Cm}var kv;function KD(){return kv||(kv=1,pb.exports=GD()),pb.exports}var at=KD(),kb={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function YD(){if(bv)return Vt;bv=1;var f=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),M=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),B=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.iterator;function O(Y){return Y===null||typeof Y!="object"?null:(Y=x&&Y[x]||Y["@@iterator"],typeof Y=="function"?Y:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,U={};function Q(Y,dt,wt){this.props=Y,this.context=dt,this.refs=U,this.updater=wt||P}Q.prototype.isReactComponent={},Q.prototype.setState=function(Y,dt){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,dt,"setState")},Q.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function $(){}$.prototype=Q.prototype;function it(Y,dt,wt){this.props=Y,this.context=dt,this.refs=U,this.updater=wt||P}var gt=it.prototype=new $;gt.constructor=it,V(gt,Q.prototype),gt.isPureReactComponent=!0;var At=Array.isArray;function Dt(){}var ht={H:null,A:null,T:null,S:null},kt=Object.prototype.hasOwnProperty;function _t(Y,dt,wt){var xt=wt.ref;return{$$typeof:f,type:Y,key:dt,ref:xt!==void 0?xt:null,props:wt}}function Mt(Y,dt){return _t(Y.type,dt,Y.props)}function Rt(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===f}function qt(Y){var dt={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(wt){return dt[wt]})}var le=/\/+/g;function H(Y,dt){return typeof Y=="object"&&Y!==null&&Y.key!=null?qt(""+Y.key):dt.toString(36)}function Bt(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(Dt,Dt):(Y.status="pending",Y.then(function(dt){Y.status==="pending"&&(Y.status="fulfilled",Y.value=dt)},function(dt){Y.status==="pending"&&(Y.status="rejected",Y.reason=dt)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function rt(Y,dt,wt,xt,yt){var Ut=typeof Y;(Ut==="undefined"||Ut==="boolean")&&(Y=null);var ne=!1;if(Y===null)ne=!0;else switch(Ut){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(Y.$$typeof){case f:case b:ne=!0;break;case N:return ne=Y._init,rt(ne(Y._payload),dt,wt,xt,yt)}}if(ne)return yt=yt(Y),ne=xt===""?"."+H(Y,0):xt,At(yt)?(wt="",ne!=null&&(wt=ne.replace(le,"$&/")+"/"),rt(yt,dt,wt,"",function(Gi){return Gi})):yt!=null&&(Rt(yt)&&(yt=Mt(yt,wt+(yt.key==null||Y&&Y.key===yt.key?"":(""+yt.key).replace(le,"$&/")+"/")+ne)),dt.push(yt)),1;ne=0;var Xe=xt===""?".":xt+":";if(At(Y))for(var Te=0;Te<Y.length;Te++)xt=Y[Te],Ut=Xe+H(xt,Te),ne+=rt(xt,dt,wt,Ut,yt);else if(Te=O(Y),typeof Te=="function")for(Y=Te.call(Y),Te=0;!(xt=Y.next()).done;)xt=xt.value,Ut=Xe+H(xt,Te++),ne+=rt(xt,dt,wt,Ut,yt);else if(Ut==="object"){if(typeof Y.then=="function")return rt(Bt(Y),dt,wt,xt,yt);throw dt=String(Y),Error("Objects are not valid as a React child (found: "+(dt==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":dt)+"). If you meant to render a collection of children, use an array instead.")}return ne}function Ct(Y,dt,wt){if(Y==null)return Y;var xt=[],yt=0;return rt(Y,xt,"","",function(Ut){return dt.call(wt,Ut,yt++)}),xt}function zt(Y){if(Y._status===-1){var dt=Y._result;dt=dt(),dt.then(function(wt){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=wt)},function(wt){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=wt)}),Y._status===-1&&(Y._status=0,Y._result=dt)}if(Y._status===1)return Y._result.default;throw Y._result}var de=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var dt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(dt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},fe={map:Ct,forEach:function(Y,dt,wt){Ct(Y,function(){dt.apply(this,arguments)},wt)},count:function(Y){var dt=0;return Ct(Y,function(){dt++}),dt},toArray:function(Y){return Ct(Y,function(dt){return dt})||[]},only:function(Y){if(!Rt(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return Vt.Activity=I,Vt.Children=fe,Vt.Component=Q,Vt.Fragment=C,Vt.Profiler=D,Vt.PureComponent=it,Vt.StrictMode=y,Vt.Suspense=A,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return ht.H.useMemoCache(Y)}},Vt.cache=function(Y){return function(){return Y.apply(null,arguments)}},Vt.cacheSignal=function(){return null},Vt.cloneElement=function(Y,dt,wt){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var xt=V({},Y.props),yt=Y.key;if(dt!=null)for(Ut in dt.key!==void 0&&(yt=""+dt.key),dt)!kt.call(dt,Ut)||Ut==="key"||Ut==="__self"||Ut==="__source"||Ut==="ref"&&dt.ref===void 0||(xt[Ut]=dt[Ut]);var Ut=arguments.length-2;if(Ut===1)xt.children=wt;else if(1<Ut){for(var ne=Array(Ut),Xe=0;Xe<Ut;Xe++)ne[Xe]=arguments[Xe+2];xt.children=ne}return _t(Y.type,yt,xt)},Vt.createContext=function(Y){return Y={$$typeof:M,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:j,_context:Y},Y},Vt.createElement=function(Y,dt,wt){var xt,yt={},Ut=null;if(dt!=null)for(xt in dt.key!==void 0&&(Ut=""+dt.key),dt)kt.call(dt,xt)&&xt!=="key"&&xt!=="__self"&&xt!=="__source"&&(yt[xt]=dt[xt]);var ne=arguments.length-2;if(ne===1)yt.children=wt;else if(1<ne){for(var Xe=Array(ne),Te=0;Te<ne;Te++)Xe[Te]=arguments[Te+2];yt.children=Xe}if(Y&&Y.defaultProps)for(xt in ne=Y.defaultProps,ne)yt[xt]===void 0&&(yt[xt]=ne[xt]);return _t(Y,Ut,yt)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(Y){return{$$typeof:S,render:Y}},Vt.isValidElement=Rt,Vt.lazy=function(Y){return{$$typeof:N,_payload:{_status:-1,_result:Y},_init:zt}},Vt.memo=function(Y,dt){return{$$typeof:B,type:Y,compare:dt===void 0?null:dt}},Vt.startTransition=function(Y){var dt=ht.T,wt={};ht.T=wt;try{var xt=Y(),yt=ht.S;yt!==null&&yt(wt,xt),typeof xt=="object"&&xt!==null&&typeof xt.then=="function"&&xt.then(Dt,de)}catch(Ut){de(Ut)}finally{dt!==null&&wt.types!==null&&(dt.types=wt.types),ht.T=dt}},Vt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},Vt.use=function(Y){return ht.H.use(Y)},Vt.useActionState=function(Y,dt,wt){return ht.H.useActionState(Y,dt,wt)},Vt.useCallback=function(Y,dt){return ht.H.useCallback(Y,dt)},Vt.useContext=function(Y){return ht.H.useContext(Y)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(Y,dt){return ht.H.useDeferredValue(Y,dt)},Vt.useEffect=function(Y,dt){return ht.H.useEffect(Y,dt)},Vt.useEffectEvent=function(Y){return ht.H.useEffectEvent(Y)},Vt.useId=function(){return ht.H.useId()},Vt.useImperativeHandle=function(Y,dt,wt){return ht.H.useImperativeHandle(Y,dt,wt)},Vt.useInsertionEffect=function(Y,dt){return ht.H.useInsertionEffect(Y,dt)},Vt.useLayoutEffect=function(Y,dt){return ht.H.useLayoutEffect(Y,dt)},Vt.useMemo=function(Y,dt){return ht.H.useMemo(Y,dt)},Vt.useOptimistic=function(Y,dt){return ht.H.useOptimistic(Y,dt)},Vt.useReducer=function(Y,dt,wt){return ht.H.useReducer(Y,dt,wt)},Vt.useRef=function(Y){return ht.H.useRef(Y)},Vt.useState=function(Y){return ht.H.useState(Y)},Vt.useSyncExternalStore=function(Y,dt,wt){return ht.H.useSyncExternalStore(Y,dt,wt)},Vt.useTransition=function(){return ht.H.useTransition()},Vt.version="19.2.0",Vt}var wv;function zb(){return wv||(wv=1,kb.exports=YD()),kb.exports}var nt=zb();const Le=$v(nt);var bb={exports:{}},vm={},wb={exports:{}},Ab={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function QD(){return Av||(Av=1,(function(f){function b(rt,Ct){var zt=rt.length;rt.push(Ct);t:for(;0<zt;){var de=zt-1>>>1,fe=rt[de];if(0<D(fe,Ct))rt[de]=Ct,rt[zt]=fe,zt=de;else break t}}function C(rt){return rt.length===0?null:rt[0]}function y(rt){if(rt.length===0)return null;var Ct=rt[0],zt=rt.pop();if(zt!==Ct){rt[0]=zt;t:for(var de=0,fe=rt.length,Y=fe>>>1;de<Y;){var dt=2*(de+1)-1,wt=rt[dt],xt=dt+1,yt=rt[xt];if(0>D(wt,zt))xt<fe&&0>D(yt,wt)?(rt[de]=yt,rt[xt]=zt,de=xt):(rt[de]=wt,rt[dt]=zt,de=dt);else if(xt<fe&&0>D(yt,zt))rt[de]=yt,rt[xt]=zt,de=xt;else break t}}return Ct}function D(rt,Ct){var zt=rt.sortIndex-Ct.sortIndex;return zt!==0?zt:rt.id-Ct.id}if(f.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var j=performance;f.unstable_now=function(){return j.now()}}else{var M=Date,S=M.now();f.unstable_now=function(){return M.now()-S}}var A=[],B=[],N=1,I=null,x=3,O=!1,P=!1,V=!1,U=!1,Q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function gt(rt){for(var Ct=C(B);Ct!==null;){if(Ct.callback===null)y(B);else if(Ct.startTime<=rt)y(B),Ct.sortIndex=Ct.expirationTime,b(A,Ct);else break;Ct=C(B)}}function At(rt){if(V=!1,gt(rt),!P)if(C(A)!==null)P=!0,Dt||(Dt=!0,qt());else{var Ct=C(B);Ct!==null&&Bt(At,Ct.startTime-rt)}}var Dt=!1,ht=-1,kt=5,_t=-1;function Mt(){return U?!0:!(f.unstable_now()-_t<kt)}function Rt(){if(U=!1,Dt){var rt=f.unstable_now();_t=rt;var Ct=!0;try{t:{P=!1,V&&(V=!1,$(ht),ht=-1),O=!0;var zt=x;try{e:{for(gt(rt),I=C(A);I!==null&&!(I.expirationTime>rt&&Mt());){var de=I.callback;if(typeof de=="function"){I.callback=null,x=I.priorityLevel;var fe=de(I.expirationTime<=rt);if(rt=f.unstable_now(),typeof fe=="function"){I.callback=fe,gt(rt),Ct=!0;break e}I===C(A)&&y(A),gt(rt)}else y(A);I=C(A)}if(I!==null)Ct=!0;else{var Y=C(B);Y!==null&&Bt(At,Y.startTime-rt),Ct=!1}}break t}finally{I=null,x=zt,O=!1}Ct=void 0}}finally{Ct?qt():Dt=!1}}}var qt;if(typeof it=="function")qt=function(){it(Rt)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,H=le.port2;le.port1.onmessage=Rt,qt=function(){H.postMessage(null)}}else qt=function(){Q(Rt,0)};function Bt(rt,Ct){ht=Q(function(){rt(f.unstable_now())},Ct)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(rt){rt.callback=null},f.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):kt=0<rt?Math.floor(1e3/rt):5},f.unstable_getCurrentPriorityLevel=function(){return x},f.unstable_next=function(rt){switch(x){case 1:case 2:case 3:var Ct=3;break;default:Ct=x}var zt=x;x=Ct;try{return rt()}finally{x=zt}},f.unstable_requestPaint=function(){U=!0},f.unstable_runWithPriority=function(rt,Ct){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var zt=x;x=rt;try{return Ct()}finally{x=zt}},f.unstable_scheduleCallback=function(rt,Ct,zt){var de=f.unstable_now();switch(typeof zt=="object"&&zt!==null?(zt=zt.delay,zt=typeof zt=="number"&&0<zt?de+zt:de):zt=de,rt){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=zt+fe,rt={id:N++,callback:Ct,priorityLevel:rt,startTime:zt,expirationTime:fe,sortIndex:-1},zt>de?(rt.sortIndex=zt,b(B,rt),C(A)===null&&rt===C(B)&&(V?($(ht),ht=-1):V=!0,Bt(At,zt-de))):(rt.sortIndex=fe,b(A,rt),P||O||(P=!0,Dt||(Dt=!0,qt()))),rt},f.unstable_shouldYield=Mt,f.unstable_wrapCallback=function(rt){var Ct=x;return function(){var zt=x;x=Ct;try{return rt.apply(this,arguments)}finally{x=zt}}}})(Ab)),Ab}var _v;function WD(){return _v||(_v=1,wb.exports=QD()),wb.exports}var _b={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function $D(){if(Cv)return Zn;Cv=1;var f=zb();function b(A){var B="https://react.dev/errors/"+A;if(1<arguments.length){B+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)B+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+A+"; visit "+B+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function C(){}var y={d:{f:C,r:function(){throw Error(b(522))},D:C,C,L:C,m:C,X:C,S:C,M:C},p:0,findDOMNode:null},D=Symbol.for("react.portal");function j(A,B,N){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:I==null?null:""+I,children:A,containerInfo:B,implementation:N}}var M=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function S(A,B){if(A==="font")return"";if(typeof B=="string")return B==="use-credentials"?B:""}return Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=y,Zn.createPortal=function(A,B){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!B||B.nodeType!==1&&B.nodeType!==9&&B.nodeType!==11)throw Error(b(299));return j(A,B,null,N)},Zn.flushSync=function(A){var B=M.T,N=y.p;try{if(M.T=null,y.p=2,A)return A()}finally{M.T=B,y.p=N,y.d.f()}},Zn.preconnect=function(A,B){typeof A=="string"&&(B?(B=B.crossOrigin,B=typeof B=="string"?B==="use-credentials"?B:"":void 0):B=null,y.d.C(A,B))},Zn.prefetchDNS=function(A){typeof A=="string"&&y.d.D(A)},Zn.preinit=function(A,B){if(typeof A=="string"&&B&&typeof B.as=="string"){var N=B.as,I=S(N,B.crossOrigin),x=typeof B.integrity=="string"?B.integrity:void 0,O=typeof B.fetchPriority=="string"?B.fetchPriority:void 0;N==="style"?y.d.S(A,typeof B.precedence=="string"?B.precedence:void 0,{crossOrigin:I,integrity:x,fetchPriority:O}):N==="script"&&y.d.X(A,{crossOrigin:I,integrity:x,fetchPriority:O,nonce:typeof B.nonce=="string"?B.nonce:void 0})}},Zn.preinitModule=function(A,B){if(typeof A=="string")if(typeof B=="object"&&B!==null){if(B.as==null||B.as==="script"){var N=S(B.as,B.crossOrigin);y.d.M(A,{crossOrigin:N,integrity:typeof B.integrity=="string"?B.integrity:void 0,nonce:typeof B.nonce=="string"?B.nonce:void 0})}}else B==null&&y.d.M(A)},Zn.preload=function(A,B){if(typeof A=="string"&&typeof B=="object"&&B!==null&&typeof B.as=="string"){var N=B.as,I=S(N,B.crossOrigin);y.d.L(A,N,{crossOrigin:I,integrity:typeof B.integrity=="string"?B.integrity:void 0,nonce:typeof B.nonce=="string"?B.nonce:void 0,type:typeof B.type=="string"?B.type:void 0,fetchPriority:typeof B.fetchPriority=="string"?B.fetchPriority:void 0,referrerPolicy:typeof B.referrerPolicy=="string"?B.referrerPolicy:void 0,imageSrcSet:typeof B.imageSrcSet=="string"?B.imageSrcSet:void 0,imageSizes:typeof B.imageSizes=="string"?B.imageSizes:void 0,media:typeof B.media=="string"?B.media:void 0})}},Zn.preloadModule=function(A,B){if(typeof A=="string")if(B){var N=S(B.as,B.crossOrigin);y.d.m(A,{as:typeof B.as=="string"&&B.as!=="script"?B.as:void 0,crossOrigin:N,integrity:typeof B.integrity=="string"?B.integrity:void 0})}else y.d.m(A)},Zn.requestFormReset=function(A){y.d.r(A)},Zn.unstable_batchedUpdates=function(A,B){return A(B)},Zn.useFormState=function(A,B,N){return M.H.useFormState(A,B,N)},Zn.useFormStatus=function(){return M.H.useHostTransitionStatus()},Zn.version="19.2.0",Zn}var vv;function ZD(){if(vv)return _b.exports;vv=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(b){console.error(b)}}return f(),_b.exports=$D(),_b.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function JD(){if(yv)return vm;yv=1;var f=WD(),b=zb(),C=ZD();function y(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function D(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function j(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function M(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function S(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function A(r){if(j(r)!==r)throw Error(y(188))}function B(r){var a=r.alternate;if(!a){if(a=j(r),a===null)throw Error(y(188));return a!==r?null:r}for(var c=r,h=a;;){var p=c.return;if(p===null)break;var w=p.alternate;if(w===null){if(h=p.return,h!==null){c=h;continue}break}if(p.child===w.child){for(w=p.child;w;){if(w===c)return A(p),r;if(w===h)return A(p),a;w=w.sibling}throw Error(y(188))}if(c.return!==h.return)c=p,h=w;else{for(var T=!1,R=p.child;R;){if(R===c){T=!0,c=p,h=w;break}if(R===h){T=!0,h=p,c=w;break}R=R.sibling}if(!T){for(R=w.child;R;){if(R===c){T=!0,c=w,h=p;break}if(R===h){T=!0,h=w,c=p;break}R=R.sibling}if(!T)throw Error(y(189))}}if(c.alternate!==h)throw Error(y(190))}if(c.tag!==3)throw Error(y(188));return c.stateNode.current===c?r:a}function N(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=N(r),a!==null)return a;r=r.sibling}return null}var I=Object.assign,x=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),it=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),At=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),ht=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),_t=Symbol.for("react.activity"),Mt=Symbol.for("react.memo_cache_sentinel"),Rt=Symbol.iterator;function qt(r){return r===null||typeof r!="object"?null:(r=Rt&&r[Rt]||r["@@iterator"],typeof r=="function"?r:null)}var le=Symbol.for("react.client.reference");function H(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===le?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case V:return"Fragment";case Q:return"Profiler";case U:return"StrictMode";case At:return"Suspense";case Dt:return"SuspenseList";case _t:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case P:return"Portal";case it:return r.displayName||"Context";case $:return(r._context.displayName||"Context")+".Consumer";case gt:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ht:return a=r.displayName||null,a!==null?a:H(r.type)||"Memo";case kt:a=r._payload,r=r._init;try{return H(r(a))}catch{}}return null}var Bt=Array.isArray,rt=b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ct=C.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,zt={pending:!1,data:null,method:null,action:null},de=[],fe=-1;function Y(r){return{current:r}}function dt(r){0>fe||(r.current=de[fe],de[fe]=null,fe--)}function wt(r,a){fe++,de[fe]=r.current,r.current=a}var xt=Y(null),yt=Y(null),Ut=Y(null),ne=Y(null);function Xe(r,a){switch(wt(Ut,a),wt(yt,r),wt(xt,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?Kh(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=Kh(a),r=fg(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}dt(xt),wt(xt,r)}function Te(){dt(xt),dt(yt),dt(Ut)}function Gi(r){r.memoizedState!==null&&wt(ne,r);var a=xt.current,c=fg(a,r.type);a!==c&&(wt(yt,r),wt(xt,c))}function lo(r){yt.current===r&&(dt(xt),dt(yt)),ne.current===r&&(dt(ne),Ze._currentValue=zt)}var Uo,xe;function Bi(r){if(Uo===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Uo=a&&a[1]||"",xe=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Uo+r+xe}var jr=!1;function Pr(r,a){if(!r||jr)return"";jr=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(ot){var et=ot}Reflect.construct(r,[],ut)}else{try{ut.call()}catch(ot){et=ot}r.call(ut.prototype)}}else{try{throw Error()}catch(ot){et=ot}(ut=r())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(ot){if(ot&&et&&typeof ot.stack=="string")return[ot.stack,et.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),T=w[0],R=w[1];if(T&&R){var q=T.split(`
`),tt=R.split(`
`);for(p=h=0;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;for(;p<tt.length&&!tt[p].includes("DetermineComponentFrameRoot");)p++;if(h===q.length||p===tt.length)for(h=q.length-1,p=tt.length-1;1<=h&&0<=p&&q[h]!==tt[p];)p--;for(;1<=h&&0<=p;h--,p--)if(q[h]!==tt[p]){if(h!==1||p!==1)do if(h--,p--,0>p||q[h]!==tt[p]){var st=`
`+q[h].replace(" at new "," at ");return r.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",r.displayName)),st}while(1<=h&&0<=p);break}}}finally{jr=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?Bi(c):""}function Fr(r,a){switch(r.tag){case 26:case 27:case 5:return Bi(r.type);case 16:return Bi("Lazy");case 13:return r.child!==a&&a!==null?Bi("Suspense Fallback"):Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return Pr(r.type,!1);case 11:return Pr(r.type.render,!1);case 1:return Pr(r.type,!0);case 31:return Bi("Activity");default:return""}}function Yd(r){try{var a="",c=null;do a+=Fr(r,c),c=r,r=r.return;while(r);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var uc=Object.prototype.hasOwnProperty,ge=f.unstable_scheduleCallback,Ua=f.unstable_cancelCallback,Mp=f.unstable_shouldYield,Bp=f.unstable_requestPaint,On=f.unstable_now,Im=f.unstable_getCurrentPriorityLevel,Nm=f.unstable_ImmediatePriority,hc=f.unstable_UserBlockingPriority,sn=f.unstable_NormalPriority,ti=f.unstable_LowPriority,Qd=f.unstable_IdlePriority,Ip=f.log,Ii=f.unstable_setDisableYieldValue,Ln=null,Rn=null;function Ho(r){if(typeof Ip=="function"&&Ii(r),Rn&&typeof Rn.setStrictMode=="function")try{Rn.setStrictMode(Ln,r)}catch{}}var ei=Math.clz32?Math.clz32:zp,Ha=Math.log,Np=Math.LN2;function zp(r){return r>>>=0,r===0?32:31-(Ha(r)/Np|0)|0}var mc=256,qa=262144,Ni=4194304;function tn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Dn(r,a,c){var h=r.pendingLanes;if(h===0)return 0;var p=0,w=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var R=h&134217727;return R!==0?(h=R&~w,h!==0?p=tn(h):(T&=R,T!==0?p=tn(T):c||(c=R&~r,c!==0&&(p=tn(c))))):(R=h&~w,R!==0?p=tn(R):T!==0?p=tn(T):c||(c=h&~r,c!==0&&(p=tn(c)))),p===0?0:a!==0&&a!==p&&(a&w)===0&&(w=p&-p,c=a&-a,w>=c||w===32&&(c&4194048)!==0)?a:p}function Ms(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function ki(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wd(){var r=Ni;return Ni<<=1,(Ni&62914560)===0&&(Ni=4194304),r}function Ga(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function Ka(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Op(r,a,c,h,p,w){var T=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var R=r.entanglements,q=r.expirationTimes,tt=r.hiddenUpdates;for(c=T&~c;0<c;){var st=31-ei(c),ut=1<<st;R[st]=0,q[st]=-1;var et=tt[st];if(et!==null)for(tt[st]=null,st=0;st<et.length;st++){var ot=et[st];ot!==null&&(ot.lane&=-536870913)}c&=~ut}h!==0&&$d(r,h,0),w!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=w&~(T&~a))}function $d(r,a,c){r.pendingLanes|=a,r.suspendedLanes&=~a;var h=31-ei(a);r.entangledLanes|=a,r.entanglements[h]=r.entanglements[h]|1073741824|c&261930}function zm(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var h=31-ei(c),p=1<<h;p&a|r[h]&a&&(r[h]|=a),c&=~p}}function Om(r,a){var c=a&-a;return c=(c&42)!==0?1:Sn(c),(c&(r.suspendedLanes|a))!==0?0:c}function Sn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Zd(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Bs(){var r=Ct.p;return r!==0?r:(r=window.event,r===void 0?32:Zl(r.type))}function Ya(r,a){var c=Ct.p;try{return Ct.p=r,a()}finally{Ct.p=c}}var qo=Math.random().toString(36).slice(2),gn="__reactFiber$"+qo,jn="__reactProps$"+qo,Is="__reactContainer$"+qo,Jd="__reactEvents$"+qo,Ns="__reactListeners$"+qo,fc="__reactHandles$"+qo,Lm="__reactResources$"+qo,Qa="__reactMarker$"+qo;function Xd(r){delete r[gn],delete r[jn],delete r[Jd],delete r[Ns],delete r[fc]}function zs(r){var a=r[gn];if(a)return a;for(var c=r.parentNode;c;){if(a=c[Is]||c[gn]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=Xh(r);r!==null;){if(c=r[gn])return c;r=Xh(r)}return a}r=c,c=r.parentNode}return null}function bi(r){if(r=r[gn]||r[Is]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function Vr(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(y(33))}function Ur(r){var a=r[Lm];return a||(a=r[Lm]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function an(r){r[Qa]=!0}var Rm=new Set,Go={};function Hr(r,a){Os(r,a),Os(r+"Capture",a)}function Os(r,a){for(Go[r]=a,r=0;r<a.length;r++)Rm.add(a[r])}var Lp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jm={},Pm={};function Rp(r){return uc.call(Pm,r)?!0:uc.call(jm,r)?!1:Lp.test(r)?Pm[r]=!0:(jm[r]=!0,!1)}function gc(r,a,c){if(Rp(a))if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+c)}}function pc(r,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+c)}}function Tn(r,a,c,h){if(h===null)r.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(a,c,""+h)}}function yn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ls(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function jp(r,a,c){var h=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var p=h.get,w=h.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return p.call(this)},set:function(T){c=""+T,w.call(this,T)}}),Object.defineProperty(r,a,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function tu(r){if(!r._valueTracker){var a=Ls(r)?"checked":"value";r._valueTracker=jp(r,a,""+r[a])}}function Fm(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return r&&(h=Ls(r)?r.checked?"true":"false":r.value),r=h,r!==c?(a.setValue(r),!0):!1}function kc(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Pp=/[\n"\\]/g;function wi(r){return r.replace(Pp,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function eu(r,a,c,h,p,w,T,R){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),a!=null?T==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+yn(a)):r.value!==""+yn(a)&&(r.value=""+yn(a)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),a!=null?bc(r,T,yn(a)):c!=null?bc(r,T,yn(c)):h!=null&&r.removeAttribute("value"),p==null&&w!=null&&(r.defaultChecked=!!w),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+yn(R):r.removeAttribute("name")}function qr(r,a,c,h,p,w,T,R){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),a!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||a!=null)){tu(r);return}c=c!=null?""+yn(c):"",a=a!=null?""+yn(a):c,R||a===r.value||(r.value=a),r.defaultValue=a}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=R?r.checked:!!h,r.defaultChecked=!!h,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T),tu(r)}function bc(r,a,c){a==="number"&&kc(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Rs(r,a,c,h){if(r=r.options,a){a={};for(var p=0;p<c.length;p++)a["$"+c[p]]=!0;for(c=0;c<r.length;c++)p=a.hasOwnProperty("$"+r[c].value),r[c].selected!==p&&(r[c].selected=p),p&&h&&(r[c].defaultSelected=!0)}else{for(c=""+yn(c),a=null,p=0;p<r.length;p++){if(r[p].value===c){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}a!==null||r[p].disabled||(a=r[p])}a!==null&&(a.selected=!0)}}function Vm(r,a,c){if(a!=null&&(a=""+yn(a),a!==r.value&&(r.value=a),c==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=c!=null?""+yn(c):""}function Wa(r,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(y(92));if(Bt(h)){if(1<h.length)throw Error(y(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=yn(a),r.defaultValue=c,h=r.textContent,h===c&&h!==""&&h!==null&&(r.value=h),tu(r)}function js(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var Fp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Um(r,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":h?r.setProperty(a,c):typeof c!="number"||c===0||Fp.has(a)?a==="float"?r.cssFloat=c:r[a]=(""+c).trim():r[a]=c+"px"}function Hm(r,a,c){if(a!=null&&typeof a!="object")throw Error(y(62));if(r=r.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var p in a)h=a[p],a.hasOwnProperty(p)&&c[p]!==h&&Um(r,p,h)}else for(var w in a)a.hasOwnProperty(w)&&Um(r,w,a[w])}function Ko(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(r){return Vp.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Pn(){}var nu=null;function Ps(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var uo=null,Fs=null;function Ac(r){var a=bi(r);if(a&&(r=a.stateNode)){var c=r[jn]||null;t:switch(r=a.stateNode,a.type){case"input":if(eu(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+wi(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==r&&h.form===r.form){var p=h[jn]||null;if(!p)throw Error(y(90));eu(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===r.form&&Fm(h)}break t;case"textarea":Vm(r,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&Rs(r,!!c.multiple,a,!1)}}}var Yo=!1;function qm(r,a,c){if(Yo)return r(a,c);Yo=!0;try{var h=r(a);return h}finally{if(Yo=!1,(uo!==null||Fs!==null)&&(ad(),uo&&(a=uo,r=Fs,Fs=uo=null,Ac(a),r)))for(a=0;a<r.length;a++)Ac(r[a])}}function Vs(r,a){var c=r.stateNode;if(c===null)return null;var h=c[jn]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break t;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(y(231,a,typeof c));return c}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iu=!1;if(Ki)try{var $a={};Object.defineProperty($a,"passive",{get:function(){iu=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{iu=!1}var zi=null,ou=null,Za=null;function ru(){if(Za)return Za;var r,a=ou,c=a.length,h,p="value"in zi?zi.value:zi.textContent,w=p.length;for(r=0;r<c&&a[r]===p[r];r++);var T=c-r;for(h=1;h<=T&&a[c-h]===p[w-h];h++);return Za=p.slice(r,1<h?1-h:void 0)}function Ja(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Qo(){return!0}function Gm(){return!1}function pn(r){function a(c,h,p,w,T){this._reactName=c,this._targetInst=p,this.type=h,this.nativeEvent=w,this.target=T,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(c=r[R],this[R]=c?c(w):w[R]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Qo:Gm,this.isPropagationStopped=Gm,this}return I(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),a}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ce=pn(ho),Xa=I({},ho,{view:0,detail:0}),su=pn(Xa),_c,Gr,Kr,mo=I({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Kr&&(Kr&&r.type==="mousemove"?(_c=r.screenX-Kr.screenX,Gr=r.screenY-Kr.screenY):Gr=_c=0,Kr=r),_c)},movementY:function(r){return"movementY"in r?r.movementY:Gr}}),au=pn(mo),lu=I({},mo,{dataTransfer:0}),Up=pn(lu),Km=I({},Xa,{relatedTarget:0}),cu=pn(Km),du=I({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),Hp=pn(du),qp=I({},ho,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Gp=pn(qp),Cc=I({},ho,{data:0}),Us=pn(Cc),Kp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wp(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Qp[r])?!!a[r]:!1}function Wo(){return Wp}var $p=I({},Xa,{key:function(r){if(r.key){var a=Kp[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Ja(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Yp[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wo,charCode:function(r){return r.type==="keypress"?Ja(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ja(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ym=pn($p),Qm=I({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uu=pn(Qm),Wm=I({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wo}),$m=pn(Wm),Zm=I({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zp=pn(Zm),Jm=I({},mo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Jp=pn(Jm),Xm=I({},ho,{newState:0,oldState:0}),hu=pn(Xm),Xp=[9,13,27,32],vc=Ki&&"CompositionEvent"in window,Hs=null;Ki&&"documentMode"in document&&(Hs=document.documentMode);var tk=Ki&&"TextEvent"in window&&!Hs,mu=Ki&&(!vc||Hs&&8<Hs&&11>=Hs),yc=" ",tf=!1;function xc(r,a){switch(r){case"keyup":return Xp.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ec(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var $o=!1;function fu(r,a){switch(r){case"compositionend":return Ec(a);case"keypress":return a.which!==32?null:(tf=!0,yc);case"textInput":return r=a.data,r===yc&&tf?null:r;default:return null}}function ef(r,a){if($o)return r==="compositionend"||!vc&&xc(r,a)?(r=ru(),Za=ou=zi=null,$o=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return mu&&a.locale!=="ko"?null:a.data;default:return null}}var nf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gu(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!nf[r.type]:a==="textarea"}function pu(r,a,c,h){uo?Fs?Fs.push(h):Fs=[h]:uo=h,a=gd(a,"onChange"),0<a.length&&(c=new Ce("onChange","change",null,c,h),r.push({event:c,listeners:a}))}var qs=null,tl=null;function ek(r){jh(r,0)}function Dc(r){var a=Vr(r);if(Fm(a))return r}function of(r,a){if(r==="change")return a}var rf=!1;if(Ki){var fo;if(Ki){var Yr="oninput"in document;if(!Yr){var sf=document.createElement("div");sf.setAttribute("oninput","return;"),Yr=typeof sf.oninput=="function"}fo=Yr}else fo=!1;rf=fo&&(!document.documentMode||9<document.documentMode)}function af(){qs&&(qs.detachEvent("onpropertychange",el),tl=qs=null)}function el(r){if(r.propertyName==="value"&&Dc(tl)){var a=[];pu(a,tl,r,Ps(r)),qm(ek,a)}}function ku(r,a,c){r==="focusin"?(af(),qs=a,tl=c,qs.attachEvent("onpropertychange",el)):r==="focusout"&&af()}function nk(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Dc(tl)}function ik(r,a){if(r==="click")return Dc(a)}function ok(r,a){if(r==="input"||r==="change")return Dc(a)}function lf(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Fn=typeof Object.is=="function"?Object.is:lf;function nl(r,a){if(Fn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var p=c[h];if(!uc.call(a,p)||!Fn(r[p],a[p]))return!1}return!0}function bu(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function cf(r,a){var c=bu(r);r=0;for(var h;c;){if(c.nodeType===3){if(h=r+c.textContent.length,r<=a&&h>=a)return{node:c,offset:a-r};r=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=bu(c)}}function wu(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?wu(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function df(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=kc(r.document);a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=kc(r.document)}return a}function Sc(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var rk=Ki&&"documentMode"in document&&11>=document.documentMode,Qr=null,Au=null,il=null,Tc=!1;function uf(r,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Tc||Qr==null||Qr!==kc(h)||(h=Qr,"selectionStart"in h&&Sc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),il&&nl(il,h)||(il=h,h=gd(Au,"onSelect"),0<h.length&&(a=new Ce("onSelect","select",null,a,c),r.push({event:a,listeners:h}),a.target=Qr)))}function Zo(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var Wr={animationend:Zo("Animation","AnimationEnd"),animationiteration:Zo("Animation","AnimationIteration"),animationstart:Zo("Animation","AnimationStart"),transitionrun:Zo("Transition","TransitionRun"),transitionstart:Zo("Transition","TransitionStart"),transitioncancel:Zo("Transition","TransitionCancel"),transitionend:Zo("Transition","TransitionEnd")},Mc={},Ee={};Ki&&(Ee=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function go(r){if(Mc[r])return Mc[r];if(!Wr[r])return r;var a=Wr[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in Ee)return Mc[r]=a[c];return r}var Bc=go("animationend"),Jo=go("animationiteration"),_u=go("animationstart"),hf=go("transitionrun"),sk=go("transitionstart"),Xo=go("transitioncancel"),ol=go("transitionend"),Cu=new Map,Vn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vn.push("scrollEnd");function Oi(r,a){Cu.set(r,a),Hr(a,[r])}var rl=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},ni=[],Me=0,Gs=0;function sl(){for(var r=Me,a=Gs=Me=0;a<r;){var c=ni[a];ni[a++]=null;var h=ni[a];ni[a++]=null;var p=ni[a];ni[a++]=null;var w=ni[a];if(ni[a++]=null,h!==null&&p!==null){var T=h.pending;T===null?p.next=p:(p.next=T.next,T.next=p),h.pending=p}w!==0&&vu(c,p,w)}}function al(r,a,c,h){ni[Me++]=r,ni[Me++]=a,ni[Me++]=c,ni[Me++]=h,Gs|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function Kt(r,a,c,h){return al(r,a,c,h),Ks(r)}function Yi(r,a){return al(r,null,null,a),Ks(r)}function vu(r,a,c){r.lanes|=c;var h=r.alternate;h!==null&&(h.lanes|=c);for(var p=!1,w=r.return;w!==null;)w.childLanes|=c,h=w.alternate,h!==null&&(h.childLanes|=c),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(p=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,p&&a!==null&&(p=31-ei(c),r=w.hiddenUpdates,h=r[p],h===null?r[p]=[a]:h.push(a),a.lane=c|536870912),w):null}function Ks(r){if(50<ba)throw ba=0,sd=null,Error(y(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var $r={};function Re(r,a,c,h){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(r,a,c,h){return new Re(r,a,c,h)}function Zr(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ii(r,a){var c=r.alternate;return c===null?(c=Un(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function yu(r,a){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,a=c.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function tr(r,a,c,h,p,w){var T=0;if(h=r,typeof r=="function")Zr(r)&&(T=1);else if(typeof r=="string")T=Sk(r,c,xt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case _t:return r=Un(31,c,a,p),r.elementType=_t,r.lanes=w,r;case V:return oi(c.children,p,w,a);case U:T=8,p|=24;break;case Q:return r=Un(12,c,a,p|2),r.elementType=Q,r.lanes=w,r;case At:return r=Un(13,c,a,p),r.elementType=At,r.lanes=w,r;case Dt:return r=Un(19,c,a,p),r.elementType=Dt,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case it:T=10;break t;case $:T=9;break t;case gt:T=11;break t;case ht:T=14;break t;case kt:T=16,h=null;break t}T=29,c=Error(y(130,r===null?"null":typeof r,"")),h=null}return a=Un(T,c,a,p),a.elementType=r,a.type=h,a.lanes=w,a}function oi(r,a,c,h){return r=Un(7,r,h,a),r.lanes=c,r}function ll(r,a,c){return r=Un(6,r,null,a),r.lanes=c,r}function xu(r){var a=Un(18,null,null,0);return a.stateNode=r,a}function Ic(r,a,c){return a=Un(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Eu=new WeakMap;function Ai(r,a){if(typeof r=="object"&&r!==null){var c=Eu.get(r);return c!==void 0?c:(a={value:r,source:a,stack:Yd(a)},Eu.set(r,a),a)}return{value:r,source:a,stack:Yd(a)}}var Ys=[],Jr=0,cl=null,Qs=0,ri=[],Hn=0,er=null,Li=1,Qi="";function po(r,a){Ys[Jr++]=Qs,Ys[Jr++]=cl,cl=r,Qs=a}function Du(r,a,c){ri[Hn++]=Li,ri[Hn++]=Qi,ri[Hn++]=er,er=r;var h=Li;r=Qi;var p=32-ei(h)-1;h&=~(1<<p),c+=1;var w=32-ei(a)+p;if(30<w){var T=p-p%5;w=(h&(1<<T)-1).toString(32),h>>=T,p-=T,Li=1<<32-ei(a)+p|c<<p|h,Qi=w+r}else Li=1<<w|c<<p|h,Qi=r}function $t(r){r.return!==null&&(po(r,1),Du(r,1,0))}function Su(r){for(;r===cl;)cl=Ys[--Jr],Ys[Jr]=null,Qs=Ys[--Jr],Ys[Jr]=null;for(;r===er;)er=ri[--Hn],ri[Hn]=null,Qi=ri[--Hn],ri[Hn]=null,Li=ri[--Hn],ri[Hn]=null}function Xr(r,a){ri[Hn++]=Li,ri[Hn++]=Qi,ri[Hn++]=er,Li=a.id,Qi=a.overflow,er=r}var en=null,ve=null,Zt=!1,nr=null,Yt=!1,dl=Error(y(519));function ko(r){var a=Error(y(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _i(Ai(a,r)),dl}function mf(r){var a=r.stateNode,c=r.type,h=r.memoizedProps;switch(a[gn]=r,a[jn]=h,c){case"dialog":Jt("cancel",a),Jt("close",a);break;case"iframe":case"object":case"embed":Jt("load",a);break;case"video":case"audio":for(c=0;c<xr.length;c++)Jt(xr[c],a);break;case"source":Jt("error",a);break;case"img":case"image":case"link":Jt("error",a),Jt("load",a);break;case"details":Jt("toggle",a);break;case"input":Jt("invalid",a),qr(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Jt("invalid",a);break;case"textarea":Jt("invalid",a),Wa(a,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||Hh(a.textContent,c)?(h.popover!=null&&(Jt("beforetoggle",a),Jt("toggle",a)),h.onScroll!=null&&Jt("scroll",a),h.onScrollEnd!=null&&Jt("scrollend",a),h.onClick!=null&&(a.onclick=Pn),a=!0):a=!1,a||ko(r,!0)}function Tu(r){for(en=r.return;en;)switch(en.tag){case 5:case 31:case 13:Yt=!1;return;case 27:case 3:Yt=!0;return;default:en=en.return}}function Ws(r){if(r!==en)return!1;if(!Zt)return Tu(r),Zt=!0,!1;var a=r.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||Yh(r.type,r.memoizedProps)),c=!c),c&&ve&&ko(r),Tu(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(y(317));ve=kg(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(y(317));ve=kg(r)}else a===27?(a=ve,Er(r.type)?(r=Jh,Jh=null,ve=r):ve=a):ve=en?En(r.stateNode.nextSibling):null;return!0}function ts(){ve=en=null,Zt=!1}function Mu(){var r=nr;return r!==null&&(Yn===null?Yn=r:Yn.push.apply(Yn,r),nr=null),r}function _i(r){nr===null?nr=[r]:nr.push(r)}var Bu=Y(null),ir=null,bo=null;function or(r,a,c){wt(Bu,a._currentValue),a._currentValue=c}function wo(r){r._currentValue=Bu.current,dt(Bu)}function Iu(r,a,c){for(;r!==null;){var h=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),r===c)break;r=r.return}}function ff(r,a,c,h){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var w=p.dependencies;if(w!==null){var T=p.child;w=w.firstContext;t:for(;w!==null;){var R=w;w=p;for(var q=0;q<a.length;q++)if(R.context===a[q]){w.lanes|=c,R=w.alternate,R!==null&&(R.lanes|=c),Iu(w.return,c,r),h||(T=null);break t}w=R.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(y(341));T.lanes|=c,w=T.alternate,w!==null&&(w.lanes|=c),Iu(T,c,r),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===r){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function $s(r,a,c,h){r=null;for(var p=a,w=!1;p!==null;){if(!w){if((p.flags&524288)!==0)w=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(y(387));if(T=T.memoizedProps,T!==null){var R=p.type;Fn(p.pendingProps.value,T.value)||(r!==null?r.push(R):r=[R])}}else if(p===ne.current){if(T=p.alternate,T===null)throw Error(y(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Ze):r=[Ze])}p=p.return}r!==null&&ff(a,r,c,h),a.flags|=262144}function Nc(r){for(r=r.firstContext;r!==null;){if(!Fn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function es(r){ir=r,bo=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ln(r){return gf(ir,r)}function Zs(r,a){return ir===null&&es(r),gf(r,a)}function gf(r,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},bo===null){if(r===null)throw Error(y(308));bo=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else bo=bo.next=a;return c}var ak=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(c,h){r.push(h)}};this.abort=function(){a.aborted=!0,r.forEach(function(c){return c()})}},pf=f.unstable_scheduleCallback,lk=f.unstable_NormalPriority,pe={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ye(){return{controller:new ak,data:new Map,refCount:0}}function Qe(r){r.refCount--,r.refCount===0&&pf(lk,function(){r.controller.abort()})}var cn=null,Ci=0,rr=0,sr=null;function Nu(r,a){if(cn===null){var c=cn=[];Ci=0,rr=md(),sr={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Ci++,a.then(kf,kf),a}function kf(){if(--Ci===0&&cn!==null){sr!==null&&(sr.status="fulfilled");var r=cn;cn=null,rr=0,sr=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function bf(r,a){var c=[],h={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return r.then(function(){h.status="fulfilled",h.value=a;for(var p=0;p<c.length;p++)(0,c[p])(a)},function(p){for(h.status="rejected",h.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),h}var wf=rt.S;rt.S=function(r,a){xh=On(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Nu(r,a),wf!==null&&wf(r,a)};var kn=Y(null);function si(){var r=kn.current;return r!==null?r:me.pooledCache}function ar(r,a){a===null?wt(kn,kn.current):wt(kn,a.pool)}function Af(){var r=si();return r===null?null:{parent:pe._currentValue,pool:r}}var ns=Error(y(460)),Js=Error(y(474)),ul=Error(y(542)),zc={then:function(){}};function _f(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Cf(r,a,c){switch(c=r[c],c===void 0?r.push(a):c!==a&&(a.then(Pn,Pn),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Ou(r),r;default:if(typeof a.status=="string")a.then(Pn,Pn);else{if(r=me,r!==null&&100<r.shellSuspendCounter)throw Error(y(482));r=a,r.status="pending",r.then(function(h){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=h}},function(h){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Ou(r),r}throw cr=a,ns}}function lr(r){try{var a=r._init;return a(r._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(cr=c,ns):c}}var cr=null;function zu(){if(cr===null)throw Error(y(459));var r=cr;return cr=null,r}function Ou(r){if(r===ns||r===ul)throw Error(y(483))}var is=null,Xs=0;function Ao(r){var a=Xs;return Xs+=1,is===null&&(is=[]),Cf(is,r,a)}function dr(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function ta(r,a){throw a.$$typeof===x?Error(y(525)):(r=Object.prototype.toString.call(a),Error(y(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Oc(r){function a(W,K){if(r){var J=W.deletions;J===null?(W.deletions=[K],W.flags|=16):J.push(K)}}function c(W,K){if(!r)return null;for(;K!==null;)a(W,K),K=K.sibling;return null}function h(W){for(var K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function p(W,K){return W=ii(W,K),W.index=0,W.sibling=null,W}function w(W,K,J){return W.index=J,r?(J=W.alternate,J!==null?(J=J.index,J<K?(W.flags|=67108866,K):J):(W.flags|=67108866,K)):(W.flags|=1048576,K)}function T(W){return r&&W.alternate===null&&(W.flags|=67108866),W}function R(W,K,J,ct){return K===null||K.tag!==6?(K=ll(J,W.mode,ct),K.return=W,K):(K=p(K,J),K.return=W,K)}function q(W,K,J,ct){var Nt=J.type;return Nt===V?st(W,K,J.props.children,ct,J.key):K!==null&&(K.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===kt&&lr(Nt)===K.type)?(K=p(K,J.props),dr(K,J),K.return=W,K):(K=tr(J.type,J.key,J.props,null,W.mode,ct),dr(K,J),K.return=W,K)}function tt(W,K,J,ct){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=Ic(J,W.mode,ct),K.return=W,K):(K=p(K,J.children||[]),K.return=W,K)}function st(W,K,J,ct,Nt){return K===null||K.tag!==7?(K=oi(J,W.mode,ct,Nt),K.return=W,K):(K=p(K,J),K.return=W,K)}function ut(W,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=ll(""+K,W.mode,J),K.return=W,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case O:return J=tr(K.type,K.key,K.props,null,W.mode,J),dr(J,K),J.return=W,J;case P:return K=Ic(K,W.mode,J),K.return=W,K;case kt:return K=lr(K),ut(W,K,J)}if(Bt(K)||qt(K))return K=oi(K,W.mode,J,null),K.return=W,K;if(typeof K.then=="function")return ut(W,Ao(K),J);if(K.$$typeof===it)return ut(W,Zs(W,K),J);ta(W,K)}return null}function et(W,K,J,ct){var Nt=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Nt!==null?null:R(W,K,""+J,ct);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case O:return J.key===Nt?q(W,K,J,ct):null;case P:return J.key===Nt?tt(W,K,J,ct):null;case kt:return J=lr(J),et(W,K,J,ct)}if(Bt(J)||qt(J))return Nt!==null?null:st(W,K,J,ct,null);if(typeof J.then=="function")return et(W,K,Ao(J),ct);if(J.$$typeof===it)return et(W,K,Zs(W,J),ct);ta(W,J)}return null}function ot(W,K,J,ct,Nt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return W=W.get(J)||null,R(K,W,""+ct,Nt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case O:return W=W.get(ct.key===null?J:ct.key)||null,q(K,W,ct,Nt);case P:return W=W.get(ct.key===null?J:ct.key)||null,tt(K,W,ct,Nt);case kt:return ct=lr(ct),ot(W,K,J,ct,Nt)}if(Bt(ct)||qt(ct))return W=W.get(J)||null,st(K,W,ct,Nt,null);if(typeof ct.then=="function")return ot(W,K,J,Ao(ct),Nt);if(ct.$$typeof===it)return ot(W,K,J,Zs(K,ct),Nt);ta(K,ct)}return null}function Et(W,K,J,ct){for(var Nt=null,se=null,Tt=K,Ft=K=0,Wt=null;Tt!==null&&Ft<J.length;Ft++){Tt.index>Ft?(Wt=Tt,Tt=null):Wt=Tt.sibling;var ae=et(W,Tt,J[Ft],ct);if(ae===null){Tt===null&&(Tt=Wt);break}r&&Tt&&ae.alternate===null&&a(W,Tt),K=w(ae,K,Ft),se===null?Nt=ae:se.sibling=ae,se=ae,Tt=Wt}if(Ft===J.length)return c(W,Tt),Zt&&po(W,Ft),Nt;if(Tt===null){for(;Ft<J.length;Ft++)Tt=ut(W,J[Ft],ct),Tt!==null&&(K=w(Tt,K,Ft),se===null?Nt=Tt:se.sibling=Tt,se=Tt);return Zt&&po(W,Ft),Nt}for(Tt=h(Tt);Ft<J.length;Ft++)Wt=ot(Tt,W,Ft,J[Ft],ct),Wt!==null&&(r&&Wt.alternate!==null&&Tt.delete(Wt.key===null?Ft:Wt.key),K=w(Wt,K,Ft),se===null?Nt=Wt:se.sibling=Wt,se=Wt);return r&&Tt.forEach(function(Br){return a(W,Br)}),Zt&&po(W,Ft),Nt}function Ot(W,K,J,ct){if(J==null)throw Error(y(151));for(var Nt=null,se=null,Tt=K,Ft=K=0,Wt=null,ae=J.next();Tt!==null&&!ae.done;Ft++,ae=J.next()){Tt.index>Ft?(Wt=Tt,Tt=null):Wt=Tt.sibling;var Br=et(W,Tt,ae.value,ct);if(Br===null){Tt===null&&(Tt=Wt);break}r&&Tt&&Br.alternate===null&&a(W,Tt),K=w(Br,K,Ft),se===null?Nt=Br:se.sibling=Br,se=Br,Tt=Wt}if(ae.done)return c(W,Tt),Zt&&po(W,Ft),Nt;if(Tt===null){for(;!ae.done;Ft++,ae=J.next())ae=ut(W,ae.value,ct),ae!==null&&(K=w(ae,K,Ft),se===null?Nt=ae:se.sibling=ae,se=ae);return Zt&&po(W,Ft),Nt}for(Tt=h(Tt);!ae.done;Ft++,ae=J.next())ae=ot(Tt,W,Ft,ae.value,ct),ae!==null&&(r&&ae.alternate!==null&&Tt.delete(ae.key===null?Ft:ae.key),K=w(ae,K,Ft),se===null?Nt=ae:se.sibling=ae,se=ae);return r&&Tt.forEach(function(Fg){return a(W,Fg)}),Zt&&po(W,Ft),Nt}function _e(W,K,J,ct){if(typeof J=="object"&&J!==null&&J.type===V&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case O:t:{for(var Nt=J.key;K!==null;){if(K.key===Nt){if(Nt=J.type,Nt===V){if(K.tag===7){c(W,K.sibling),ct=p(K,J.props.children),ct.return=W,W=ct;break t}}else if(K.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===kt&&lr(Nt)===K.type){c(W,K.sibling),ct=p(K,J.props),dr(ct,J),ct.return=W,W=ct;break t}c(W,K);break}else a(W,K);K=K.sibling}J.type===V?(ct=oi(J.props.children,W.mode,ct,J.key),ct.return=W,W=ct):(ct=tr(J.type,J.key,J.props,null,W.mode,ct),dr(ct,J),ct.return=W,W=ct)}return T(W);case P:t:{for(Nt=J.key;K!==null;){if(K.key===Nt)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){c(W,K.sibling),ct=p(K,J.children||[]),ct.return=W,W=ct;break t}else{c(W,K);break}else a(W,K);K=K.sibling}ct=Ic(J,W.mode,ct),ct.return=W,W=ct}return T(W);case kt:return J=lr(J),_e(W,K,J,ct)}if(Bt(J))return Et(W,K,J,ct);if(qt(J)){if(Nt=qt(J),typeof Nt!="function")throw Error(y(150));return J=Nt.call(J),Ot(W,K,J,ct)}if(typeof J.then=="function")return _e(W,K,Ao(J),ct);if(J.$$typeof===it)return _e(W,K,Zs(W,J),ct);ta(W,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(c(W,K.sibling),ct=p(K,J),ct.return=W,W=ct):(c(W,K),ct=ll(J,W.mode,ct),ct.return=W,W=ct),T(W)):c(W,K)}return function(W,K,J,ct){try{Xs=0;var Nt=_e(W,K,J,ct);return is=null,Nt}catch(Tt){if(Tt===ns||Tt===ul)throw Tt;var se=Un(29,Tt,null,W.mode);return se.lanes=ct,se.return=W,se}finally{}}}var ur=Oc(!0),Lu=Oc(!1),hr=!1;function pt(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lc(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function mr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function It(r,a,c){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(he&2)!==0){var p=h.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),h.pending=a,a=Ks(r),vu(r,null,c),a}return al(r,h,a,c),Ks(r)}function fr(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=r.pendingLanes,c|=h,a.lanes=c,zm(r,c)}}function hl(r,a){var c=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var p=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var T={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?p=w=T:w=w.next=T,c=c.next}while(c!==null);w===null?p=w=a:w=w.next=a}else p=w=a;c={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}var ea=!1;function ml(){if(ea){var r=sr;if(r!==null)throw r}}function ft(r,a,c,h){ea=!1;var p=r.updateQueue;hr=!1;var w=p.firstBaseUpdate,T=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var q=R,tt=q.next;q.next=null,T===null?w=tt:T.next=tt,T=q;var st=r.alternate;st!==null&&(st=st.updateQueue,R=st.lastBaseUpdate,R!==T&&(R===null?st.firstBaseUpdate=tt:R.next=tt,st.lastBaseUpdate=q))}if(w!==null){var ut=p.baseState;T=0,st=tt=q=null,R=w;do{var et=R.lane&-536870913,ot=et!==R.lane;if(ot?(te&et)===et:(h&et)===et){et!==0&&et===rr&&(ea=!0),st!==null&&(st=st.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Et=r,Ot=R;et=a;var _e=c;switch(Ot.tag){case 1:if(Et=Ot.payload,typeof Et=="function"){ut=Et.call(_e,ut,et);break t}ut=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Ot.payload,et=typeof Et=="function"?Et.call(_e,ut,et):Et,et==null)break t;ut=I({},ut,et);break t;case 2:hr=!0}}et=R.callback,et!==null&&(r.flags|=64,ot&&(r.flags|=8192),ot=p.callbacks,ot===null?p.callbacks=[et]:ot.push(et))}else ot={lane:et,tag:R.tag,payload:R.payload,callback:R.callback,next:null},st===null?(tt=st=ot,q=ut):st=st.next=ot,T|=et;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;ot=R,R=ot.next,ot.next=null,p.lastBaseUpdate=ot,p.shared.pending=null}}while(!0);st===null&&(q=ut),p.baseState=q,p.firstBaseUpdate=tt,p.lastBaseUpdate=st,w===null&&(p.shared.lanes=0),No|=T,r.lanes=T,r.memoizedState=ut}}function Ru(r,a){if(typeof r!="function")throw Error(y(191,r));r.call(a)}function Ht(r,a){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)Ru(c[r],a)}var os=Y(null),fl=Y(0);function ju(r,a){r=Ji,wt(fl,r),wt(os,a),Ji=r|a.baseLanes}function Rc(){wt(fl,Ji),wt(os,os.current)}function na(){Ji=fl.current,dt(os),dt(fl)}var ai=Y(null),li=null;function gr(r){var a=r.alternate;wt(je,je.current&1),wt(ai,r),li===null&&(a===null||os.current!==null||a.memoizedState!==null)&&(li=r)}function ia(r){wt(je,je.current),wt(ai,r),li===null&&(li=r)}function Pu(r){r.tag===22?(wt(je,je.current),wt(ai,r),li===null&&(li=r)):_o()}function _o(){wt(je,je.current),wt(ai,ai.current)}function ci(r){dt(ai),li===r&&(li=null),dt(je)}var je=Y(0);function gl(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Sa(c)||wd(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Co=0,Pt=null,Ae=null,Be=null,ue=!1,Mn=!1,xn=!1,pl=0,rs=0,vo=null,ck=0;function Pe(){throw Error(y(321))}function kl(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!Fn(r[c],a[c]))return!1;return!0}function bl(r,a,c,h,p,w){return Co=w,Pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,rt.H=r===null||r.memoizedState===null?Xu:Yc,xn=!1,w=c(h,p),xn=!1,Mn&&(w=yf(a,c,h,p)),vf(r),w}function vf(r){rt.H=da;var a=Ae!==null&&Ae.next!==null;if(Co=0,Be=Ae=Pt=null,ue=!1,rs=0,vo=null,a)throw Error(y(300));r===null||We||(r=r.dependencies,r!==null&&Nc(r)&&(We=!0))}function yf(r,a,c,h){Pt=r;var p=0;do{if(Mn&&(vo=null),rs=0,Mn=!1,25<=p)throw Error(y(301));if(p+=1,Be=Ae=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}rt.H=yi,w=a(c,h)}while(Mn);return w}function dk(){var r=rt.H,a=r.useState()[0];return a=typeof a.then=="function"?Al(a):a,r=r.useState()[0],(Ae!==null?Ae.memoizedState:null)!==r&&(Pt.flags|=1024),a}function Fu(){var r=pl!==0;return pl=0,r}function Vu(r,a,c){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~c}function Uu(r){if(ue){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}ue=!1}Co=0,Be=Ae=Pt=null,Mn=!1,rs=pl=0,vo=null}function Bn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Pt.memoizedState=Be=r:Be=Be.next=r,Be}function Fe(){if(Ae===null){var r=Pt.alternate;r=r!==null?r.memoizedState:null}else r=Ae.next;var a=Be===null?Pt.memoizedState:Be.next;if(a!==null)Be=a,Ae=r;else{if(r===null)throw Pt.alternate===null?Error(y(467)):Error(y(310));Ae=r,r={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Be===null?Pt.memoizedState=Be=r:Be=Be.next=r}return Be}function wl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(r){var a=rs;return rs+=1,vo===null&&(vo=[]),r=Cf(vo,r,a),a=Pt,(Be===null?a.memoizedState:Be.next)===null&&(a=a.alternate,rt.H=a===null||a.memoizedState===null?Xu:Yc),r}function oa(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Al(r);if(r.$$typeof===it)return ln(r)}throw Error(y(438,String(r)))}function ra(r){var a=null,c=Pt.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=Pt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=wl(),Pt.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(r),h=0;h<r;h++)c[h]=Mt;return a.index++,c}function yo(r,a){return typeof a=="function"?a(r):a}function xo(r){var a=Fe();return _l(a,Ae,r)}function _l(r,a,c){var h=r.queue;if(h===null)throw Error(y(311));h.lastRenderedReducer=c;var p=r.baseQueue,w=h.pending;if(w!==null){if(p!==null){var T=p.next;p.next=w.next,w.next=T}a.baseQueue=p=w,h.pending=null}if(w=r.baseState,p===null)r.memoizedState=w;else{a=p.next;var R=T=null,q=null,tt=a,st=!1;do{var ut=tt.lane&-536870913;if(ut!==tt.lane?(te&ut)===ut:(Co&ut)===ut){var et=tt.revertLane;if(et===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),ut===rr&&(st=!0);else if((Co&et)===et){tt=tt.next,et===rr&&(st=!0);continue}else ut={lane:0,revertLane:tt.revertLane,gesture:null,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},q===null?(R=q=ut,T=w):q=q.next=ut,Pt.lanes|=et,No|=et;ut=tt.action,xn&&c(w,ut),w=tt.hasEagerState?tt.eagerState:c(w,ut)}else et={lane:ut,revertLane:tt.revertLane,gesture:tt.gesture,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},q===null?(R=q=et,T=w):q=q.next=et,Pt.lanes|=ut,No|=ut;tt=tt.next}while(tt!==null&&tt!==a);if(q===null?T=w:q.next=R,!Fn(w,r.memoizedState)&&(We=!0,st&&(c=sr,c!==null)))throw c;r.memoizedState=w,r.baseState=T,r.baseQueue=q,h.lastRenderedState=w}return p===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function jc(r){var a=Fe(),c=a.queue;if(c===null)throw Error(y(311));c.lastRenderedReducer=r;var h=c.dispatch,p=c.pending,w=a.memoizedState;if(p!==null){c.pending=null;var T=p=p.next;do w=r(w,T.action),T=T.next;while(T!==p);Fn(w,a.memoizedState)||(We=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,h]}function xf(r,a,c){var h=Pt,p=Fe(),w=Zt;if(w){if(c===void 0)throw Error(y(407));c=c()}else c=a();var T=!Fn((Ae||p).memoizedState,c);if(T&&(p.memoizedState=c,We=!0),p=p.queue,yl(sa.bind(null,h,p,r),[r]),p.getSnapshot!==a||T||Be!==null&&Be.memoizedState.tag&1){if(h.flags|=2048,Eo(9,{destroy:void 0},Df.bind(null,h,p,c,a),null),me===null)throw Error(y(349));w||(Co&127)!==0||Ef(h,a,c)}return c}function Ef(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=Pt.updateQueue,a===null?(a=wl(),Pt.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function Df(r,a,c,h){a.value=c,a.getSnapshot=h,Sf(a)&&Tf(r)}function sa(r,a,c){return c(function(){Sf(a)&&Tf(r)})}function Sf(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!Fn(r,c)}catch{return!0}}function Tf(r){var a=Yi(r,2);a!==null&&bn(a,r,2)}function Cl(r){var a=Bn();if(typeof r=="function"){var c=r;if(r=c(),xn){Ho(!0);try{c()}finally{Ho(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:r},a}function Mf(r,a,c,h){return r.baseState=c,_l(r,Ae,typeof h=="function"?h:yo)}function Hu(r,a,c,h,p){if(la(r))throw Error(y(485));if(r=a.action,r!==null){var w={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){w.listeners.push(T)}};rt.T!==null?c(!0):w.isTransition=!1,h(w),c=a.pending,c===null?(w.next=a.pending=w,Pc(a,w)):(w.next=c.next,a.pending=c.next=w)}}function Pc(r,a){var c=a.action,h=a.payload,p=r.state;if(a.isTransition){var w=rt.T,T={};rt.T=T;try{var R=c(p,h),q=rt.S;q!==null&&q(T,R),qn(r,a,R)}catch(tt){ss(r,a,tt)}finally{w!==null&&T.types!==null&&(w.types=T.types),rt.T=w}}else try{w=c(p,h),qn(r,a,w)}catch(tt){ss(r,a,tt)}}function qn(r,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){qu(r,a,h)},function(h){return ss(r,a,h)}):qu(r,a,c)}function qu(r,a,c){a.status="fulfilled",a.value=c,Bf(a),r.state=c,a=r.pending,a!==null&&(c=a.next,c===a?r.pending=null:(c=c.next,a.next=c,Pc(r,c)))}function ss(r,a,c){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,Bf(a),a=a.next;while(a!==h)}r.action=null}function Bf(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function vl(r,a){return a}function Gu(r,a){if(Zt){var c=me.formState;if(c!==null){t:{var h=Pt;if(Zt){if(ve){e:{for(var p=ve,w=Yt;p.nodeType!==8;){if(!w){p=null;break e}if(p=En(p.nextSibling),p===null){p=null;break e}}w=p.data,p=w==="F!"||w==="F"?p:null}if(p){ve=En(p.nextSibling),h=p.data==="F!";break t}}ko(h)}h=!1}h&&(a=c[0])}}return c=Bn(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:a},c.queue=h,c=Zu.bind(null,Pt,h),h.dispatch=c,h=Cl(!1),w=Kc.bind(null,Pt,!1,h.queue),h=Bn(),p={state:a,dispatch:null,action:r,pending:null},h.queue=p,c=Hu.bind(null,Pt,p,w,c),p.dispatch=c,h.memoizedState=r,[a,c,!1]}function Ku(r){var a=Fe();return pr(a,Ae,r)}function pr(r,a,c){if(a=_l(r,a,vl)[0],r=xo(yo)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Al(a)}catch(T){throw T===ns?ul:T}else h=a;a=Fe();var p=a.queue,w=p.dispatch;return c!==a.memoizedState&&(Pt.flags|=2048,Eo(9,{destroy:void 0},bt.bind(null,p,c),null)),[h,w,r]}function bt(r,a){r.action=a}function Lt(r){var a=Fe(),c=Ae;if(c!==null)return pr(a,c,r);Fe(),a=a.memoizedState,c=Fe();var h=c.queue.dispatch;return c.memoizedState=r,[a,h,!1]}function Eo(r,a,c,h){return r={tag:r,create:c,deps:h,inst:a,next:null},a=Pt.updateQueue,a===null&&(a=wl(),Pt.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=r.next=r:(h=c.next,c.next=r,r.next=h,a.lastEffect=r),r}function vi(){return Fe().memoizedState}function aa(r,a,c,h){var p=Bn();Pt.flags|=r,p.memoizedState=Eo(1|a,{destroy:void 0},c,h===void 0?null:h)}function Do(r,a,c,h){var p=Fe();h=h===void 0?null:h;var w=p.memoizedState.inst;Ae!==null&&h!==null&&kl(h,Ae.memoizedState.deps)?p.memoizedState=Eo(a,w,c,h):(Pt.flags|=r,p.memoizedState=Eo(1|a,w,c,h))}function Fc(r,a){aa(8390656,8,r,a)}function yl(r,a){Do(2048,8,r,a)}function xl(r){Pt.flags|=4;var a=Pt.updateQueue;if(a===null)a=wl(),Pt.updateQueue=a,a.events=[r];else{var c=a.events;c===null?a.events=[r]:c.push(r)}}function as(r){var a=Fe().memoizedState;return xl({ref:a,nextImpl:r}),function(){if((he&2)!==0)throw Error(y(440));return a.impl.apply(void 0,arguments)}}function Yu(r,a){return Do(4,2,r,a)}function Vc(r,a){return Do(4,4,r,a)}function El(r,a){if(typeof a=="function"){r=r();var c=a(r);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function ls(r,a,c){c=c!=null?c.concat([r]):null,Do(4,4,El.bind(null,a,r),c)}function Qu(){}function Uc(r,a){var c=Fe();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&kl(a,h[1])?h[0]:(c.memoizedState=[r,a],r)}function Hc(r,a){var c=Fe();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&kl(a,h[1]))return h[0];if(h=r(),xn){Ho(!0);try{r()}finally{Ho(!1)}}return c.memoizedState=[h,a],h}function Wu(r,a,c){return c===void 0||(Co&1073741824)!==0&&(te&261930)===0?r.memoizedState=a:(r.memoizedState=c,r=wa(),Pt.lanes|=r,No|=r,c)}function Dl(r,a,c,h){return Fn(c,a)?c:os.current!==null?(r=Wu(r,c,h),Fn(r,a)||(We=!0),r):(Co&42)===0||(Co&1073741824)!==0&&(te&261930)===0?(We=!0,r.memoizedState=c):(r=wa(),Pt.lanes|=r,No|=r,a)}function If(r,a,c,h,p){var w=Ct.p;Ct.p=w!==0&&8>w?w:8;var T=rt.T,R={};rt.T=R,Kc(r,!1,a,c);try{var q=p(),tt=rt.S;if(tt!==null&&tt(R,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var st=bf(q,h);Tl(r,a,st,ui(r))}else Tl(r,a,h,ui(r))}catch(ut){Tl(r,a,{then:function(){},status:"rejected",reason:ut},ui())}finally{Ct.p=w,T!==null&&R.types!==null&&(T.types=R.types),rt.T=T}}function uk(){}function Sl(r,a,c,h){if(r.tag!==5)throw Error(y(476));var p=Nf(r).queue;If(r,p,a,zt,c===null?uk:function(){return kr(r),c(h)})}function Nf(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:zt,baseState:zt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:zt},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:c},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function kr(r){var a=Nf(r);a.next===null&&(a=r.alternate.memoizedState),Tl(r,a.next.queue,{},ui())}function qc(){return ln(Ze)}function Gc(){return Fe().memoizedState}function zf(){return Fe().memoizedState}function Of(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var c=ui();r=mr(c);var h=It(a,r,c);h!==null&&(bn(h,a,c),fr(h,a,c)),a={cache:Ye()},r.payload=a;return}a=a.return}}function $u(r,a,c){var h=ui();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},la(r)?ca(a,c):(c=Kt(r,a,c,h),c!==null&&(bn(c,r,h),Ju(c,a,h)))}function Zu(r,a,c){var h=ui();Tl(r,a,c,h)}function Tl(r,a,c,h){var p={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(la(r))ca(a,p);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var T=a.lastRenderedState,R=w(T,c);if(p.hasEagerState=!0,p.eagerState=R,Fn(R,T))return al(r,a,p,0),me===null&&sl(),!1}catch{}finally{}if(c=Kt(r,a,p,h),c!==null)return bn(c,r,h),Ju(c,a,h),!0}return!1}function Kc(r,a,c,h){if(h={lane:2,revertLane:md(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},la(r)){if(a)throw Error(y(479))}else a=Kt(r,c,h,2),a!==null&&bn(a,r,2)}function la(r){var a=r.alternate;return r===Pt||a!==null&&a===Pt}function ca(r,a){Mn=ue=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function Ju(r,a,c){if((c&4194048)!==0){var h=a.lanes;h&=r.pendingLanes,c|=h,a.lanes=c,zm(r,c)}}var da={readContext:ln,use:oa,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};da.useEffectEvent=Pe;var Xu={readContext:ln,use:oa,useCallback:function(r,a){return Bn().memoizedState=[r,a===void 0?null:a],r},useContext:ln,useEffect:Fc,useImperativeHandle:function(r,a,c){c=c!=null?c.concat([r]):null,aa(4194308,4,El.bind(null,a,r),c)},useLayoutEffect:function(r,a){return aa(4194308,4,r,a)},useInsertionEffect:function(r,a){aa(4,2,r,a)},useMemo:function(r,a){var c=Bn();a=a===void 0?null:a;var h=r();if(xn){Ho(!0);try{r()}finally{Ho(!1)}}return c.memoizedState=[h,a],h},useReducer:function(r,a,c){var h=Bn();if(c!==void 0){var p=c(a);if(xn){Ho(!0);try{c(a)}finally{Ho(!1)}}}else p=a;return h.memoizedState=h.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},h.queue=r,r=r.dispatch=$u.bind(null,Pt,r),[h.memoizedState,r]},useRef:function(r){var a=Bn();return r={current:r},a.memoizedState=r},useState:function(r){r=Cl(r);var a=r.queue,c=Zu.bind(null,Pt,a);return a.dispatch=c,[r.memoizedState,c]},useDebugValue:Qu,useDeferredValue:function(r,a){var c=Bn();return Wu(c,r,a)},useTransition:function(){var r=Cl(!1);return r=If.bind(null,Pt,r.queue,!0,!1),Bn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,c){var h=Pt,p=Bn();if(Zt){if(c===void 0)throw Error(y(407));c=c()}else{if(c=a(),me===null)throw Error(y(349));(te&127)!==0||Ef(h,a,c)}p.memoizedState=c;var w={value:c,getSnapshot:a};return p.queue=w,Fc(sa.bind(null,h,w,r),[r]),h.flags|=2048,Eo(9,{destroy:void 0},Df.bind(null,h,w,c,a),null),c},useId:function(){var r=Bn(),a=me.identifierPrefix;if(Zt){var c=Qi,h=Li;c=(h&~(1<<32-ei(h)-1)).toString(32)+c,a="_"+a+"R_"+c,c=pl++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=ck++,a="_"+a+"r_"+c.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:qc,useFormState:Gu,useActionState:Gu,useOptimistic:function(r){var a=Bn();a.memoizedState=a.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Kc.bind(null,Pt,!0,c),c.dispatch=a,[r,a]},useMemoCache:ra,useCacheRefresh:function(){return Bn().memoizedState=Of.bind(null,Pt)},useEffectEvent:function(r){var a=Bn(),c={impl:r};return a.memoizedState=c,function(){if((he&2)!==0)throw Error(y(440));return c.impl.apply(void 0,arguments)}}},Yc={readContext:ln,use:oa,useCallback:Uc,useContext:ln,useEffect:yl,useImperativeHandle:ls,useInsertionEffect:Yu,useLayoutEffect:Vc,useMemo:Hc,useReducer:xo,useRef:vi,useState:function(){return xo(yo)},useDebugValue:Qu,useDeferredValue:function(r,a){var c=Fe();return Dl(c,Ae.memoizedState,r,a)},useTransition:function(){var r=xo(yo)[0],a=Fe().memoizedState;return[typeof r=="boolean"?r:Al(r),a]},useSyncExternalStore:xf,useId:Gc,useHostTransitionStatus:qc,useFormState:Ku,useActionState:Ku,useOptimistic:function(r,a){var c=Fe();return Mf(c,Ae,r,a)},useMemoCache:ra,useCacheRefresh:zf};Yc.useEffectEvent=as;var yi={readContext:ln,use:oa,useCallback:Uc,useContext:ln,useEffect:yl,useImperativeHandle:ls,useInsertionEffect:Yu,useLayoutEffect:Vc,useMemo:Hc,useReducer:jc,useRef:vi,useState:function(){return jc(yo)},useDebugValue:Qu,useDeferredValue:function(r,a){var c=Fe();return Ae===null?Wu(c,r,a):Dl(c,Ae.memoizedState,r,a)},useTransition:function(){var r=jc(yo)[0],a=Fe().memoizedState;return[typeof r=="boolean"?r:Al(r),a]},useSyncExternalStore:xf,useId:Gc,useHostTransitionStatus:qc,useFormState:Lt,useActionState:Lt,useOptimistic:function(r,a){var c=Fe();return Ae!==null?Mf(c,Ae,r,a):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:ra,useCacheRefresh:zf};yi.useEffectEvent=as;function cs(r,a,c,h){a=r.memoizedState,c=c(h,a),c=c==null?a:I({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var In={enqueueSetState:function(r,a,c){r=r._reactInternals;var h=ui(),p=mr(h);p.payload=a,c!=null&&(p.callback=c),a=It(r,p,h),a!==null&&(bn(a,r,h),fr(a,r,h))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var h=ui(),p=mr(h);p.tag=1,p.payload=a,c!=null&&(p.callback=c),a=It(r,p,h),a!==null&&(bn(a,r,h),fr(a,r,h))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=ui(),h=mr(c);h.tag=2,a!=null&&(h.callback=a),a=It(r,h,c),a!==null&&(bn(a,r,c),fr(a,r,c))}};function ds(r,a,c,h,p,w,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,w,T):a.prototype&&a.prototype.isPureReactComponent?!nl(c,h)||!nl(p,w):!0}function th(r,a,c,h){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==r&&In.enqueueReplaceState(a,a.state,null)}function us(r,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(r=r.defaultProps){c===a&&(c=I({},c));for(var p in r)c[p]===void 0&&(c[p]=r[p])}return c}function eh(r){rl(r)}function Lf(r){console.error(r)}function Rf(r){rl(r)}function Ml(r,a){try{var c=r.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function jf(r,a,c){try{var h=r.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function nh(r,a,c){return c=mr(c),c.tag=3,c.payload={element:null},c.callback=function(){Ml(r,a)},c}function Pf(r){return r=mr(r),r.tag=3,r}function ih(r,a,c,h){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var w=h.value;r.payload=function(){return p(w)},r.callback=function(){jf(a,c,h)}}var T=c.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){jf(a,c,h),typeof p!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var R=h.stack;this.componentDidCatch(h.value,{componentStack:R!==null?R:""})})}function hk(r,a,c,h,p){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&$s(a,c,p,!0),c=ai.current,c!==null){switch(c.tag){case 31:case 13:return li===null?ld():c.alternate===null&&Ne===0&&(Ne=3),c.flags&=-257,c.flags|=65536,c.lanes=p,h===zc?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),hd(r,h,p)),!1;case 22:return c.flags|=65536,h===zc?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),hd(r,h,p)),!1}throw Error(y(435,c.tag))}return hd(r,h,p),ld(),!1}if(Zt)return a=ai.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,h!==dl&&(r=Error(y(422),{cause:h}),_i(Ai(r,c)))):(h!==dl&&(a=Error(y(423),{cause:h}),_i(Ai(a,c))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,h=Ai(h,c),p=nh(r.stateNode,h,p),hl(r,p),Ne!==4&&(Ne=2)),!1;var w=Error(y(520),{cause:h});if(w=Ai(w,c),ka===null?ka=[w]:ka.push(w),Ne!==4&&(Ne=2),a===null)return!0;h=Ai(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,r=p&-p,c.lanes|=r,r=nh(c.stateNode,h,r),hl(c,r),!1;case 1:if(a=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(zo===null||!zo.has(w))))return c.flags|=65536,p&=-p,c.lanes|=p,p=Pf(p),ih(p,r,c,h),hl(c,p),!1}c=c.return}while(c!==null);return!1}var oh=Error(y(461)),We=!1;function $e(r,a,c,h){a.child=r===null?Lu(a,null,c,h):ur(a,r.child,c,h)}function rh(r,a,c,h,p){c=c.render;var w=a.ref;if("ref"in h){var T={};for(var R in h)R!=="ref"&&(T[R]=h[R])}else T=h;return es(a),h=bl(r,a,c,T,w,p),R=Fu(),r!==null&&!We?(Vu(r,a,p),So(r,a,p)):(Zt&&R&&$t(a),a.flags|=1,$e(r,a,h,p),a.child)}function Bl(r,a,c,h,p){if(r===null){var w=c.type;return typeof w=="function"&&!Zr(w)&&w.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=w,sh(r,a,w,h,p)):(r=tr(c.type,null,h,a,a.mode,p),r.ref=a.ref,r.return=a,a.child=r)}if(w=r.child,!mh(r,p)){var T=w.memoizedProps;if(c=c.compare,c=c!==null?c:nl,c(T,h)&&r.ref===a.ref)return So(r,a,p)}return a.flags|=1,r=ii(w,h),r.ref=a.ref,r.return=a,a.child=r}function sh(r,a,c,h,p){if(r!==null){var w=r.memoizedProps;if(nl(w,h)&&r.ref===a.ref)if(We=!1,a.pendingProps=h=w,mh(r,p))(r.flags&131072)!==0&&(We=!0);else return a.lanes=r.lanes,So(r,a,p)}return Nl(r,a,c,h,p)}function ah(r,a,c,h){var p=h.children,w=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(w=w!==null?w.baseLanes|c:c,r!==null){for(h=a.child=r.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;h=p&~w}else h=0,a.child=null;return Ri(r,a,w,c,h)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&ar(a,w!==null?w.cachePool:null),w!==null?ju(a,w):Rc(),Pu(a);else return h=a.lanes=536870912,Ri(r,a,w!==null?w.baseLanes|c:c,c,h)}else w!==null?(ar(a,w.cachePool),ju(a,w),_o(),a.memoizedState=null):(r!==null&&ar(a,null),Rc(),_o());return $e(r,a,p,c),a.child}function ua(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Ri(r,a,c,h,p){var w=si();return w=w===null?null:{parent:pe._currentValue,pool:w},a.memoizedState={baseLanes:c,cachePool:w},r!==null&&ar(a,null),Rc(),Pu(a),r!==null&&$s(r,a,h,!0),a.childLanes=p,null}function Il(r,a){return a=zl({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function hs(r,a,c){return ur(a,r.child,null,c),r=Il(a,a.pendingProps),r.flags|=2,ci(a),a.memoizedState=null,r}function br(r,a,c){var h=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(Zt){if(h.mode==="hidden")return r=Il(a,h),a.lanes=536870912,ua(null,r);if(ia(a),(r=ve)?(r=Zh(r,Yt),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:er!==null?{id:Li,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},c=xu(r),c.return=a,a.child=c,en=a,ve=null)):r=null,r===null)throw ko(a);return a.lanes=536870912,null}return Il(a,h)}var w=r.memoizedState;if(w!==null){var T=w.dehydrated;if(ia(a),p)if(a.flags&256)a.flags&=-257,a=hs(r,a,c);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(y(558));else if(We||$s(r,a,c,!1),p=(c&r.childLanes)!==0,We||p){if(h=me,h!==null&&(T=Om(h,c),T!==0&&T!==w.retryLane))throw w.retryLane=T,Yi(r,T),bn(h,r,T),oh;ld(),a=hs(r,a,c)}else r=w.treeContext,ve=En(T.nextSibling),en=a,Zt=!0,nr=null,Yt=!1,r!==null&&Xr(a,r),a=Il(a,h),a.flags|=4096;return a}return r=ii(r.child,{mode:h.mode,children:h.children}),r.ref=a.ref,a.child=r,r.return=a,r}function Qc(r,a){var c=a.ref;if(c===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(y(284));(r===null||r.ref!==c)&&(a.flags|=4194816)}}function Nl(r,a,c,h,p){return es(a),c=bl(r,a,c,h,void 0,p),h=Fu(),r!==null&&!We?(Vu(r,a,p),So(r,a,p)):(Zt&&h&&$t(a),a.flags|=1,$e(r,a,c,p),a.child)}function Ff(r,a,c,h,p,w){return es(a),a.updateQueue=null,c=yf(a,h,c,p),vf(r),h=Fu(),r!==null&&!We?(Vu(r,a,w),So(r,a,w)):(Zt&&h&&$t(a),a.flags|=1,$e(r,a,c,w),a.child)}function Vf(r,a,c,h,p){if(es(a),a.stateNode===null){var w=$r,T=c.contextType;typeof T=="object"&&T!==null&&(w=ln(T)),w=new c(h,w),a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=In,a.stateNode=w,w._reactInternals=a,w=a.stateNode,w.props=h,w.state=a.memoizedState,w.refs={},pt(a),T=c.contextType,w.context=typeof T=="object"&&T!==null?ln(T):$r,w.state=a.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(cs(a,c,T,h),w.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(T=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),T!==w.state&&In.enqueueReplaceState(w,w.state,null),ft(a,h,w,p),ml(),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(r===null){w=a.stateNode;var R=a.memoizedProps,q=us(c,R);w.props=q;var tt=w.context,st=c.contextType;T=$r,typeof st=="object"&&st!==null&&(T=ln(st));var ut=c.getDerivedStateFromProps;st=typeof ut=="function"||typeof w.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,st||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R||tt!==T)&&th(a,w,h,T),hr=!1;var et=a.memoizedState;w.state=et,ft(a,h,w,p),ml(),tt=a.memoizedState,R||et!==tt||hr?(typeof ut=="function"&&(cs(a,c,ut,h),tt=a.memoizedState),(q=hr||ds(a,c,q,h,et,tt,T))?(st||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=tt),w.props=h,w.state=tt,w.context=T,h=q):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{w=a.stateNode,Lc(r,a),T=a.memoizedProps,st=us(c,T),w.props=st,ut=a.pendingProps,et=w.context,tt=c.contextType,q=$r,typeof tt=="object"&&tt!==null&&(q=ln(tt)),R=c.getDerivedStateFromProps,(tt=typeof R=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==ut||et!==q)&&th(a,w,h,q),hr=!1,et=a.memoizedState,w.state=et,ft(a,h,w,p),ml();var ot=a.memoizedState;T!==ut||et!==ot||hr||r!==null&&r.dependencies!==null&&Nc(r.dependencies)?(typeof R=="function"&&(cs(a,c,R,h),ot=a.memoizedState),(st=hr||ds(a,c,st,h,et,ot,q)||r!==null&&r.dependencies!==null&&Nc(r.dependencies))?(tt||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,ot,q),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,ot,q)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||T===r.memoizedProps&&et===r.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&et===r.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=ot),w.props=h,w.state=ot,w.context=q,h=st):(typeof w.componentDidUpdate!="function"||T===r.memoizedProps&&et===r.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&et===r.memoizedState||(a.flags|=1024),h=!1)}return w=h,Qc(r,a),h=(a.flags&128)!==0,w||h?(w=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:w.render(),a.flags|=1,r!==null&&h?(a.child=ur(a,r.child,null,p),a.child=ur(a,null,c,p)):$e(r,a,c,p),a.memoizedState=w.state,r=a.child):r=So(r,a,p),r}function Uf(r,a,c,h){return ts(),a.flags|=256,$e(r,a,c,h),a.child}var lh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ch(r){return{baseLanes:r,cachePool:Af()}}function dh(r,a,c){return r=r!==null?r.childLanes&~c:0,a&&(r|=Kn),r}function Hf(r,a,c){var h=a.pendingProps,p=!1,w=(a.flags&128)!==0,T;if((T=w)||(T=r!==null&&r.memoizedState===null?!1:(je.current&2)!==0),T&&(p=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,r===null){if(Zt){if(p?gr(a):_o(),(r=ve)?(r=Zh(r,Yt),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:er!==null?{id:Li,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},c=xu(r),c.return=a,a.child=c,en=a,ve=null)):r=null,r===null)throw ko(a);return wd(r)?a.lanes=32:a.lanes=536870912,null}var R=h.children;return h=h.fallback,p?(_o(),p=a.mode,R=zl({mode:"hidden",children:R},p),h=oi(h,p,c,null),R.return=a,h.return=a,R.sibling=h,a.child=R,h=a.child,h.memoizedState=ch(c),h.childLanes=dh(r,T,c),a.memoizedState=lh,ua(null,h)):(gr(a),uh(a,R))}var q=r.memoizedState;if(q!==null&&(R=q.dehydrated,R!==null)){if(w)a.flags&256?(gr(a),a.flags&=-257,a=hh(r,a,c)):a.memoizedState!==null?(_o(),a.child=r.child,a.flags|=128,a=null):(_o(),R=h.fallback,p=a.mode,h=zl({mode:"visible",children:h.children},p),R=oi(R,p,c,null),R.flags|=2,h.return=a,R.return=a,h.sibling=R,a.child=h,ur(a,r.child,null,c),h=a.child,h.memoizedState=ch(c),h.childLanes=dh(r,T,c),a.memoizedState=lh,a=ua(null,h));else if(gr(a),wd(R)){if(T=R.nextSibling&&R.nextSibling.dataset,T)var tt=T.dgst;T=tt,h=Error(y(419)),h.stack="",h.digest=T,_i({value:h,source:null,stack:null}),a=hh(r,a,c)}else if(We||$s(r,a,c,!1),T=(c&r.childLanes)!==0,We||T){if(T=me,T!==null&&(h=Om(T,c),h!==0&&h!==q.retryLane))throw q.retryLane=h,Yi(r,h),bn(T,r,h),oh;Sa(R)||ld(),a=hh(r,a,c)}else Sa(R)?(a.flags|=192,a.child=r.child,a=null):(r=q.treeContext,ve=En(R.nextSibling),en=a,Zt=!0,nr=null,Yt=!1,r!==null&&Xr(a,r),a=uh(a,h.children),a.flags|=4096);return a}return p?(_o(),R=h.fallback,p=a.mode,q=r.child,tt=q.sibling,h=ii(q,{mode:"hidden",children:h.children}),h.subtreeFlags=q.subtreeFlags&65011712,tt!==null?R=ii(tt,R):(R=oi(R,p,c,null),R.flags|=2),R.return=a,h.return=a,h.sibling=R,a.child=h,ua(null,h),h=a.child,R=r.child.memoizedState,R===null?R=ch(c):(p=R.cachePool,p!==null?(q=pe._currentValue,p=p.parent!==q?{parent:q,pool:q}:p):p=Af(),R={baseLanes:R.baseLanes|c,cachePool:p}),h.memoizedState=R,h.childLanes=dh(r,T,c),a.memoizedState=lh,ua(r.child,h)):(gr(a),c=r.child,r=c.sibling,c=ii(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,r!==null&&(T=a.deletions,T===null?(a.deletions=[r],a.flags|=16):T.push(r)),a.child=c,a.memoizedState=null,c)}function uh(r,a){return a=zl({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function zl(r,a){return r=Un(22,r,null,a),r.lanes=0,r}function hh(r,a,c){return ur(a,r.child,null,c),r=uh(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function qf(r,a,c){r.lanes|=a;var h=r.alternate;h!==null&&(h.lanes|=a),Iu(r.return,a,c)}function wr(r,a,c,h,p,w){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:p,treeForkCount:w}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=h,T.tail=c,T.tailMode=p,T.treeForkCount=w)}function Gf(r,a,c){var h=a.pendingProps,p=h.revealOrder,w=h.tail;h=h.children;var T=je.current,R=(T&2)!==0;if(R?(T=T&1|2,a.flags|=128):T&=1,wt(je,T),$e(r,a,h,c),h=Zt?Qs:0,!R&&r!==null&&(r.flags&128)!==0)t:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&qf(r,c,a);else if(r.tag===19)qf(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break t;for(;r.sibling===null;){if(r.return===null||r.return===a)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(c=a.child,p=null;c!==null;)r=c.alternate,r!==null&&gl(r)===null&&(p=c),c=c.sibling;c=p,c===null?(p=a.child,a.child=null):(p=c.sibling,c.sibling=null),wr(a,!1,p,c,w,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,p=a.child,a.child=null;p!==null;){if(r=p.alternate,r!==null&&gl(r)===null){a.child=p;break}r=p.sibling,p.sibling=c,c=p,p=r}wr(a,!0,c,null,w,h);break;case"together":wr(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function So(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),No|=a.lanes,(c&a.childLanes)===0)if(r!==null){if($s(r,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(y(153));if(a.child!==null){for(r=a.child,c=ii(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=ii(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function mh(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Nc(r)))}function Wc(r,a,c){switch(a.tag){case 3:Xe(a,a.stateNode.containerInfo),or(a,pe,r.memoizedState.cache),ts();break;case 27:case 5:Gi(a);break;case 4:Xe(a,a.stateNode.containerInfo);break;case 10:or(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,ia(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(gr(a),a.flags|=128,null):(c&a.child.childLanes)!==0?Hf(r,a,c):(gr(a),r=So(r,a,c),r!==null?r.sibling:null);gr(a);break;case 19:var p=(r.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||($s(r,a,c,!1),h=(c&a.childLanes)!==0),p){if(h)return Gf(r,a,c);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),wt(je,je.current),h)break;return null;case 22:return a.lanes=0,ah(r,a,c,a.pendingProps);case 24:or(a,pe,r.memoizedState.cache)}return So(r,a,c)}function Kf(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps)We=!0;else{if(!mh(r,c)&&(a.flags&128)===0)return We=!1,Wc(r,a,c);We=(r.flags&131072)!==0}else We=!1,Zt&&(a.flags&1048576)!==0&&Du(a,Qs,a.index);switch(a.lanes=0,a.tag){case 16:t:{var h=a.pendingProps;if(r=lr(a.elementType),a.type=r,typeof r=="function")Zr(r)?(h=us(r,h),a.tag=1,a=Vf(null,a,r,h,c)):(a.tag=0,a=Nl(null,a,r,h,c));else{if(r!=null){var p=r.$$typeof;if(p===gt){a.tag=11,a=rh(null,a,r,h,c);break t}else if(p===ht){a.tag=14,a=Bl(null,a,r,h,c);break t}}throw a=H(r)||r,Error(y(306,a,""))}}return a;case 0:return Nl(r,a,a.type,a.pendingProps,c);case 1:return h=a.type,p=us(h,a.pendingProps),Vf(r,a,h,p,c);case 3:t:{if(Xe(a,a.stateNode.containerInfo),r===null)throw Error(y(387));h=a.pendingProps;var w=a.memoizedState;p=w.element,Lc(r,a),ft(a,h,null,c);var T=a.memoizedState;if(h=T.cache,or(a,pe,h),h!==w.cache&&ff(a,[pe],c,!0),ml(),h=T.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){a=Uf(r,a,h,c);break t}else if(h!==p){p=Ai(Error(y(424)),a),_i(p),a=Uf(r,a,h,c);break t}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ve=En(r.firstChild),en=a,Zt=!0,nr=null,Yt=!0,c=Lu(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(ts(),h===p){a=So(r,a,c);break t}$e(r,a,h,c)}a=a.child}return a;case 26:return Qc(r,a),r===null?(c=yg(a.type,null,a.pendingProps,null))?a.memoizedState=c:Zt||(c=a.type,r=a.pendingProps,h=Yl(Ut.current).createElement(c),h[gn]=a,h[jn]=r,fn(h,c,r),an(h),a.stateNode=h):a.memoizedState=yg(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Gi(a),r===null&&Zt&&(h=a.stateNode=bg(a.type,a.pendingProps,Ut.current),en=a,Yt=!0,p=ve,Er(a.type)?(Jh=p,ve=En(h.firstChild)):ve=p),$e(r,a,a.pendingProps.children,c),Qc(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Zt&&((p=h=ve)&&(h=$h(h,a.type,a.pendingProps,Yt),h!==null?(a.stateNode=h,en=a,ve=En(h.firstChild),Yt=!1,p=!0):p=!1),p||ko(a)),Gi(a),p=a.type,w=a.pendingProps,T=r!==null?r.memoizedProps:null,h=w.children,Yh(p,w)?h=null:T!==null&&Yh(p,T)&&(a.flags|=32),a.memoizedState!==null&&(p=bl(r,a,dk,null,null,c),Ze._currentValue=p),Qc(r,a),$e(r,a,h,c),a.child;case 6:return r===null&&Zt&&((r=c=ve)&&(c=Ck(c,a.pendingProps,Yt),c!==null?(a.stateNode=c,en=a,ve=null,r=!0):r=!1),r||ko(a)),null;case 13:return Hf(r,a,c);case 4:return Xe(a,a.stateNode.containerInfo),h=a.pendingProps,r===null?a.child=ur(a,null,h,c):$e(r,a,h,c),a.child;case 11:return rh(r,a,a.type,a.pendingProps,c);case 7:return $e(r,a,a.pendingProps,c),a.child;case 8:return $e(r,a,a.pendingProps.children,c),a.child;case 12:return $e(r,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,or(a,a.type,h.value),$e(r,a,h.children,c),a.child;case 9:return p=a.type._context,h=a.pendingProps.children,es(a),p=ln(p),h=h(p),a.flags|=1,$e(r,a,h,c),a.child;case 14:return Bl(r,a,a.type,a.pendingProps,c);case 15:return sh(r,a,a.type,a.pendingProps,c);case 19:return Gf(r,a,c);case 31:return br(r,a,c);case 22:return ah(r,a,c,a.pendingProps);case 24:return es(a),h=ln(pe),r===null?(p=si(),p===null&&(p=me,w=Ye(),p.pooledCache=w,w.refCount++,w!==null&&(p.pooledCacheLanes|=c),p=w),a.memoizedState={parent:h,cache:p},pt(a),or(a,pe,p)):((r.lanes&c)!==0&&(Lc(r,a),ft(a,null,null,c),ml()),p=r.memoizedState,w=a.memoizedState,p.parent!==h?(p={parent:h,cache:h},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),or(a,pe,h)):(h=w.cache,or(a,pe,h),h!==p.cache&&ff(a,[pe],c,!0))),$e(r,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(y(156,a.tag))}function To(r){r.flags|=4}function fh(r,a,c,h,p){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(ng())r.flags|=8192;else throw cr=zc,Js}else r.flags&=-16777217}function gh(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Dg(a))if(ng())r.flags|=8192;else throw cr=zc,Js}function $c(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Wd():536870912,r.lanes|=a,gs|=a)}function Ol(r,a){if(!Zt)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ie(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,h=0;if(a)for(var p=r.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags&65011712,h|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=c,a}function ph(r,a,c){var h=a.pendingProps;switch(Su(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(a),null;case 1:return Ie(a),null;case 3:return c=a.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),wo(pe),Te(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Ws(a)?To(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Mu())),Ie(a),null;case 26:var p=a.type,w=a.memoizedState;return r===null?(To(a),w!==null?(Ie(a),gh(a,w)):(Ie(a),fh(a,p,null,h,c))):w?w!==r.memoizedState?(To(a),Ie(a),gh(a,w)):(Ie(a),a.flags&=-16777217):(r=r.memoizedProps,r!==h&&To(a),Ie(a),fh(a,p,r,h,c)),null;case 27:if(lo(a),c=Ut.current,p=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==h&&To(a);else{if(!h){if(a.stateNode===null)throw Error(y(166));return Ie(a),null}r=xt.current,Ws(a)?mf(a):(r=bg(p,h,c),a.stateNode=r,To(a))}return Ie(a),null;case 5:if(lo(a),p=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==h&&To(a);else{if(!h){if(a.stateNode===null)throw Error(y(166));return Ie(a),null}if(w=xt.current,Ws(a))mf(a);else{var T=Yl(Ut.current);switch(w){case 1:w=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:w=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":w=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":w=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":w=T.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?T.createElement("select",{is:h.is}):T.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?T.createElement(p,{is:h.is}):T.createElement(p)}}w[gn]=a,w[jn]=h;t:for(T=a.child;T!==null;){if(T.tag===5||T.tag===6)w.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===a)break t;for(;T.sibling===null;){if(T.return===null||T.return===a)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}a.stateNode=w;t:switch(fn(w,p,h),p){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&To(a)}}return Ie(a),fh(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,c),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==h&&To(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(y(166));if(r=Ut.current,Ws(a)){if(r=a.stateNode,c=a.memoizedProps,h=null,p=en,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}r[gn]=a,r=!!(r.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||Hh(r.nodeValue,c)),r||ko(a,!0)}else r=Yl(r).createTextNode(h),r[gn]=a,a.stateNode=r}return Ie(a),null;case 31:if(c=a.memoizedState,r===null||r.memoizedState!==null){if(h=Ws(a),c!==null){if(r===null){if(!h)throw Error(y(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(y(557));r[gn]=a}else ts(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ie(a),r=!1}else c=Mu(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=c),r=!0;if(!r)return a.flags&256?(ci(a),a):(ci(a),null);if((a.flags&128)!==0)throw Error(y(558))}return Ie(a),null;case 13:if(h=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Ws(a),h!==null&&h.dehydrated!==null){if(r===null){if(!p)throw Error(y(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(y(317));p[gn]=a}else ts(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ie(a),p=!1}else p=Mu(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(ci(a),a):(ci(a),null)}return ci(a),(a.flags&128)!==0?(a.lanes=c,a):(c=h!==null,r=r!==null&&r.memoizedState!==null,c&&(h=a.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==p&&(h.flags|=2048)),c!==r&&c&&(a.child.flags|=8192),$c(a,a.updateQueue),Ie(a),null);case 4:return Te(),r===null&&xa(a.stateNode.containerInfo),Ie(a),null;case 10:return wo(a.type),Ie(a),null;case 19:if(dt(je),h=a.memoizedState,h===null)return Ie(a),null;if(p=(a.flags&128)!==0,w=h.rendering,w===null)if(p)Ol(h,!1);else{if(Ne!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(w=gl(r),w!==null){for(a.flags|=128,Ol(h,!1),r=w.updateQueue,a.updateQueue=r,$c(a,r),a.subtreeFlags=0,r=c,c=a.child;c!==null;)yu(c,r),c=c.sibling;return wt(je,je.current&1|2),Zt&&po(a,h.treeForkCount),a.child}r=r.sibling}h.tail!==null&&On()>Hl&&(a.flags|=128,p=!0,Ol(h,!1),a.lanes=4194304)}else{if(!p)if(r=gl(w),r!==null){if(a.flags|=128,p=!0,r=r.updateQueue,a.updateQueue=r,$c(a,r),Ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!Zt)return Ie(a),null}else 2*On()-h.renderingStartTime>Hl&&c!==536870912&&(a.flags|=128,p=!0,Ol(h,!1),a.lanes=4194304);h.isBackwards?(w.sibling=a.child,a.child=w):(r=h.last,r!==null?r.sibling=w:a.child=w,h.last=w)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=On(),r.sibling=null,c=je.current,wt(je,p?c&1|2:c&1),Zt&&po(a,h.treeForkCount),r):(Ie(a),null);case 22:case 23:return ci(a),na(),h=a.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(Ie(a),a.subtreeFlags&6&&(a.flags|=8192)):Ie(a),c=a.updateQueue,c!==null&&$c(a,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),r!==null&&dt(kn),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),wo(pe),Ie(a),null;case 25:return null;case 30:return null}throw Error(y(156,a.tag))}function mk(r,a){switch(Su(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return wo(pe),Te(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return lo(a),null;case 31:if(a.memoizedState!==null){if(ci(a),a.alternate===null)throw Error(y(340));ts()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(ci(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(y(340));ts()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return dt(je),null;case 4:return Te(),null;case 10:return wo(a.type),null;case 22:case 23:return ci(a),na(),r!==null&&dt(kn),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return wo(pe),null;case 25:return null;default:return null}}function Yf(r,a){switch(Su(a),a.tag){case 3:wo(pe),Te();break;case 26:case 27:case 5:lo(a);break;case 4:Te();break;case 31:a.memoizedState!==null&&ci(a);break;case 13:ci(a);break;case 19:dt(je);break;case 10:wo(a.type);break;case 22:case 23:ci(a),na(),r!==null&&dt(kn);break;case 24:wo(pe)}}function Ll(r,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var p=h.next;c=p;do{if((c.tag&r)===r){h=void 0;var w=c.create,T=c.inst;h=w(),T.destroy=h}c=c.next}while(c!==p)}}catch(R){oe(a,a.return,R)}}function Mo(r,a,c){try{var h=a.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var w=p.next;h=w;do{if((h.tag&r)===r){var T=h.inst,R=T.destroy;if(R!==void 0){T.destroy=void 0,p=a;var q=c,tt=R;try{tt()}catch(st){oe(p,q,st)}}}h=h.next}while(h!==w)}}catch(st){oe(a,a.return,st)}}function kh(r){var a=r.updateQueue;if(a!==null){var c=r.stateNode;try{Ht(a,c)}catch(h){oe(r,r.return,h)}}}function Rl(r,a,c){c.props=us(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(h){oe(r,a,h)}}function ha(r,a){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof c=="function"?r.refCleanup=c(h):c.current=h}}catch(p){oe(r,a,p)}}function Wi(r,a){var c=r.ref,h=r.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(p){oe(r,a,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){oe(r,a,p)}else c.current=null}function jl(r){var a=r.type,c=r.memoizedProps,h=r.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(p){oe(r,r.return,p)}}function bh(r,a,c){try{var h=r.stateNode;bk(h,r.type,c,a),h[jn]=a}catch(p){oe(r,r.return,p)}}function wh(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Er(r.type)||r.tag===4}function Ah(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||wh(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Er(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ma(r,a,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(r),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Pn));else if(h!==4&&(h===27&&Er(r.type)&&(c=r.stateNode,a=null),r=r.child,r!==null))for(ma(r,a,c),r=r.sibling;r!==null;)ma(r,a,c),r=r.sibling}function Zc(r,a,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(h!==4&&(h===27&&Er(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Zc(r,a,c),r=r.sibling;r!==null;)Zc(r,a,c),r=r.sibling}function Qf(r){var a=r.stateNode,c=r.memoizedProps;try{for(var h=r.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);fn(a,h,c),a[gn]=r,a[jn]=c}catch(w){oe(r,r.return,w)}}var $i=!1,Ue=!1,_h=!1,Wf=typeof WeakSet=="function"?WeakSet:Set,dn=null;function ji(r,a){if(r=r.containerInfo,Kl=yd,r=df(r),Sc(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else t:{c=(c=r.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var p=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break t}var T=0,R=-1,q=-1,tt=0,st=0,ut=r,et=null;e:for(;;){for(var ot;ut!==c||p!==0&&ut.nodeType!==3||(R=T+p),ut!==w||h!==0&&ut.nodeType!==3||(q=T+h),ut.nodeType===3&&(T+=ut.nodeValue.length),(ot=ut.firstChild)!==null;)et=ut,ut=ot;for(;;){if(ut===r)break e;if(et===c&&++tt===p&&(R=T),et===w&&++st===h&&(q=T),(ot=ut.nextSibling)!==null)break;ut=et,et=ut.parentNode}ut=ot}c=R===-1||q===-1?null:{start:R,end:q}}else c=null}c=c||{start:0,end:0}}else c=null;for(pd={focusedElem:r,selectionRange:c},yd=!1,dn=a;dn!==null;)if(a=dn,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,dn=r;else for(;dn!==null;){switch(a=dn,w=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(c=0;c<r.length;c++)p=r[c],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,c=a,p=w.memoizedProps,w=w.memoizedState,h=c.stateNode;try{var Et=us(c.type,p);r=h.getSnapshotBeforeUpdate(Et,w),h.__reactInternalSnapshotBeforeUpdate=r}catch(Ot){oe(c,c.return,Ot)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,c=r.nodeType,c===9)bd(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":bd(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(y(163))}if(r=a.sibling,r!==null){r.return=a.return,dn=r;break}dn=a.return}}function $f(r,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Z(r,c),h&4&&Ll(5,c);break;case 1:if(Z(r,c),h&4)if(r=c.stateNode,a===null)try{r.componentDidMount()}catch(T){oe(c,c.return,T)}else{var p=us(c.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(p,a,r.__reactInternalSnapshotBeforeUpdate)}catch(T){oe(c,c.return,T)}}h&64&&kh(c),h&512&&ha(c,c.return);break;case 3:if(Z(r,c),h&64&&(r=c.updateQueue,r!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{Ht(r,a)}catch(T){oe(c,c.return,T)}}break;case 27:a===null&&h&4&&Qf(c);case 26:case 5:Z(r,c),a===null&&h&4&&jl(c),h&512&&ha(c,c.return);break;case 12:Z(r,c);break;case 31:Z(r,c),h&4&&be(r,c);break;case 13:Z(r,c),h&4&&Zi(r,c),h&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=ye.bind(null,c),vk(r,c))));break;case 22:if(h=c.memoizedState!==null||$i,!h){a=a!==null&&a.memoizedState!==null||Ue,p=$i;var w=Ue;$i=h,(Ue=a)&&!w?Io(r,c,(c.subtreeFlags&8772)!==0):Z(r,c),$i=p,Ue=w}break;case 30:break;default:Z(r,c)}}function Bo(r){var a=r.alternate;a!==null&&(r.alternate=null,Bo(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Xd(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ke=null,un=!1;function Xt(r,a,c){for(c=c.child;c!==null;)xi(r,a,c),c=c.sibling}function xi(r,a,c){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Ln,c)}catch{}switch(c.tag){case 26:Ue||Wi(c,a),Xt(r,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ue||Wi(c,a);var h=ke,p=un;Er(c.type)&&(ke=c.stateNode,un=!1),Xt(r,a,c),bs(c.stateNode),ke=h,un=p;break;case 5:Ue||Wi(c,a);case 6:if(h=ke,p=un,ke=null,Xt(r,a,c),ke=h,un=p,ke!==null)if(un)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(c.stateNode)}catch(w){oe(c,a,w)}else try{ke.removeChild(c.stateNode)}catch(w){oe(c,a,w)}break;case 18:ke!==null&&(un?(r=ke,kd(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),jo(r)):kd(ke,c.stateNode));break;case 4:h=ke,p=un,ke=c.stateNode.containerInfo,un=!0,Xt(r,a,c),ke=h,un=p;break;case 0:case 11:case 14:case 15:Mo(2,c,a),Ue||Mo(4,c,a),Xt(r,a,c);break;case 1:Ue||(Wi(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&Rl(c,a,h)),Xt(r,a,c);break;case 21:Xt(r,a,c);break;case 22:Ue=(h=Ue)||c.memoizedState!==null,Xt(r,a,c),Ue=h;break;default:Xt(r,a,c)}}function be(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{jo(r)}catch(c){oe(a,a.return,c)}}}function Zi(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{jo(r)}catch(c){oe(a,a.return,c)}}function ms(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Wf),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Wf),a;default:throw Error(y(435,r.tag))}}function mt(r,a){var c=ms(r);a.forEach(function(h){if(!c.has(h)){c.add(h);var p=Ve.bind(null,r,h);h.then(p,p)}})}function hn(r,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var p=c[h],w=r,T=a,R=T;t:for(;R!==null;){switch(R.tag){case 27:if(Er(R.type)){ke=R.stateNode,un=!1;break t}break;case 5:ke=R.stateNode,un=!1;break t;case 3:case 4:ke=R.stateNode.containerInfo,un=!0;break t}R=R.return}if(ke===null)throw Error(y(160));xi(w,T,p),ke=null,un=!1,w=p.alternate,w!==null&&(w.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Ch(a,r),a=a.sibling}var Ei=null;function Ch(r,a){var c=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:hn(a,r),Nn(r),h&4&&(Mo(3,r,r.return),Ll(3,r),Mo(5,r,r.return));break;case 1:hn(a,r),Nn(r),h&512&&(Ue||c===null||Wi(c,c.return)),h&64&&$i&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var p=Ei;if(hn(a,r),Nn(r),h&512&&(Ue||c===null||Wi(c,c.return)),h&4){var w=c!==null?c.memoizedState:null;if(h=r.memoizedState,c===null)if(h===null)if(r.stateNode===null){t:{h=r.type,c=r.memoizedProps,p=p.ownerDocument||p;e:switch(h){case"title":w=p.getElementsByTagName("title")[0],(!w||w[Qa]||w[gn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=p.createElement(h),p.head.insertBefore(w,p.querySelector("head > title"))),fn(w,h,c),w[gn]=r,an(w),h=w;break t;case"link":var T=em("link","href",p).get(h+(c.href||""));if(T){for(var R=0;R<T.length;R++)if(w=T[R],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){T.splice(R,1);break e}}w=p.createElement(h),fn(w,h,c),p.head.appendChild(w);break;case"meta":if(T=em("meta","content",p).get(h+(c.content||""))){for(R=0;R<T.length;R++)if(w=T[R],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){T.splice(R,1);break e}}w=p.createElement(h),fn(w,h,c),p.head.appendChild(w);break;default:throw Error(y(468,h))}w[gn]=r,an(w),h=w}r.stateNode=h}else Eg(p,r.type,r.stateNode);else r.stateNode=xg(p,h,r.memoizedProps);else w!==h?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,h===null?Eg(p,r.type,r.stateNode):xg(p,h,r.memoizedProps)):h===null&&r.stateNode!==null&&bh(r,r.memoizedProps,c.memoizedProps)}break;case 27:hn(a,r),Nn(r),h&512&&(Ue||c===null||Wi(c,c.return)),c!==null&&h&4&&bh(r,r.memoizedProps,c.memoizedProps);break;case 5:if(hn(a,r),Nn(r),h&512&&(Ue||c===null||Wi(c,c.return)),r.flags&32){p=r.stateNode;try{js(p,"")}catch(Et){oe(r,r.return,Et)}}h&4&&r.stateNode!=null&&(p=r.memoizedProps,bh(r,p,c!==null?c.memoizedProps:p)),h&1024&&(_h=!0);break;case 6:if(hn(a,r),Nn(r),h&4){if(r.stateNode===null)throw Error(y(162));h=r.memoizedProps,c=r.stateNode;try{c.nodeValue=h}catch(Et){oe(r,r.return,Et)}}break;case 3:if(Cs=null,p=Ei,Ei=Ad(a.containerInfo),hn(a,r),Ei=p,Nn(r),h&4&&c!==null&&c.memoizedState.isDehydrated)try{jo(a.containerInfo)}catch(Et){oe(r,r.return,Et)}_h&&(_h=!1,Jc(r));break;case 4:h=Ei,Ei=Ad(r.stateNode.containerInfo),hn(a,r),Nn(r),Ei=h;break;case 12:hn(a,r),Nn(r);break;case 31:hn(a,r),Nn(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,mt(r,h)));break;case 13:hn(a,r),Nn(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ul=On()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,mt(r,h)));break;case 22:p=r.memoizedState!==null;var q=c!==null&&c.memoizedState!==null,tt=$i,st=Ue;if($i=tt||p,Ue=st||q,hn(a,r),Ue=st,$i=tt,Nn(r),h&8192)t:for(a=r.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(c===null||q||$i||Ue||Ar(r)),c=null,a=r;;){if(a.tag===5||a.tag===26){if(c===null){q=c=a;try{if(w=q.stateNode,p)T=w.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{R=q.stateNode;var ut=q.memoizedProps.style,et=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;R.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(Et){oe(q,q.return,Et)}}}else if(a.tag===6){if(c===null){q=a;try{q.stateNode.nodeValue=p?"":q.memoizedProps}catch(Et){oe(q,q.return,Et)}}}else if(a.tag===18){if(c===null){q=a;try{var ot=q.stateNode;p?no(ot,!0):no(q.stateNode,!1)}catch(Et){oe(q,q.return,Et)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break t;for(;a.sibling===null;){if(a.return===null||a.return===r)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=r.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,mt(r,c))));break;case 19:hn(a,r),Nn(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,mt(r,h)));break;case 30:break;case 21:break;default:hn(a,r),Nn(r)}}function Nn(r){var a=r.flags;if(a&2){try{for(var c,h=r.return;h!==null;){if(wh(h)){c=h;break}h=h.return}if(c==null)throw Error(y(160));switch(c.tag){case 27:var p=c.stateNode,w=Ah(r);Zc(r,w,p);break;case 5:var T=c.stateNode;c.flags&32&&(js(T,""),c.flags&=-33);var R=Ah(r);Zc(r,R,T);break;case 3:case 4:var q=c.stateNode.containerInfo,tt=Ah(r);ma(r,tt,q);break;default:throw Error(y(161))}}catch(st){oe(r,r.return,st)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Jc(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Jc(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Z(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)$f(r,a.alternate,a),a=a.sibling}function Ar(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Mo(4,a,a.return),Ar(a);break;case 1:Wi(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&Rl(a,a.return,c),Ar(a);break;case 27:bs(a.stateNode);case 26:case 5:Wi(a,a.return),Ar(a);break;case 22:a.memoizedState===null&&Ar(a);break;case 30:Ar(a);break;default:Ar(a)}r=r.sibling}}function Io(r,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,p=r,w=a,T=w.flags;switch(w.tag){case 0:case 11:case 15:Io(p,w,c),Ll(4,w);break;case 1:if(Io(p,w,c),h=w,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(tt){oe(h,h.return,tt)}if(h=w,p=h.updateQueue,p!==null){var R=h.stateNode;try{var q=p.shared.hiddenCallbacks;if(q!==null)for(p.shared.hiddenCallbacks=null,p=0;p<q.length;p++)Ru(q[p],R)}catch(tt){oe(h,h.return,tt)}}c&&T&64&&kh(w),ha(w,w.return);break;case 27:Qf(w);case 26:case 5:Io(p,w,c),c&&h===null&&T&4&&jl(w),ha(w,w.return);break;case 12:Io(p,w,c);break;case 31:Io(p,w,c),c&&T&4&&be(p,w);break;case 13:Io(p,w,c),c&&T&4&&Zi(p,w);break;case 22:w.memoizedState===null&&Io(p,w,c),ha(w,w.return);break;case 30:break;default:Io(p,w,c)}a=a.sibling}}function fa(r,a){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&Qe(c))}function Xc(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Qe(r))}function Pi(r,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)vh(r,a,c,h),a=a.sibling}function vh(r,a,c,h){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Pi(r,a,c,h),p&2048&&Ll(9,a);break;case 1:Pi(r,a,c,h);break;case 3:Pi(r,a,c,h),p&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Qe(r)));break;case 12:if(p&2048){Pi(r,a,c,h),r=a.stateNode;try{var w=a.memoizedProps,T=w.id,R=w.onPostCommit;typeof R=="function"&&R(T,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(q){oe(a,a.return,q)}}else Pi(r,a,c,h);break;case 31:Pi(r,a,c,h);break;case 13:Pi(r,a,c,h);break;case 23:break;case 22:w=a.stateNode,T=a.alternate,a.memoizedState!==null?w._visibility&2?Pi(r,a,c,h):ga(r,a):w._visibility&2?Pi(r,a,c,h):(w._visibility|=2,mn(r,a,c,h,(a.subtreeFlags&10256)!==0||!1)),p&2048&&fa(T,a);break;case 24:Pi(r,a,c,h),p&2048&&Xc(a.alternate,a);break;default:Pi(r,a,c,h)}}function mn(r,a,c,h,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var w=r,T=a,R=c,q=h,tt=T.flags;switch(T.tag){case 0:case 11:case 15:mn(w,T,R,q,p),Ll(8,T);break;case 23:break;case 22:var st=T.stateNode;T.memoizedState!==null?st._visibility&2?mn(w,T,R,q,p):ga(w,T):(st._visibility|=2,mn(w,T,R,q,p)),p&&tt&2048&&fa(T.alternate,T);break;case 24:mn(w,T,R,q,p),p&&tt&2048&&Xc(T.alternate,T);break;default:mn(w,T,R,q,p)}a=a.sibling}}function ga(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=r,h=a,p=h.flags;switch(h.tag){case 22:ga(c,h),p&2048&&fa(h.alternate,h);break;case 24:ga(c,h),p&2048&&Xc(h.alternate,h);break;default:ga(c,h)}a=a.sibling}}var Pl=8192;function fs(r,a,c){if(r.subtreeFlags&Pl)for(r=r.child;r!==null;)td(r,a,c),r=r.sibling}function td(r,a,c){switch(r.tag){case 26:fs(r,a,c),r.flags&Pl&&r.memoizedState!==null&&Tk(c,Ei,r.memoizedState,r.memoizedProps);break;case 5:fs(r,a,c);break;case 3:case 4:var h=Ei;Ei=Ad(r.stateNode.containerInfo),fs(r,a,c),Ei=h;break;case 22:r.memoizedState===null&&(h=r.alternate,h!==null&&h.memoizedState!==null?(h=Pl,Pl=16777216,fs(r,a,c),Pl=h):fs(r,a,c));break;default:fs(r,a,c)}}function Zf(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Fl(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];dn=h,Jf(h,r)}Zf(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Gn(r),r=r.sibling}function Gn(r){switch(r.tag){case 0:case 11:case 15:Fl(r),r.flags&2048&&Mo(9,r,r.return);break;case 3:Fl(r);break;case 12:Fl(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,ed(r)):Fl(r);break;default:Fl(r)}}function ed(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];dn=h,Jf(h,r)}Zf(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Mo(8,a,a.return),ed(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,ed(a));break;default:ed(a)}r=r.sibling}}function Jf(r,a){for(;dn!==null;){var c=dn;switch(c.tag){case 0:case 11:case 15:Mo(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Qe(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,dn=h;else t:for(c=r;dn!==null;){h=dn;var p=h.sibling,w=h.return;if(Bo(h),h===c){dn=null;break t}if(p!==null){p.return=w,dn=p;break t}dn=w}}}var nd={getCacheForType:function(r){var a=ln(pe),c=a.data.get(r);return c===void 0&&(c=r(),a.data.set(r,c)),c},cacheSignal:function(){return ln(pe).controller.signal}},Fi=typeof WeakMap=="function"?WeakMap:Map,he=0,me=null,Qt=null,te=0,we=0,di=null,_r=!1,pa=!1,id=!1,Ji=0,Ne=0,No=0,Cr=0,Vl=0,Kn=0,gs=0,ka=null,Yn=null,yh=!1,Ul=0,xh=0,Hl=1/0,od=null,zo=null,He=0,Xi=null,ps=null,to=0,rd=0,Eh=null,Dh=null,ba=0,sd=null;function ui(){return(he&2)!==0&&te!==0?te&-te:rt.T!==null?md():Bs()}function wa(){if(Kn===0)if((te&536870912)===0||Zt){var r=qa;qa<<=1,(qa&3932160)===0&&(qa=262144),Kn=r}else Kn=536870912;return r=ai.current,r!==null&&(r.flags|=32),Kn}function bn(r,a,c){(r===me&&(we===2||we===9)||r.cancelPendingCommit!==null)&&(Aa(r,0),vr(r,te,Kn,!1)),Ka(r,c),((he&2)===0||r!==me)&&(r===me&&((he&2)===0&&(Cr|=c),Ne===4&&vr(r,te,Kn,!1)),Ge(r))}function Xf(r,a,c){if((he&6)!==0)throw Error(y(327));var h=!c&&(a&127)===0&&(a&r.expiredLanes)===0||Ms(r,a),p=h?fk(r,a):Th(r,a,!0),w=h;do{if(p===0){pa&&!h&&vr(r,a,0,!1);break}else{if(c=r.current.alternate,w&&!ks(c)){p=Th(r,a,!1),w=!1;continue}if(p===2){if(w=a,r.errorRecoveryDisabledLanes&w)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;t:{var R=r;p=ka;var q=R.current.memoizedState.isDehydrated;if(q&&(Aa(R,T).flags|=256),T=Th(R,T,!1),T!==2){if(id&&!q){R.errorRecoveryDisabledLanes|=w,Cr|=w,p=4;break t}w=Yn,Yn=p,w!==null&&(Yn===null?Yn=w:Yn.push.apply(Yn,w))}p=T}if(w=!1,p!==2)continue}}if(p===1){Aa(r,0),vr(r,a,0,!0);break}t:{switch(h=r,w=p,w){case 0:case 1:throw Error(y(345));case 4:if((a&4194048)!==a)break;case 6:vr(h,a,Kn,!_r);break t;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(y(329))}if((a&62914560)===a&&(p=Ul+300-On(),10<p)){if(vr(h,a,Kn,!_r),Dn(h,0,!0)!==0)break t;to=a,h.timeoutHandle=gg(tg.bind(null,h,c,Yn,od,yh,a,Kn,Cr,gs,_r,w,"Throttled",-0,0),p);break t}tg(h,c,Yn,od,yh,a,Kn,Cr,gs,_r,w,null,-0,0)}}break}while(!0);Ge(r)}function tg(r,a,c,h,p,w,T,R,q,tt,st,ut,et,ot){if(r.timeoutHandle=-1,ut=a.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},td(a,w,ut);var Et=(w&62914560)===w?Ul-On():(w&4194048)===w?xh-On():0;if(Et=Sg(ut,Et),Et!==null){to=w,r.cancelPendingCommit=Et(dd.bind(null,r,a,w,c,h,p,T,R,q,st,ut,null,et,ot)),vr(r,w,T,!tt);return}}dd(r,a,w,c,h,p,T,R,q)}function ks(r){for(var a=r;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var p=c[h],w=p.getSnapshot;p=p.value;try{if(!Fn(w(),p))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function vr(r,a,c,h){a&=~Vl,a&=~Cr,r.suspendedLanes|=a,r.pingedLanes&=~a,h&&(r.warmLanes|=a),h=r.expirationTimes;for(var p=a;0<p;){var w=31-ei(p),T=1<<w;h[w]=-1,p&=~T}c!==0&&$d(r,c,a)}function ad(){return(he&6)===0?(Gl(0),!1):!0}function Sh(){if(Qt!==null){if(we===0)var r=Qt.return;else r=Qt,bo=ir=null,Uu(r),is=null,Xs=0,r=Qt;for(;r!==null;)Yf(r.alternate,r),r=r.return;Qt=null}}function Aa(r,a){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,Ak(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),to=0,Sh(),me=r,Qt=c=ii(r.current,null),te=a,we=0,di=null,_r=!1,pa=Ms(r,a),id=!1,gs=Kn=Vl=Cr=No=Ne=0,Yn=ka=null,yh=!1,(a&8)!==0&&(a|=a&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=a;0<h;){var p=31-ei(h),w=1<<p;a|=r[p],h&=~w}return Ji=a,sl(),c}function eg(r,a){Pt=null,rt.H=da,a===ns||a===ul?(a=zu(),we=3):a===Js?(a=zu(),we=4):we=a===oh?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,di=a,Qt===null&&(Ne=1,Ml(r,Ai(a,r.current)))}function ng(){var r=ai.current;return r===null?!0:(te&4194048)===te?li===null:(te&62914560)===te||(te&536870912)!==0?r===li:!1}function ig(){var r=rt.H;return rt.H=da,r===null?da:r}function og(){var r=rt.A;return rt.A=nd,r}function ld(){Ne=4,_r||(te&4194048)!==te&&ai.current!==null||(pa=!0),(No&134217727)===0&&(Cr&134217727)===0||me===null||vr(me,te,Kn,!1)}function Th(r,a,c){var h=he;he|=2;var p=ig(),w=og();(me!==r||te!==a)&&(od=null,Aa(r,a)),a=!1;var T=Ne;t:do try{if(we!==0&&Qt!==null){var R=Qt,q=di;switch(we){case 8:Sh(),T=6;break t;case 3:case 2:case 9:case 6:ai.current===null&&(a=!0);var tt=we;if(we=0,di=null,_a(r,R,q,tt),c&&pa){T=0;break t}break;default:tt=we,we=0,di=null,_a(r,R,q,tt)}}eo(),T=Ne;break}catch(st){eg(r,st)}while(!0);return a&&r.shellSuspendCounter++,bo=ir=null,he=h,rt.H=p,rt.A=w,Qt===null&&(me=null,te=0,sl()),T}function eo(){for(;Qt!==null;)sg(Qt)}function fk(r,a){var c=he;he|=2;var h=ig(),p=og();me!==r||te!==a?(od=null,Hl=On()+500,Aa(r,a)):pa=Ms(r,a);t:do try{if(we!==0&&Qt!==null){a=Qt;var w=di;e:switch(we){case 1:we=0,di=null,_a(r,a,w,1);break;case 2:case 9:if(_f(w)){we=0,di=null,ag(a);break}a=function(){we!==2&&we!==9||me!==r||(we=7),Ge(r)},w.then(a,a);break t;case 3:we=7;break t;case 4:we=5;break t;case 7:_f(w)?(we=0,di=null,ag(a)):(we=0,di=null,_a(r,a,w,7));break;case 5:var T=null;switch(Qt.tag){case 26:T=Qt.memoizedState;case 5:case 27:var R=Qt;if(T?Dg(T):R.stateNode.complete){we=0,di=null;var q=R.sibling;if(q!==null)Qt=q;else{var tt=R.return;tt!==null?(Qt=tt,cd(tt)):Qt=null}break e}}we=0,di=null,_a(r,a,w,5);break;case 6:we=0,di=null,_a(r,a,w,6);break;case 8:Sh(),Ne=6;break t;default:throw Error(y(462))}}rg();break}catch(st){eg(r,st)}while(!0);return bo=ir=null,rt.H=h,rt.A=p,he=c,Qt!==null?0:(me=null,te=0,sl(),Ne)}function rg(){for(;Qt!==null&&!Mp();)sg(Qt)}function sg(r){var a=Kf(r.alternate,r,Ji);r.memoizedProps=r.pendingProps,a===null?cd(r):Qt=a}function ag(r){var a=r,c=a.alternate;switch(a.tag){case 15:case 0:a=Ff(c,a,a.pendingProps,a.type,void 0,te);break;case 11:a=Ff(c,a,a.pendingProps,a.type.render,a.ref,te);break;case 5:Uu(a);default:Yf(c,a),a=Qt=yu(a,Ji),a=Kf(c,a,Ji)}r.memoizedProps=r.pendingProps,a===null?cd(r):Qt=a}function _a(r,a,c,h){bo=ir=null,Uu(a),is=null,Xs=0;var p=a.return;try{if(hk(r,p,a,c,te)){Ne=1,Ml(r,Ai(c,r.current)),Qt=null;return}}catch(w){if(p!==null)throw Qt=p,w;Ne=1,Ml(r,Ai(c,r.current)),Qt=null;return}a.flags&32768?(Zt||h===1?r=!0:pa||(te&536870912)!==0?r=!1:(_r=r=!0,(h===2||h===9||h===3||h===6)&&(h=ai.current,h!==null&&h.tag===13&&(h.flags|=16384))),lg(a,r)):cd(a)}function cd(r){var a=r;do{if((a.flags&32768)!==0){lg(a,_r);return}r=a.return;var c=ph(a.alternate,a,Ji);if(c!==null){Qt=c;return}if(a=a.sibling,a!==null){Qt=a;return}Qt=a=r}while(a!==null);Ne===0&&(Ne=5)}function lg(r,a){do{var c=mk(r.alternate,r);if(c!==null){c.flags&=32767,Qt=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(r=r.sibling,r!==null)){Qt=r;return}Qt=r=c}while(r!==null);Ne=6,Qt=null}function dd(r,a,c,h,p,w,T,R,q){r.cancelPendingCommit=null;do yr();while(He!==0);if((he&6)!==0)throw Error(y(327));if(a!==null){if(a===r.current)throw Error(y(177));if(w=a.lanes|a.childLanes,w|=Gs,Op(r,c,w,T,R,q),r===me&&(Qt=me=null,te=0),ps=a,Xi=r,to=c,rd=w,Eh=p,Dh=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Wn(sn,function(){return Ih(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=rt.T,rt.T=null,p=Ct.p,Ct.p=2,T=he,he|=4;try{ji(r,a,c)}finally{he=T,Ct.p=p,rt.T=h}}He=1,Mh(),Qn(),ud()}}function Mh(){if(He===1){He=0;var r=Xi,a=ps,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=rt.T,rt.T=null;var h=Ct.p;Ct.p=2;var p=he;he|=4;try{Ch(a,r);var w=pd,T=df(r.containerInfo),R=w.focusedElem,q=w.selectionRange;if(T!==R&&R&&R.ownerDocument&&wu(R.ownerDocument.documentElement,R)){if(q!==null&&Sc(R)){var tt=q.start,st=q.end;if(st===void 0&&(st=tt),"selectionStart"in R)R.selectionStart=tt,R.selectionEnd=Math.min(st,R.value.length);else{var ut=R.ownerDocument||document,et=ut&&ut.defaultView||window;if(et.getSelection){var ot=et.getSelection(),Et=R.textContent.length,Ot=Math.min(q.start,Et),_e=q.end===void 0?Ot:Math.min(q.end,Et);!ot.extend&&Ot>_e&&(T=_e,_e=Ot,Ot=T);var W=cf(R,Ot),K=cf(R,_e);if(W&&K&&(ot.rangeCount!==1||ot.anchorNode!==W.node||ot.anchorOffset!==W.offset||ot.focusNode!==K.node||ot.focusOffset!==K.offset)){var J=ut.createRange();J.setStart(W.node,W.offset),ot.removeAllRanges(),Ot>_e?(ot.addRange(J),ot.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),ot.addRange(J))}}}}for(ut=[],ot=R;ot=ot.parentNode;)ot.nodeType===1&&ut.push({element:ot,left:ot.scrollLeft,top:ot.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ut.length;R++){var ct=ut[R];ct.element.scrollLeft=ct.left,ct.element.scrollTop=ct.top}}yd=!!Kl,pd=Kl=null}finally{he=p,Ct.p=h,rt.T=c}}r.current=a,He=2}}function Qn(){if(He===2){He=0;var r=Xi,a=ps,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=rt.T,rt.T=null;var h=Ct.p;Ct.p=2;var p=he;he|=4;try{$f(r,a.alternate,a)}finally{he=p,Ct.p=h,rt.T=c}}He=3}}function ud(){if(He===4||He===3){He=0,Bp();var r=Xi,a=ps,c=to,h=Dh;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?He=5:(He=0,ps=Xi=null,Bh(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(zo=null),Zd(c),a=a.stateNode,Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Ln,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=rt.T,p=Ct.p,Ct.p=2,rt.T=null;try{for(var w=r.onRecoverableError,T=0;T<h.length;T++){var R=h[T];w(R.value,{componentStack:R.stack})}}finally{rt.T=a,Ct.p=p}}(to&3)!==0&&yr(),Ge(r),p=r.pendingLanes,(c&261930)!==0&&(p&42)!==0?r===sd?ba++:(ba=0,sd=r):ba=0,Gl(0)}}function Bh(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Qe(a)))}function yr(){return Mh(),Qn(),ud(),Ih()}function Ih(){if(He!==5)return!1;var r=Xi,a=rd;rd=0;var c=Zd(to),h=rt.T,p=Ct.p;try{Ct.p=32>c?32:c,rt.T=null,c=Eh,Eh=null;var w=Xi,T=to;if(He=0,ps=Xi=null,to=0,(he&6)!==0)throw Error(y(331));var R=he;if(he|=4,Gn(w.current),vh(w,w.current,T,c),he=R,Gl(0,!1),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Ln,w)}catch{}return!0}finally{Ct.p=p,rt.T=h,Bh(r,a)}}function Ca(r,a,c){a=Ai(c,a),a=nh(r.stateNode,a,2),r=It(r,a,2),r!==null&&(Ka(r,2),Ge(r))}function oe(r,a,c){if(r.tag===3)Ca(r,r,c);else for(;a!==null;){if(a.tag===3){Ca(a,r,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(zo===null||!zo.has(h))){r=Ai(c,r),c=Pf(2),h=It(a,c,2),h!==null&&(ih(c,h,a,r),Ka(h,2),Ge(h));break}}a=a.return}}function hd(r,a,c){var h=r.pingCache;if(h===null){h=r.pingCache=new Fi;var p=new Set;h.set(a,p)}else p=h.get(a),p===void 0&&(p=new Set,h.set(a,p));p.has(c)||(id=!0,p.add(c),r=re.bind(null,r,a,c),a.then(r,r))}function re(r,a,c){var h=r.pingCache;h!==null&&h.delete(a),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,me===r&&(te&c)===c&&(Ne===4||Ne===3&&(te&62914560)===te&&300>On()-Ul?(he&2)===0&&Aa(r,0):Vl|=c,gs===te&&(gs=0)),Ge(r)}function nn(r,a){a===0&&(a=Wd()),r=Yi(r,a),r!==null&&(Ka(r,a),Ge(r))}function ye(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),nn(r,c)}function Ve(r,a){var c=0;switch(r.tag){case 31:case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(c=p.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(y(314))}h!==null&&h.delete(a),nn(r,c)}function Wn(r,a){return ge(r,a)}var ql=null,ze=null,qe=!1,wn=!1,Vi=!1,An=0;function Ge(r){r!==ze&&r.next===null&&(ze===null?ql=ze=r:ze=ze.next=r),wn=!0,qe||(qe=!0,gk())}function Gl(r,a){if(!Vi&&wn){Vi=!0;do for(var c=!1,h=ql;h!==null;){if(r!==0){var p=h.pendingLanes;if(p===0)var w=0;else{var T=h.suspendedLanes,R=h.pingedLanes;w=(1<<31-ei(42|r)+1)-1,w&=p&~(T&~R),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,dg(h,w))}else w=te,w=Dn(h,h===me?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||Ms(h,w)||(c=!0,dg(h,w));h=h.next}while(c);Vi=!1}}function Nh(){ie()}function ie(){wn=qe=!1;var r=0;An!==0&&wk()&&(r=An);for(var a=On(),c=null,h=ql;h!==null;){var p=h.next,w=cg(h,a);w===0?(h.next=null,c===null?ql=p:c.next=p,p===null&&(ze=c)):(c=h,(r!==0||(w&3)!==0)&&(wn=!0)),h=p}He!==0&&He!==5||Gl(r),An!==0&&(An=0)}function cg(r,a){for(var c=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var T=31-ei(w),R=1<<T,q=p[T];q===-1?((R&c)===0||(R&h)!==0)&&(p[T]=ki(R,a)):q<=a&&(r.expiredLanes|=R),w&=~R}if(a=me,c=te,c=Dn(r,r===a?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,c===0||r===a&&(we===2||we===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&Ua(h),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Ms(r,c)){if(a=c&-c,a===r.callbackPriority)return a;switch(h!==null&&Ua(h),Zd(c)){case 2:case 8:c=hc;break;case 32:c=sn;break;case 268435456:c=Qd;break;default:c=sn}return h=zh.bind(null,r),c=ge(c,h),r.callbackPriority=a,r.callbackNode=c,a}return h!==null&&h!==null&&Ua(h),r.callbackPriority=2,r.callbackNode=null,2}function zh(r,a){if(He!==0&&He!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(yr()&&r.callbackNode!==c)return null;var h=te;return h=Dn(r,r===me?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(Xf(r,h,a),cg(r,On()),r.callbackNode!=null&&r.callbackNode===c?zh.bind(null,r):null)}function dg(r,a){if(yr())return null;Xf(r,a,!0)}function gk(){_k(function(){(he&6)!==0?ge(Nm,Nh):ie()})}function md(){if(An===0){var r=rr;r===0&&(r=mc,mc<<=1,(mc&261888)===0&&(mc=256)),An=r}return An}function Oh(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:co(""+r)}function Lh(r,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,r.id&&c.setAttribute("form",r.id),a.parentNode.insertBefore(c,a),r=new FormData(r),c.parentNode.removeChild(c),r}function va(r,a,c,h,p){if(a==="submit"&&c&&c.stateNode===p){var w=Oh((p[jn]||null).action),T=h.submitter;T&&(a=(a=T[jn]||null)?Oh(a.formAction):T.getAttribute("formAction"),a!==null&&(w=a,T=null));var R=new Ce("action","action",null,h,p);r.push({event:R,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(An!==0){var q=T?Lh(p,T):new FormData(p);Sl(c,{pending:!0,data:q,method:p.method,action:w},null,q)}}else typeof w=="function"&&(R.preventDefault(),q=T?Lh(p,T):new FormData(p),Sl(c,{pending:!0,data:q,method:p.method,action:w},w,q))},currentTarget:p}]})}}for(var on=0;on<Vn.length;on++){var Rh=Vn[on],pk=Rh.toLowerCase(),ya=Rh[0].toUpperCase()+Rh.slice(1);Oi(pk,"on"+ya)}Oi(Bc,"onAnimationEnd"),Oi(Jo,"onAnimationIteration"),Oi(_u,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(hf,"onTransitionRun"),Oi(sk,"onTransitionStart"),Oi(Xo,"onTransitionCancel"),Oi(ol,"onTransitionEnd"),Os("onMouseEnter",["mouseout","mouseover"]),Os("onMouseLeave",["mouseout","mouseover"]),Os("onPointerEnter",["pointerout","pointerover"]),Os("onPointerLeave",["pointerout","pointerover"]),Hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ug=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xr));function jh(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var h=r[c],p=h.event;h=h.listeners;t:{var w=void 0;if(a)for(var T=h.length-1;0<=T;T--){var R=h[T],q=R.instance,tt=R.currentTarget;if(R=R.listener,q!==w&&p.isPropagationStopped())break t;w=R,p.currentTarget=tt;try{w(p)}catch(st){rl(st)}p.currentTarget=null,w=q}else for(T=0;T<h.length;T++){if(R=h[T],q=R.instance,tt=R.currentTarget,R=R.listener,q!==w&&p.isPropagationStopped())break t;w=R,p.currentTarget=tt;try{w(p)}catch(st){rl(st)}p.currentTarget=null,w=q}}}}function Jt(r,a){var c=a[Jd];c===void 0&&(c=a[Jd]=new Set);var h=r+"__bubble";c.has(h)||(Fh(a,r,2,!1),c.add(h))}function Ph(r,a,c){var h=0;a&&(h|=4),Fh(c,r,h,a)}var fd="_reactListening"+Math.random().toString(36).slice(2);function xa(r){if(!r[fd]){r[fd]=!0,Rm.forEach(function(c){c!=="selectionchange"&&(ug.has(c)||Ph(c,!1,r),Ph(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[fd]||(a[fd]=!0,Ph("selectionchange",!1,a))}}function Fh(r,a,c,h){switch(Zl(a)){case 2:var p=Bk;break;case 8:p=zg;break;default:p=om}c=p.bind(null,a,c,r),p=void 0,!iu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(a,c,{capture:!0,passive:p}):r.addEventListener(a,c,!0):p!==void 0?r.addEventListener(a,c,{passive:p}):r.addEventListener(a,c,!1)}function Vh(r,a,c,h,p){var w=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var R=h.stateNode.containerInfo;if(R===p)break;if(T===4)for(T=h.return;T!==null;){var q=T.tag;if((q===3||q===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;R!==null;){if(T=zs(R),T===null)return;if(q=T.tag,q===5||q===6||q===26||q===27){h=w=T;continue t}R=R.parentNode}}h=h.return}qm(function(){var tt=w,st=Ps(c),ut=[];t:{var et=Cu.get(r);if(et!==void 0){var ot=Ce,Et=r;switch(r){case"keypress":if(Ja(c)===0)break t;case"keydown":case"keyup":ot=Ym;break;case"focusin":Et="focus",ot=cu;break;case"focusout":Et="blur",ot=cu;break;case"beforeblur":case"afterblur":ot=cu;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=Up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=$m;break;case Bc:case Jo:case _u:ot=Hp;break;case ol:ot=Zp;break;case"scroll":case"scrollend":ot=su;break;case"wheel":ot=Jp;break;case"copy":case"cut":case"paste":ot=Gp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=uu;break;case"toggle":case"beforetoggle":ot=hu}var Ot=(a&4)!==0,_e=!Ot&&(r==="scroll"||r==="scrollend"),W=Ot?et!==null?et+"Capture":null:et;Ot=[];for(var K=tt,J;K!==null;){var ct=K;if(J=ct.stateNode,ct=ct.tag,ct!==5&&ct!==26&&ct!==27||J===null||W===null||(ct=Vs(K,W),ct!=null&&Ot.push(Ea(K,ct,J))),_e)break;K=K.return}0<Ot.length&&(et=new ot(et,Et,null,c,st),ut.push({event:et,listeners:Ot}))}}if((a&7)===0){t:{if(et=r==="mouseover"||r==="pointerover",ot=r==="mouseout"||r==="pointerout",et&&c!==nu&&(Et=c.relatedTarget||c.fromElement)&&(zs(Et)||Et[Is]))break t;if((ot||et)&&(et=st.window===st?st:(et=st.ownerDocument)?et.defaultView||et.parentWindow:window,ot?(Et=c.relatedTarget||c.toElement,ot=tt,Et=Et?zs(Et):null,Et!==null&&(_e=j(Et),Ot=Et.tag,Et!==_e||Ot!==5&&Ot!==27&&Ot!==6)&&(Et=null)):(ot=null,Et=tt),ot!==Et)){if(Ot=au,ct="onMouseLeave",W="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&(Ot=uu,ct="onPointerLeave",W="onPointerEnter",K="pointer"),_e=ot==null?et:Vr(ot),J=Et==null?et:Vr(Et),et=new Ot(ct,K+"leave",ot,c,st),et.target=_e,et.relatedTarget=J,ct=null,zs(st)===tt&&(Ot=new Ot(W,K+"enter",Et,c,st),Ot.target=J,Ot.relatedTarget=_e,ct=Ot),_e=ct,ot&&Et)e:{for(Ot=Da,W=ot,K=Et,J=0,ct=W;ct;ct=Ot(ct))J++;ct=0;for(var Nt=K;Nt;Nt=Ot(Nt))ct++;for(;0<J-ct;)W=Ot(W),J--;for(;0<ct-J;)K=Ot(K),ct--;for(;J--;){if(W===K||K!==null&&W===K.alternate){Ot=W;break e}W=Ot(W),K=Ot(K)}Ot=null}else Ot=null;ot!==null&&hg(ut,et,ot,Ot,!1),Et!==null&&_e!==null&&hg(ut,_e,Et,Ot,!0)}}t:{if(et=tt?Vr(tt):window,ot=et.nodeName&&et.nodeName.toLowerCase(),ot==="select"||ot==="input"&&et.type==="file")var se=of;else if(gu(et))if(rf)se=ok;else{se=nk;var Tt=ku}else ot=et.nodeName,!ot||ot.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?tt&&Ko(tt.elementType)&&(se=of):se=ik;if(se&&(se=se(r,tt))){pu(ut,se,c,st);break t}Tt&&Tt(r,et,tt),r==="focusout"&&tt&&et.type==="number"&&tt.memoizedProps.value!=null&&bc(et,"number",et.value)}switch(Tt=tt?Vr(tt):window,r){case"focusin":(gu(Tt)||Tt.contentEditable==="true")&&(Qr=Tt,Au=tt,il=null);break;case"focusout":il=Au=Qr=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,uf(ut,c,st);break;case"selectionchange":if(rk)break;case"keydown":case"keyup":uf(ut,c,st)}var Ft;if(vc)t:{switch(r){case"compositionstart":var Wt="onCompositionStart";break t;case"compositionend":Wt="onCompositionEnd";break t;case"compositionupdate":Wt="onCompositionUpdate";break t}Wt=void 0}else $o?xc(r,c)&&(Wt="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Wt="onCompositionStart");Wt&&(mu&&c.locale!=="ko"&&($o||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&$o&&(Ft=ru()):(zi=st,ou="value"in zi?zi.value:zi.textContent,$o=!0)),Tt=gd(tt,Wt),0<Tt.length&&(Wt=new Us(Wt,r,null,c,st),ut.push({event:Wt,listeners:Tt}),Ft?Wt.data=Ft:(Ft=Ec(c),Ft!==null&&(Wt.data=Ft)))),(Ft=tk?fu(r,c):ef(r,c))&&(Wt=gd(tt,"onBeforeInput"),0<Wt.length&&(Tt=new Us("onBeforeInput","beforeinput",null,c,st),ut.push({event:Tt,listeners:Wt}),Tt.data=Ft)),va(ut,r,tt,c,st)}jh(ut,a)})}function Ea(r,a,c){return{instance:r,listener:a,currentTarget:c}}function gd(r,a){for(var c=a+"Capture",h=[];r!==null;){var p=r,w=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||w===null||(p=Vs(r,c),p!=null&&h.unshift(Ea(r,p,w)),p=Vs(r,a),p!=null&&h.push(Ea(r,p,w))),r.tag===3)return h;r=r.return}return[]}function Da(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function hg(r,a,c,h,p){for(var w=a._reactName,T=[];c!==null&&c!==h;){var R=c,q=R.alternate,tt=R.stateNode;if(R=R.tag,q!==null&&q===h)break;R!==5&&R!==26&&R!==27||tt===null||(q=tt,p?(tt=Vs(c,w),tt!=null&&T.unshift(Ea(c,tt,q))):p||(tt=Vs(c,w),tt!=null&&T.push(Ea(c,tt,q)))),c=c.return}T.length!==0&&r.push({event:a,listeners:T})}var Oo=/\r\n?/g,kk=/\u0000|\uFFFD/g;function Uh(r){return(typeof r=="string"?r:""+r).replace(Oo,`
`).replace(kk,"")}function Hh(r,a){return a=Uh(a),Uh(r)===a}function ce(r,a,c,h,p,w){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||js(r,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&js(r,""+h);break;case"className":pc(r,"class",h);break;case"tabIndex":pc(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":pc(r,c,h);break;case"style":Hm(r,h,w);break;case"data":if(a!=="object"){pc(r,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){r.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(c);break}h=co(""+h),r.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(a!=="input"&&ce(r,a,"name",p.name,p,null),ce(r,a,"formEncType",p.formEncType,p,null),ce(r,a,"formMethod",p.formMethod,p,null),ce(r,a,"formTarget",p.formTarget,p,null)):(ce(r,a,"encType",p.encType,p,null),ce(r,a,"method",p.method,p,null),ce(r,a,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(c);break}h=co(""+h),r.setAttribute(c,h);break;case"onClick":h!=null&&(r.onclick=Pn);break;case"onScroll":h!=null&&Jt("scroll",r);break;case"onScrollEnd":h!=null&&Jt("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(y(61));if(c=h.__html,c!=null){if(p.children!=null)throw Error(y(60));r.innerHTML=c}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}c=co(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,""+h):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":h===!0?r.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,h):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(c,h):r.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(c):r.setAttribute(c,h);break;case"popover":Jt("beforetoggle",r),Jt("toggle",r),gc(r,"popover",h);break;case"xlinkActuate":Tn(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Tn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Tn(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Tn(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Tn(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Tn(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Tn(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Tn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Tn(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":gc(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=wc.get(c)||c,gc(r,c,h))}}function qh(r,a,c,h,p,w){switch(c){case"style":Hm(r,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(y(61));if(c=h.__html,c!=null){if(p.children!=null)throw Error(y(60));r.innerHTML=c}}break;case"children":typeof h=="string"?js(r,h):(typeof h=="number"||typeof h=="bigint")&&js(r,""+h);break;case"onScroll":h!=null&&Jt("scroll",r);break;case"onScrollEnd":h!=null&&Jt("scrollend",r);break;case"onClick":h!=null&&(r.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Go.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),a=c.slice(2,p?c.length-7:void 0),w=r[jn]||null,w=w!=null?w[c]:null,typeof w=="function"&&r.removeEventListener(a,w,p),typeof h=="function")){typeof w!="function"&&w!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(a,h,p);break t}c in r?r[c]=h:h===!0?r.setAttribute(c,""):gc(r,c,h)}}}function fn(r,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",r),Jt("load",r);var h=!1,p=!1,w;for(w in c)if(c.hasOwnProperty(w)){var T=c[w];if(T!=null)switch(w){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(y(137,a));default:ce(r,a,w,T,c,null)}}p&&ce(r,a,"srcSet",c.srcSet,c,null),h&&ce(r,a,"src",c.src,c,null);return;case"input":Jt("invalid",r);var R=w=T=p=null,q=null,tt=null;for(h in c)if(c.hasOwnProperty(h)){var st=c[h];if(st!=null)switch(h){case"name":p=st;break;case"type":T=st;break;case"checked":q=st;break;case"defaultChecked":tt=st;break;case"value":w=st;break;case"defaultValue":R=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(y(137,a));break;default:ce(r,a,h,st,c,null)}}qr(r,w,R,q,tt,T,p,!1);return;case"select":Jt("invalid",r),h=T=w=null;for(p in c)if(c.hasOwnProperty(p)&&(R=c[p],R!=null))switch(p){case"value":w=R;break;case"defaultValue":T=R;break;case"multiple":h=R;default:ce(r,a,p,R,c,null)}a=w,c=T,r.multiple=!!h,a!=null?Rs(r,!!h,a,!1):c!=null&&Rs(r,!!h,c,!0);return;case"textarea":Jt("invalid",r),w=p=h=null;for(T in c)if(c.hasOwnProperty(T)&&(R=c[T],R!=null))switch(T){case"value":h=R;break;case"defaultValue":p=R;break;case"children":w=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(y(91));break;default:ce(r,a,T,R,c,null)}Wa(r,h,p,w);return;case"option":for(q in c)if(c.hasOwnProperty(q)&&(h=c[q],h!=null))switch(q){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ce(r,a,q,h,c,null)}return;case"dialog":Jt("beforetoggle",r),Jt("toggle",r),Jt("cancel",r),Jt("close",r);break;case"iframe":case"object":Jt("load",r);break;case"video":case"audio":for(h=0;h<xr.length;h++)Jt(xr[h],r);break;case"image":Jt("error",r),Jt("load",r);break;case"details":Jt("toggle",r);break;case"embed":case"source":case"link":Jt("error",r),Jt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(tt in c)if(c.hasOwnProperty(tt)&&(h=c[tt],h!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":throw Error(y(137,a));default:ce(r,a,tt,h,c,null)}return;default:if(Ko(a)){for(st in c)c.hasOwnProperty(st)&&(h=c[st],h!==void 0&&qh(r,a,st,h,c,void 0));return}}for(R in c)c.hasOwnProperty(R)&&(h=c[R],h!=null&&ce(r,a,R,h,c,null))}function bk(r,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,w=null,T=null,R=null,q=null,tt=null,st=null;for(ot in c){var ut=c[ot];if(c.hasOwnProperty(ot)&&ut!=null)switch(ot){case"checked":break;case"value":break;case"defaultValue":q=ut;default:h.hasOwnProperty(ot)||ce(r,a,ot,null,h,ut)}}for(var et in h){var ot=h[et];if(ut=c[et],h.hasOwnProperty(et)&&(ot!=null||ut!=null))switch(et){case"type":w=ot;break;case"name":p=ot;break;case"checked":tt=ot;break;case"defaultChecked":st=ot;break;case"value":T=ot;break;case"defaultValue":R=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(y(137,a));break;default:ot!==ut&&ce(r,a,et,ot,h,ut)}}eu(r,T,R,q,tt,st,w,p);return;case"select":ot=T=R=et=null;for(w in c)if(q=c[w],c.hasOwnProperty(w)&&q!=null)switch(w){case"value":break;case"multiple":ot=q;default:h.hasOwnProperty(w)||ce(r,a,w,null,h,q)}for(p in h)if(w=h[p],q=c[p],h.hasOwnProperty(p)&&(w!=null||q!=null))switch(p){case"value":et=w;break;case"defaultValue":R=w;break;case"multiple":T=w;default:w!==q&&ce(r,a,p,w,h,q)}a=R,c=T,h=ot,et!=null?Rs(r,!!c,et,!1):!!h!=!!c&&(a!=null?Rs(r,!!c,a,!0):Rs(r,!!c,c?[]:"",!1));return;case"textarea":ot=et=null;for(R in c)if(p=c[R],c.hasOwnProperty(R)&&p!=null&&!h.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:ce(r,a,R,null,h,p)}for(T in h)if(p=h[T],w=c[T],h.hasOwnProperty(T)&&(p!=null||w!=null))switch(T){case"value":et=p;break;case"defaultValue":ot=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(y(91));break;default:p!==w&&ce(r,a,T,p,h,w)}Vm(r,et,ot);return;case"option":for(var Et in c)if(et=c[Et],c.hasOwnProperty(Et)&&et!=null&&!h.hasOwnProperty(Et))switch(Et){case"selected":r.selected=!1;break;default:ce(r,a,Et,null,h,et)}for(q in h)if(et=h[q],ot=c[q],h.hasOwnProperty(q)&&et!==ot&&(et!=null||ot!=null))switch(q){case"selected":r.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:ce(r,a,q,et,h,ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ot in c)et=c[Ot],c.hasOwnProperty(Ot)&&et!=null&&!h.hasOwnProperty(Ot)&&ce(r,a,Ot,null,h,et);for(tt in h)if(et=h[tt],ot=c[tt],h.hasOwnProperty(tt)&&et!==ot&&(et!=null||ot!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(y(137,a));break;default:ce(r,a,tt,et,h,ot)}return;default:if(Ko(a)){for(var _e in c)et=c[_e],c.hasOwnProperty(_e)&&et!==void 0&&!h.hasOwnProperty(_e)&&qh(r,a,_e,void 0,h,et);for(st in h)et=h[st],ot=c[st],!h.hasOwnProperty(st)||et===ot||et===void 0&&ot===void 0||qh(r,a,st,et,h,ot);return}}for(var W in c)et=c[W],c.hasOwnProperty(W)&&et!=null&&!h.hasOwnProperty(W)&&ce(r,a,W,null,h,et);for(ut in h)et=h[ut],ot=c[ut],!h.hasOwnProperty(ut)||et===ot||et==null&&ot==null||ce(r,a,ut,et,h,ot)}function Gh(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mg(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var p=c[h],w=p.transferSize,T=p.initiatorType,R=p.duration;if(w&&R&&Gh(T)){for(T=0,R=p.responseEnd,h+=1;h<c.length;h++){var q=c[h],tt=q.startTime;if(tt>R)break;var st=q.transferSize,ut=q.initiatorType;st&&Gh(ut)&&(q=q.responseEnd,T+=st*(q<R?1:(R-tt)/(q-tt)))}if(--h,a+=8*(w+T)/(p.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Kl=null,pd=null;function Yl(r){return r.nodeType===9?r:r.ownerDocument}function Kh(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fg(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Yh(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Qh=null;function wk(){var r=window.event;return r&&r.type==="popstate"?r===Qh?!1:(Qh=r,!0):(Qh=null,!1)}var gg=typeof setTimeout=="function"?setTimeout:void 0,Ak=typeof clearTimeout=="function"?clearTimeout:void 0,pg=typeof Promise=="function"?Promise:void 0,_k=typeof queueMicrotask=="function"?queueMicrotask:typeof pg<"u"?function(r){return pg.resolve(null).then(r).catch(Wh)}:gg;function Wh(r){setTimeout(function(){throw r})}function Er(r){return r==="head"}function kd(r,a){var c=a,h=0;do{var p=c.nextSibling;if(r.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"||c==="/&"){if(h===0){r.removeChild(p),jo(a);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")bs(r.ownerDocument.documentElement);else if(c==="head"){c=r.ownerDocument.head,bs(c);for(var w=c.firstChild;w;){var T=w.nextSibling,R=w.nodeName;w[Qa]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=T}}else c==="body"&&bs(r.ownerDocument.body);c=p}while(c);jo(a)}function no(r,a){var c=r;r=0;do{var h=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(r===0)break;r--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||r++;c=h}while(c)}function bd(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":bd(c),Xd(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function $h(r,a,c,h){for(;r.nodeType===1;){var p=c;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[Qa])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var w=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=En(r.nextSibling),r===null)break}return null}function Ck(r,a,c){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=En(r.nextSibling),r===null))return null;return r}function Zh(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=En(r.nextSibling),r===null))return null;return r}function Sa(r){return r.data==="$?"||r.data==="$~"}function wd(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function vk(r,a){var c=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||c.readyState!=="loading")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function En(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var Jh=null;function kg(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"||c==="/&"){if(a===0)return En(r.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}r=r.nextSibling}return null}function Xh(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return r;a--}else c!=="/$"&&c!=="/&"||a++}r=r.previousSibling}return null}function bg(r,a,c){switch(a=Yl(c),r){case"html":if(r=a.documentElement,!r)throw Error(y(452));return r;case"head":if(r=a.head,!r)throw Error(y(453));return r;case"body":if(r=a.body,!r)throw Error(y(454));return r;default:throw Error(y(451))}}function bs(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Xd(r)}var hi=new Map,wg=new Set;function Ad(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ui=Ct.d;Ct.d={f:Ag,r:St,D:Lo,C:yk,L:Cg,m:xk,X:vg,S:ee,M:Ek};function Ag(){var r=Ui.f(),a=ad();return r||a}function St(r){var a=bi(r);a!==null&&a.tag===5&&a.type==="form"?kr(a):Ui.r(r)}var ws=typeof document>"u"?null:document;function _g(r,a,c){var h=ws;if(h&&typeof a=="string"&&a){var p=wi(a);p='link[rel="'+r+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),wg.has(p)||(wg.add(p),r={rel:r,crossOrigin:c,href:a},h.querySelector(p)===null&&(a=h.createElement("link"),fn(a,"link",r),an(a),h.head.appendChild(a)))}}function Lo(r){Ui.D(r),_g("dns-prefetch",r,null)}function yk(r,a){Ui.C(r,a),_g("preconnect",r,a)}function Cg(r,a,c){Ui.L(r,a,c);var h=ws;if(h&&r&&a){var p='link[rel="preload"][as="'+wi(a)+'"]';a==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+wi(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+wi(c.imageSizes)+'"]')):p+='[href="'+wi(r)+'"]';var w=p;switch(a){case"style":w=$n(r);break;case"script":w=_s(r)}hi.has(w)||(r=I({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:r,as:a},c),hi.set(w,r),h.querySelector(p)!==null||a==="style"&&h.querySelector(As(w))||a==="script"&&h.querySelector(Ql(w))||(a=h.createElement("link"),fn(a,"link",r),an(a),h.head.appendChild(a)))}}function xk(r,a){Ui.m(r,a);var c=ws;if(c&&r){var h=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+wi(h)+'"][href="'+wi(r)+'"]',w=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=_s(r)}if(!hi.has(w)&&(r=I({rel:"modulepreload",href:r},a),hi.set(w,r),c.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Ql(w)))return}h=c.createElement("link"),fn(h,"link",r),an(h),c.head.appendChild(h)}}}function ee(r,a,c){Ui.S(r,a,c);var h=ws;if(h&&r){var p=Ur(h).hoistableStyles,w=$n(r);a=a||"default";var T=p.get(w);if(!T){var R={loading:0,preload:null};if(T=h.querySelector(As(w)))R.loading=5;else{r=I({rel:"stylesheet",href:r,"data-precedence":a},c),(c=hi.get(w))&&Cd(r,c);var q=T=h.createElement("link");an(q),fn(q,"link",r),q._p=new Promise(function(tt,st){q.onload=tt,q.onerror=st}),q.addEventListener("load",function(){R.loading|=1}),q.addEventListener("error",function(){R.loading|=2}),R.loading|=4,_d(T,a,h)}T={type:"stylesheet",instance:T,count:1,state:R},p.set(w,T)}}}function vg(r,a){Ui.X(r,a);var c=ws;if(c&&r){var h=Ur(c).hoistableScripts,p=_s(r),w=h.get(p);w||(w=c.querySelector(Ql(p)),w||(r=I({src:r,async:!0},a),(a=hi.get(p))&&tm(r,a),w=c.createElement("script"),an(w),fn(w,"link",r),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(p,w))}}function Ek(r,a){Ui.M(r,a);var c=ws;if(c&&r){var h=Ur(c).hoistableScripts,p=_s(r),w=h.get(p);w||(w=c.querySelector(Ql(p)),w||(r=I({src:r,async:!0,type:"module"},a),(a=hi.get(p))&&tm(r,a),w=c.createElement("script"),an(w),fn(w,"link",r),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(p,w))}}function yg(r,a,c,h){var p=(p=Ut.current)?Ad(p):null;if(!p)throw Error(y(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=$n(c.href),c=Ur(p).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=$n(c.href);var w=Ur(p).hoistableStyles,T=w.get(r);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,T),(w=p.querySelector(As(r)))&&!w._p&&(T.instance=w,T.state.loading=5),hi.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},hi.set(r,c),w||Dk(p,r,c,T.state))),a&&h===null)throw Error(y(528,""));return T}if(a&&h!==null)throw Error(y(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=_s(c),c=Ur(p).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(y(444,r))}}function $n(r){return'href="'+wi(r)+'"'}function As(r){return'link[rel="stylesheet"]['+r+"]"}function Ta(r){return I({},r,{"data-precedence":r.precedence,precedence:null})}function Dk(r,a,c,h){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=r.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),fn(a,"link",c),an(a),r.head.appendChild(a))}function _s(r){return'[src="'+wi(r)+'"]'}function Ql(r){return"script[async]"+r}function xg(r,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=r.querySelector('style[data-href~="'+wi(c.href)+'"]');if(h)return a.instance=h,an(h),h;var p=I({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),an(h),fn(h,"style",p),_d(h,c.precedence,r),a.instance=h;case"stylesheet":p=$n(c.href);var w=r.querySelector(As(p));if(w)return a.state.loading|=4,a.instance=w,an(w),w;h=Ta(c),(p=hi.get(p))&&Cd(h,p),w=(r.ownerDocument||r).createElement("link"),an(w);var T=w;return T._p=new Promise(function(R,q){T.onload=R,T.onerror=q}),fn(w,"link",h),a.state.loading|=4,_d(w,c.precedence,r),a.instance=w;case"script":return w=_s(c.src),(p=r.querySelector(Ql(w)))?(a.instance=p,an(p),p):(h=c,(p=hi.get(w))&&(h=I({},c),tm(h,p)),r=r.ownerDocument||r,p=r.createElement("script"),an(p),fn(p,"link",h),r.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(y(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,_d(h,c.precedence,r));return a.instance}function _d(r,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,w=p,T=0;T<h.length;T++){var R=h[T];if(R.dataset.precedence===a)w=R;else if(w!==p)break}w?w.parentNode.insertBefore(r,w.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(r,a.firstChild))}function Cd(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function tm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Cs=null;function em(r,a,c){if(Cs===null){var h=new Map,p=Cs=new Map;p.set(c,h)}else p=Cs,h=p.get(c),h||(h=new Map,p.set(c,h));if(h.has(r))return h;for(h.set(r,null),c=c.getElementsByTagName(r),p=0;p<c.length;p++){var w=c[p];if(!(w[Qa]||w[gn]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var T=w.getAttribute(a)||"";T=r+T;var R=h.get(T);R?R.push(w):h.set(T,[w])}}return h}function Eg(r,a,c){r=r.ownerDocument||r,r.head.insertBefore(c,a==="title"?r.querySelector("head > title"):null)}function Sk(r,a,c){if(c===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Dg(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function Tk(r,a,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var p=$n(h.href),w=a.querySelector(As(p));if(w){a=w._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=Dr.bind(r),a.then(r,r)),c.state.loading|=4,c.instance=w,an(w);return}w=a.ownerDocument||a,h=Ta(h),(p=hi.get(p))&&Cd(h,p),w=w.createElement("link"),an(w);var T=w;T._p=new Promise(function(R,q){T.onload=R,T.onerror=q}),fn(w,"link",h),c.instance=w}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(r.count++,c=Dr.bind(r),a.addEventListener("load",c),a.addEventListener("error",c))}}var nm=0;function Sg(r,a){return r.stylesheets&&r.count===0&&Wl(r,r.stylesheets),0<r.count||0<r.imgCount?function(c){var h=setTimeout(function(){if(r.stylesheets&&Wl(r,r.stylesheets),r.unsuspend){var w=r.unsuspend;r.unsuspend=null,w()}},6e4+a);0<r.imgBytes&&nm===0&&(nm=62500*mg());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Wl(r,r.stylesheets),r.unsuspend)){var w=r.unsuspend;r.unsuspend=null,w()}},(r.imgBytes>nm?50:800)+a);return r.unsuspend=c,function(){r.unsuspend=null,clearTimeout(h),clearTimeout(p)}}:null}function Dr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wl(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var mi=null;function Wl(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,mi=new Map,a.forEach(Mk,r),mi=null,Dr.call(r))}function Mk(r,a){if(!(a.state.loading&4)){var c=mi.get(r);if(c)var h=c.get(null);else{c=new Map,mi.set(r,c);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<p.length;w++){var T=p[w];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(c.set(T.dataset.precedence,T),h=T)}h&&c.set(null,h)}p=a.instance,T=p.getAttribute("data-precedence"),w=c.get(T)||h,w===h&&c.set(null,p),c.set(T,p),this.count++,h=Dr.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),w?w.parentNode.insertBefore(p,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),a.state.loading|=4}}var Ze={$$typeof:it,Provider:null,Consumer:null,_currentValue:zt,_currentValue2:zt,_threadCount:0};function Tg(r,a,c,h,p,w,T,R,q){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ga(0),this.hiddenUpdates=Ga(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=w,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function Mg(r,a,c,h,p,w,T,R,q,tt,st,ut){return r=new Tg(r,a,c,T,q,tt,st,ut,R),a=1,w===!0&&(a|=24),w=Un(3,null,null,a),r.current=w,w.stateNode=r,a=Ye(),a.refCount++,r.pooledCache=a,a.refCount++,w.memoizedState={element:h,isDehydrated:c,cache:a},pt(w),r}function $l(r){return r?(r=$r,r):$r}function Bg(r,a,c,h,p,w){p=$l(p),h.context===null?h.context=p:h.pendingContext=p,h=mr(a),h.payload={element:c},w=w===void 0?null:w,w!==null&&(h.callback=w),c=It(r,h,a),c!==null&&(bn(c,r,a),fr(c,r,a))}function Ig(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function vd(r,a){Ig(r,a),(r=r.alternate)&&Ig(r,a)}function im(r){if(r.tag===13||r.tag===31){var a=Yi(r,67108864);a!==null&&bn(a,r,67108864),vd(r,67108864)}}function Ng(r){if(r.tag===13||r.tag===31){var a=ui();a=Sn(a);var c=Yi(r,a);c!==null&&bn(c,r,a),vd(r,a)}}var yd=!0;function Bk(r,a,c,h){var p=rt.T;rt.T=null;var w=Ct.p;try{Ct.p=2,om(r,a,c,h)}finally{Ct.p=w,rt.T=p}}function zg(r,a,c,h){var p=rt.T;rt.T=null;var w=Ct.p;try{Ct.p=8,om(r,a,c,h)}finally{Ct.p=w,rt.T=p}}function om(r,a,c,h){if(yd){var p=Ma(h);if(p===null)Vh(r,a,h,Ba,c),Og(r,h);else if(Ik(p,r,a,c,h))h.stopPropagation();else if(Og(r,h),a&4&&-1<sm.indexOf(r)){for(;p!==null;){var w=bi(p);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var T=tn(w.pendingLanes);if(T!==0){var R=w;for(R.pendingLanes|=2,R.entangledLanes|=2;T;){var q=1<<31-ei(T);R.entanglements[1]|=q,T&=~q}Ge(w),(he&6)===0&&(Hl=On()+500,Gl(0))}}break;case 31:case 13:R=Yi(w,2),R!==null&&bn(R,w,2),ad(),vd(w,2)}if(w=Ma(h),w===null&&Vh(r,a,h,Ba,c),w===p)break;p=w}p!==null&&h.stopPropagation()}else Vh(r,a,h,null,c)}}function Ma(r){return r=Ps(r),rm(r)}var Ba=null;function rm(r){if(Ba=null,r=zs(r),r!==null){var a=j(r);if(a===null)r=null;else{var c=a.tag;if(c===13){if(r=M(a),r!==null)return r;r=null}else if(c===31){if(r=S(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Ba=r,null}function Zl(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Im()){case Nm:return 2;case hc:return 8;case sn:case ti:return 32;case Qd:return 268435456;default:return 32}default:return 32}}var xd=!1,Sr=null,Tr=null,Ro=null,Jl=new Map,Ia=new Map,Mr=[],sm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Og(r,a){switch(r){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ro=null;break;case"pointerover":case"pointerout":Jl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(a.pointerId)}}function Na(r,a,c,h,p,w){return r===null||r.nativeEvent!==w?(r={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:w,targetContainers:[p]},a!==null&&(a=bi(a),a!==null&&im(a)),r):(r.eventSystemFlags|=h,a=r.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),r)}function Ik(r,a,c,h,p){switch(a){case"focusin":return Sr=Na(Sr,r,a,c,h,p),!0;case"dragenter":return Tr=Na(Tr,r,a,c,h,p),!0;case"mouseover":return Ro=Na(Ro,r,a,c,h,p),!0;case"pointerover":var w=p.pointerId;return Jl.set(w,Na(Jl.get(w)||null,r,a,c,h,p)),!0;case"gotpointercapture":return w=p.pointerId,Ia.set(w,Na(Ia.get(w)||null,r,a,c,h,p)),!0}return!1}function Lg(r){var a=zs(r.target);if(a!==null){var c=j(a);if(c!==null){if(a=c.tag,a===13){if(a=M(c),a!==null){r.blockedOn=a,Ya(r.priority,function(){Ng(c)});return}}else if(a===31){if(a=S(c),a!==null){r.blockedOn=a,Ya(r.priority,function(){Ng(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ed(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=Ma(r.nativeEvent);if(c===null){c=r.nativeEvent;var h=new c.constructor(c.type,c);nu=h,c.target.dispatchEvent(h),nu=null}else return a=bi(c),a!==null&&im(a),r.blockedOn=c,!1;a.shift()}return!0}function am(r,a,c){Ed(r)&&c.delete(a)}function Nk(){xd=!1,Sr!==null&&Ed(Sr)&&(Sr=null),Tr!==null&&Ed(Tr)&&(Tr=null),Ro!==null&&Ed(Ro)&&(Ro=null),Jl.forEach(am),Ia.forEach(am)}function Dd(r,a){r.blockedOn===a&&(r.blockedOn=null,xd||(xd=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,Nk)))}var Xl=null;function Rg(r){Xl!==r&&(Xl=r,f.unstable_scheduleCallback(f.unstable_NormalPriority,function(){Xl===r&&(Xl=null);for(var a=0;a<r.length;a+=3){var c=r[a],h=r[a+1],p=r[a+2];if(typeof h!="function"){if(rm(h||c)===null)continue;break}var w=bi(c);w!==null&&(r.splice(a,3),a-=3,Sl(w,{pending:!0,data:p,method:c.method,action:h},h,p))}}))}function jo(r){function a(q){return Dd(q,r)}Sr!==null&&Dd(Sr,r),Tr!==null&&Dd(Tr,r),Ro!==null&&Dd(Ro,r),Jl.forEach(a),Ia.forEach(a);for(var c=0;c<Mr.length;c++){var h=Mr[c];h.blockedOn===r&&(h.blockedOn=null)}for(;0<Mr.length&&(c=Mr[0],c.blockedOn===null);)Lg(c),c.blockedOn===null&&Mr.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var p=c[h],w=c[h+1],T=p[jn]||null;if(typeof w=="function")T||Rg(c);else if(T){var R=null;if(w&&w.hasAttribute("formAction")){if(p=w,T=w[jn]||null)R=T.formAction;else if(rm(p)!==null)continue}else R=T.action;typeof R=="function"?c[h+1]=R:(c.splice(h,3),h-=3),Rg(c)}}}function jg(){function r(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function Sd(r){this._internalRoot=r}Td.prototype.render=Sd.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(y(409));var c=a.current,h=ui();Bg(c,h,r,a,null,null)},Td.prototype.unmount=Sd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;Bg(r.current,2,null,r,null,null),ad(),a[Is]=null}};function Td(r){this._internalRoot=r}Td.prototype.unstable_scheduleHydration=function(r){if(r){var a=Bs();r={blockedOn:null,target:r,priority:a};for(var c=0;c<Mr.length&&a!==0&&a<Mr[c].priority;c++);Mr.splice(c,0,r),c===0&&Lg(r)}};var lm=b.version;if(lm!=="19.2.0")throw Error(y(527,lm,"19.2.0"));Ct.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(y(188)):(r=Object.keys(r).join(","),Error(y(268,r)));return r=B(a),r=r!==null?N(r):null,r=r===null?null:r.stateNode,r};var Pg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:rt,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Md.isDisabled&&Md.supportsFiber)try{Ln=Md.inject(Pg),Rn=Md}catch{}}return vm.createRoot=function(r,a){if(!D(r))throw Error(y(299));var c=!1,h="",p=eh,w=Lf,T=Rf;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError)),a=Mg(r,1,!1,null,null,c,h,null,p,w,T,jg),r[Is]=a.current,xa(r),new Sd(a)},vm.hydrateRoot=function(r,a,c){if(!D(r))throw Error(y(299));var h=!1,p="",w=eh,T=Lf,R=Rf,q=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError),c.formState!==void 0&&(q=c.formState)),a=Mg(r,1,!0,a,c??null,h,p,q,w,T,R,jg),a.context=$l(null),c=a.current,h=ui(),h=Sn(h),p=mr(h),p.callback=null,It(c,p,h),c=h,a.current.lanes=c,Ka(a,c),Ge(a),r[Is]=a.current,xa(r),new Td(a)},vm.version="19.2.0",vm}var xv;function XD(){if(xv)return bb.exports;xv=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(b){console.error(b)}}return f(),bb.exports=JD(),bb.exports}var Zv=XD(),Hd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(f){return this.listeners.add(f),this.onSubscribe(),()=>{this.listeners.delete(f),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tS={setTimeout:(f,b)=>setTimeout(f,b),clearTimeout:f=>clearTimeout(f),setInterval:(f,b)=>setInterval(f,b),clearInterval:f=>clearInterval(f)},eS=class{#t=tS;#e=!1;setTimeoutProvider(f){this.#t=f}setTimeout(f,b){return this.#t.setTimeout(f,b)}clearTimeout(f){this.#t.clearTimeout(f)}setInterval(f,b){return this.#t.setInterval(f,b)}clearInterval(f){this.#t.clearInterval(f)}},sc=new eS;function nS(f){setTimeout(f,0)}var lc=typeof window>"u"||"Deno"in globalThis;function gi(){}function iS(f,b){return typeof f=="function"?f(b):f}function xb(f){return typeof f=="number"&&f>=0&&f!==1/0}function Jv(f,b){return Math.max(f+(b||0)-Date.now(),0)}function Fa(f,b){return typeof f=="function"?f(b):f}function so(f,b){return typeof f=="function"?f(b):f}function Ev(f,b){const{type:C="all",exact:y,fetchStatus:D,predicate:j,queryKey:M,stale:S}=f;if(M){if(y){if(b.queryHash!==Ob(M,b.options))return!1}else if(!Dm(b.queryKey,M))return!1}if(C!=="all"){const A=b.isActive();if(C==="active"&&!A||C==="inactive"&&A)return!1}return!(typeof S=="boolean"&&b.isStale()!==S||D&&D!==b.state.fetchStatus||j&&!j(b))}function Dv(f,b){const{exact:C,status:y,predicate:D,mutationKey:j}=f;if(j){if(!b.options.mutationKey)return!1;if(C){if(cc(b.options.mutationKey)!==cc(j))return!1}else if(!Dm(b.options.mutationKey,j))return!1}return!(y&&b.state.status!==y||D&&!D(b))}function Ob(f,b){return(b?.queryKeyHashFn||cc)(f)}function cc(f){return JSON.stringify(f,(b,C)=>Eb(C)?Object.keys(C).sort().reduce((y,D)=>(y[D]=C[D],y),{}):C)}function Dm(f,b){return f===b?!0:typeof f!=typeof b?!1:f&&b&&typeof f=="object"&&typeof b=="object"?Object.keys(b).every(C=>Dm(f[C],b[C])):!1}var oS=Object.prototype.hasOwnProperty;function Xv(f,b){if(f===b)return f;const C=Sv(f)&&Sv(b);if(!C&&!(Eb(f)&&Eb(b)))return b;const D=(C?f:Object.keys(f)).length,j=C?b:Object.keys(b),M=j.length,S=C?new Array(M):{};let A=0;for(let B=0;B<M;B++){const N=C?B:j[B],I=f[N],x=b[N];if(I===x){S[N]=I,(C?B<D:oS.call(f,N))&&A++;continue}if(I===null||x===null||typeof I!="object"||typeof x!="object"){S[N]=x;continue}const O=Xv(I,x);S[N]=O,O===I&&A++}return D===M&&A===D?f:S}function _p(f,b){if(!b||Object.keys(f).length!==Object.keys(b).length)return!1;for(const C in f)if(f[C]!==b[C])return!1;return!0}function Sv(f){return Array.isArray(f)&&f.length===Object.keys(f).length}function Eb(f){if(!Tv(f))return!1;const b=f.constructor;if(b===void 0)return!0;const C=b.prototype;return!(!Tv(C)||!C.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(f)!==Object.prototype)}function Tv(f){return Object.prototype.toString.call(f)==="[object Object]"}function rS(f){return new Promise(b=>{sc.setTimeout(b,f)})}function Db(f,b,C){return typeof C.structuralSharing=="function"?C.structuralSharing(f,b):C.structuralSharing!==!1?Xv(f,b):b}function sS(f,b,C=0){const y=[...f,b];return C&&y.length>C?y.slice(1):y}function aS(f,b,C=0){const y=[b,...f];return C&&y.length>C?y.slice(0,-1):y}var Lb=Symbol();function t0(f,b){return!f.queryFn&&b?.initialPromise?()=>b.initialPromise:!f.queryFn||f.queryFn===Lb?()=>Promise.reject(new Error(`Missing queryFn: '${f.queryHash}'`)):f.queryFn}function e0(f,b){return typeof f=="function"?f(...b):!!f}var lS=class extends Hd{#t;#e;#n;constructor(){super(),this.#n=f=>{if(!lc&&window.addEventListener){const b=()=>f();return window.addEventListener("visibilitychange",b,!1),()=>{window.removeEventListener("visibilitychange",b)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(f){this.#n=f,this.#e?.(),this.#e=f(b=>{typeof b=="boolean"?this.setFocused(b):this.onFocus()})}setFocused(f){this.#t!==f&&(this.#t=f,this.onFocus())}onFocus(){const f=this.isFocused();this.listeners.forEach(b=>{b(f)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Rb=new lS;function Sb(){let f,b;const C=new Promise((D,j)=>{f=D,b=j});C.status="pending",C.catch(()=>{});function y(D){Object.assign(C,D),delete C.resolve,delete C.reject}return C.resolve=D=>{y({status:"fulfilled",value:D}),f(D)},C.reject=D=>{y({status:"rejected",reason:D}),b(D)},C}var cS=nS;function dS(){let f=[],b=0,C=S=>{S()},y=S=>{S()},D=cS;const j=S=>{b?f.push(S):D(()=>{C(S)})},M=()=>{const S=f;f=[],S.length&&D(()=>{y(()=>{S.forEach(A=>{C(A)})})})};return{batch:S=>{let A;b++;try{A=S()}finally{b--,b||M()}return A},batchCalls:S=>(...A)=>{j(()=>{S(...A)})},schedule:j,setNotifyFunction:S=>{C=S},setBatchNotifyFunction:S=>{y=S},setScheduler:S=>{D=S}}}var vn=dS(),uS=class extends Hd{#t=!0;#e;#n;constructor(){super(),this.#n=f=>{if(!lc&&window.addEventListener){const b=()=>f(!0),C=()=>f(!1);return window.addEventListener("online",b,!1),window.addEventListener("offline",C,!1),()=>{window.removeEventListener("online",b),window.removeEventListener("offline",C)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(f){this.#n=f,this.#e?.(),this.#e=f(this.setOnline.bind(this))}setOnline(f){this.#t!==f&&(this.#t=f,this.listeners.forEach(C=>{C(f)}))}isOnline(){return this.#t}},Cp=new uS;function hS(f){return Math.min(1e3*2**f,3e4)}function n0(f){return(f??"online")==="online"?Cp.isOnline():!0}var Tb=class extends Error{constructor(f){super("CancelledError"),this.revert=f?.revert,this.silent=f?.silent}};function i0(f){let b=!1,C=0,y;const D=Sb(),j=()=>D.status!=="pending",M=V=>{if(!j()){const U=new Tb(V);x(U),f.onCancel?.(U)}},S=()=>{b=!0},A=()=>{b=!1},B=()=>Rb.isFocused()&&(f.networkMode==="always"||Cp.isOnline())&&f.canRun(),N=()=>n0(f.networkMode)&&f.canRun(),I=V=>{j()||(y?.(),D.resolve(V))},x=V=>{j()||(y?.(),D.reject(V))},O=()=>new Promise(V=>{y=U=>{(j()||B())&&V(U)},f.onPause?.()}).then(()=>{y=void 0,j()||f.onContinue?.()}),P=()=>{if(j())return;let V;const U=C===0?f.initialPromise:void 0;try{V=U??f.fn()}catch(Q){V=Promise.reject(Q)}Promise.resolve(V).then(I).catch(Q=>{if(j())return;const $=f.retry??(lc?0:3),it=f.retryDelay??hS,gt=typeof it=="function"?it(C,Q):it,At=$===!0||typeof $=="number"&&C<$||typeof $=="function"&&$(C,Q);if(b||!At){x(Q);return}C++,f.onFail?.(C,Q),rS(gt).then(()=>B()?void 0:O()).then(()=>{b?x(Q):P()})})};return{promise:D,status:()=>D.status,cancel:M,continue:()=>(y?.(),D),cancelRetry:S,continueRetry:A,canStart:N,start:()=>(N()?P():O().then(P),D)}}var o0=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xb(this.gcTime)&&(this.#t=sc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(f){this.gcTime=Math.max(this.gcTime||0,f??(lc?1/0:300*1e3))}clearGcTimeout(){this.#t&&(sc.clearTimeout(this.#t),this.#t=void 0)}},mS=class extends o0{#t;#e;#n;#o;#i;#s;#a;constructor(f){super(),this.#a=!1,this.#s=f.defaultOptions,this.setOptions(f.options),this.observers=[],this.#o=f.client,this.#n=this.#o.getQueryCache(),this.queryKey=f.queryKey,this.queryHash=f.queryHash,this.#t=Mv(this.options),this.state=f.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(f){if(this.options={...this.#s,...f},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const b=Mv(this.options);b.data!==void 0&&(this.setData(b.data,{updatedAt:b.dataUpdatedAt,manual:!0}),this.#t=b)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(f,b){const C=Db(this.state.data,f,this.options);return this.#r({data:C,type:"success",dataUpdatedAt:b?.updatedAt,manual:b?.manual}),C}setState(f,b){this.#r({type:"setState",state:f,setStateOptions:b})}cancel(f){const b=this.#i?.promise;return this.#i?.cancel(f),b?b.then(gi).catch(gi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(f=>so(f.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(f=>Fa(f.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(f=>f.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(f=0){return this.state.data===void 0?!0:f==="static"?!1:this.state.isInvalidated?!0:!Jv(this.state.dataUpdatedAt,f)}onFocus(){this.observers.find(b=>b.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(b=>b.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(f){this.observers.includes(f)||(this.observers.push(f),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:f}))}removeObserver(f){this.observers.includes(f)&&(this.observers=this.observers.filter(b=>b!==f),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:f}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(f,b){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&b?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(f&&this.setOptions(f),!this.options.queryFn){const S=this.observers.find(A=>A.options.queryFn);S&&this.setOptions(S.options)}const C=new AbortController,y=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(this.#a=!0,C.signal)})},D=()=>{const S=t0(this.options,b),B=(()=>{const N={client:this.#o,queryKey:this.queryKey,meta:this.meta};return y(N),N})();return this.#a=!1,this.options.persister?this.options.persister(S,B,this):S(B)},M=(()=>{const S={fetchOptions:b,options:this.options,queryKey:this.queryKey,client:this.#o,state:this.state,fetchFn:D};return y(S),S})();this.options.behavior?.onFetch(M,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==M.fetchOptions?.meta)&&this.#r({type:"fetch",meta:M.fetchOptions?.meta}),this.#i=i0({initialPromise:b?.initialPromise,fn:M.fetchFn,onCancel:S=>{S instanceof Tb&&S.revert&&this.setState({...this.#e,fetchStatus:"idle"}),C.abort()},onFail:(S,A)=>{this.#r({type:"failed",failureCount:S,error:A})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:M.options.retry,retryDelay:M.options.retryDelay,networkMode:M.options.networkMode,canRun:()=>!0});try{const S=await this.#i.start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),this.#n.config.onSuccess?.(S,this),this.#n.config.onSettled?.(S,this.state.error,this),S}catch(S){if(S instanceof Tb){if(S.silent)return this.#i.promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw this.#r({type:"error",error:S}),this.#n.config.onError?.(S,this),this.#n.config.onSettled?.(this.state.data,S,this),S}finally{this.scheduleGc()}}#r(f){const b=C=>{switch(f.type){case"failed":return{...C,fetchFailureCount:f.failureCount,fetchFailureReason:f.error};case"pause":return{...C,fetchStatus:"paused"};case"continue":return{...C,fetchStatus:"fetching"};case"fetch":return{...C,...r0(C.data,this.options),fetchMeta:f.meta??null};case"success":const y={...C,data:f.data,dataUpdateCount:C.dataUpdateCount+1,dataUpdatedAt:f.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!f.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=f.manual?y:void 0,y;case"error":const D=f.error;return{...C,error:D,errorUpdateCount:C.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:C.fetchFailureCount+1,fetchFailureReason:D,fetchStatus:"idle",status:"error"};case"invalidate":return{...C,isInvalidated:!0};case"setState":return{...C,...f.state}}};this.state=b(this.state),vn.batch(()=>{this.observers.forEach(C=>{C.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:f})})}};function r0(f,b){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:n0(b.networkMode)?"fetching":"paused",...f===void 0&&{error:null,status:"pending"}}}function Mv(f){const b=typeof f.initialData=="function"?f.initialData():f.initialData,C=b!==void 0,y=C?typeof f.initialDataUpdatedAt=="function"?f.initialDataUpdatedAt():f.initialDataUpdatedAt:0;return{data:b,dataUpdateCount:0,dataUpdatedAt:C?y??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:C?"success":"pending",fetchStatus:"idle"}}var fS=class extends Hd{constructor(f,b){super(),this.options=b,this.#t=f,this.#r=null,this.#a=Sb(),this.bindMethods(),this.setOptions(b)}#t;#e=void 0;#n=void 0;#o=void 0;#i;#s;#a;#r;#g;#h;#m;#c;#d;#l;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Bv(this.#e,this.options)?this.#u():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mb(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mb(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#A(),this.#_(),this.#e.removeObserver(this)}setOptions(f){const b=this.options,C=this.#e;if(this.options=this.#t.defaultQueryOptions(f),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof so(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#C(),this.#e.setOptions(this.options),b._defaulted&&!_p(this.options,b)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const y=this.hasListeners();y&&Iv(this.#e,C,this.options,b)&&this.#u(),this.updateResult(),y&&(this.#e!==C||so(this.options.enabled,this.#e)!==so(b.enabled,this.#e)||Fa(this.options.staleTime,this.#e)!==Fa(b.staleTime,this.#e))&&this.#p();const D=this.#k();y&&(this.#e!==C||so(this.options.enabled,this.#e)!==so(b.enabled,this.#e)||D!==this.#l)&&this.#b(D)}getOptimisticResult(f){const b=this.#t.getQueryCache().build(this.#t,f),C=this.createResult(b,f);return pS(this,C)&&(this.#o=C,this.#s=this.options,this.#i=this.#e.state),C}getCurrentResult(){return this.#o}trackResult(f,b){return new Proxy(f,{get:(C,y)=>(this.trackProp(y),b?.(y),y==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(C,y))})}trackProp(f){this.#f.add(f)}getCurrentQuery(){return this.#e}refetch({...f}={}){return this.fetch({...f})}fetchOptimistic(f){const b=this.#t.defaultQueryOptions(f),C=this.#t.getQueryCache().build(this.#t,b);return C.fetch().then(()=>this.createResult(C,b))}fetch(f){return this.#u({...f,cancelRefetch:f.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#o))}#u(f){this.#C();let b=this.#e.fetch(this.options,f);return f?.throwOnError||(b=b.catch(gi)),b}#p(){this.#A();const f=Fa(this.options.staleTime,this.#e);if(lc||this.#o.isStale||!xb(f))return;const C=Jv(this.#o.dataUpdatedAt,f)+1;this.#c=sc.setTimeout(()=>{this.#o.isStale||this.updateResult()},C)}#k(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(f){this.#_(),this.#l=f,!(lc||so(this.options.enabled,this.#e)===!1||!xb(this.#l)||this.#l===0)&&(this.#d=sc.setInterval(()=>{(this.options.refetchIntervalInBackground||Rb.isFocused())&&this.#u()},this.#l))}#w(){this.#p(),this.#b(this.#k())}#A(){this.#c&&(sc.clearTimeout(this.#c),this.#c=void 0)}#_(){this.#d&&(sc.clearInterval(this.#d),this.#d=void 0)}createResult(f,b){const C=this.#e,y=this.options,D=this.#o,j=this.#i,M=this.#s,A=f!==C?f.state:this.#n,{state:B}=f;let N={...B},I=!1,x;if(b._optimisticResults){const kt=this.hasListeners(),_t=!kt&&Bv(f,b),Mt=kt&&Iv(f,C,b,y);(_t||Mt)&&(N={...N,...r0(B.data,f.options)}),b._optimisticResults==="isRestoring"&&(N.fetchStatus="idle")}let{error:O,errorUpdatedAt:P,status:V}=N;x=N.data;let U=!1;if(b.placeholderData!==void 0&&x===void 0&&V==="pending"){let kt;D?.isPlaceholderData&&b.placeholderData===M?.placeholderData?(kt=D.data,U=!0):kt=typeof b.placeholderData=="function"?b.placeholderData(this.#m?.state.data,this.#m):b.placeholderData,kt!==void 0&&(V="success",x=Db(D?.data,kt,b),I=!0)}if(b.select&&x!==void 0&&!U)if(D&&x===j?.data&&b.select===this.#g)x=this.#h;else try{this.#g=b.select,x=b.select(x),x=Db(D?.data,x,b),this.#h=x,this.#r=null}catch(kt){this.#r=kt}this.#r&&(O=this.#r,x=this.#h,P=Date.now(),V="error");const Q=N.fetchStatus==="fetching",$=V==="pending",it=V==="error",gt=$&&Q,At=x!==void 0,ht={status:V,fetchStatus:N.fetchStatus,isPending:$,isSuccess:V==="success",isError:it,isInitialLoading:gt,isLoading:gt,data:x,dataUpdatedAt:N.dataUpdatedAt,error:O,errorUpdatedAt:P,failureCount:N.fetchFailureCount,failureReason:N.fetchFailureReason,errorUpdateCount:N.errorUpdateCount,isFetched:N.dataUpdateCount>0||N.errorUpdateCount>0,isFetchedAfterMount:N.dataUpdateCount>A.dataUpdateCount||N.errorUpdateCount>A.errorUpdateCount,isFetching:Q,isRefetching:Q&&!$,isLoadingError:it&&!At,isPaused:N.fetchStatus==="paused",isPlaceholderData:I,isRefetchError:it&&At,isStale:jb(f,b),refetch:this.refetch,promise:this.#a,isEnabled:so(b.enabled,f)!==!1};if(this.options.experimental_prefetchInRender){const kt=Rt=>{ht.status==="error"?Rt.reject(ht.error):ht.data!==void 0&&Rt.resolve(ht.data)},_t=()=>{const Rt=this.#a=ht.promise=Sb();kt(Rt)},Mt=this.#a;switch(Mt.status){case"pending":f.queryHash===C.queryHash&&kt(Mt);break;case"fulfilled":(ht.status==="error"||ht.data!==Mt.value)&&_t();break;case"rejected":(ht.status!=="error"||ht.error!==Mt.reason)&&_t();break}}return ht}updateResult(){const f=this.#o,b=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#s=this.options,this.#i.data!==void 0&&(this.#m=this.#e),_p(b,f))return;this.#o=b;const C=()=>{if(!f)return!0;const{notifyOnChangeProps:y}=this.options,D=typeof y=="function"?y():y;if(D==="all"||!D&&!this.#f.size)return!0;const j=new Set(D??this.#f);return this.options.throwOnError&&j.add("error"),Object.keys(this.#o).some(M=>{const S=M;return this.#o[S]!==f[S]&&j.has(S)})};this.#v({listeners:C()})}#C(){const f=this.#t.getQueryCache().build(this.#t,this.options);if(f===this.#e)return;const b=this.#e;this.#e=f,this.#n=f.state,this.hasListeners()&&(b?.removeObserver(this),f.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#v(f){vn.batch(()=>{f.listeners&&this.listeners.forEach(b=>{b(this.#o)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function gS(f,b){return so(b.enabled,f)!==!1&&f.state.data===void 0&&!(f.state.status==="error"&&b.retryOnMount===!1)}function Bv(f,b){return gS(f,b)||f.state.data!==void 0&&Mb(f,b,b.refetchOnMount)}function Mb(f,b,C){if(so(b.enabled,f)!==!1&&Fa(b.staleTime,f)!=="static"){const y=typeof C=="function"?C(f):C;return y==="always"||y!==!1&&jb(f,b)}return!1}function Iv(f,b,C,y){return(f!==b||so(y.enabled,f)===!1)&&(!C.suspense||f.state.status!=="error")&&jb(f,C)}function jb(f,b){return so(b.enabled,f)!==!1&&f.isStaleByTime(Fa(b.staleTime,f))}function pS(f,b){return!_p(f.getCurrentResult(),b)}function Nv(f){return{onFetch:(b,C)=>{const y=b.options,D=b.fetchOptions?.meta?.fetchMore?.direction,j=b.state.data?.pages||[],M=b.state.data?.pageParams||[];let S={pages:[],pageParams:[]},A=0;const B=async()=>{let N=!1;const I=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(b.signal.aborted?N=!0:b.signal.addEventListener("abort",()=>{N=!0}),b.signal)})},x=t0(b.options,b.fetchOptions),O=async(P,V,U)=>{if(N)return Promise.reject();if(V==null&&P.pages.length)return Promise.resolve(P);const $=(()=>{const Dt={client:b.client,queryKey:b.queryKey,pageParam:V,direction:U?"backward":"forward",meta:b.options.meta};return I(Dt),Dt})(),it=await x($),{maxPages:gt}=b.options,At=U?aS:sS;return{pages:At(P.pages,it,gt),pageParams:At(P.pageParams,V,gt)}};if(D&&j.length){const P=D==="backward",V=P?kS:zv,U={pages:j,pageParams:M},Q=V(y,U);S=await O(U,Q,P)}else{const P=f??j.length;do{const V=A===0?M[0]??y.initialPageParam:zv(y,S);if(A>0&&V==null)break;S=await O(S,V),A++}while(A<P)}return S};b.options.persister?b.fetchFn=()=>b.options.persister?.(B,{client:b.client,queryKey:b.queryKey,meta:b.options.meta,signal:b.signal},C):b.fetchFn=B}}}function zv(f,{pages:b,pageParams:C}){const y=b.length-1;return b.length>0?f.getNextPageParam(b[y],b,C[y],C):void 0}function kS(f,{pages:b,pageParams:C}){return b.length>0?f.getPreviousPageParam?.(b[0],b,C[0],C):void 0}var bS=class extends o0{#t;#e;#n;#o;constructor(f){super(),this.#t=f.client,this.mutationId=f.mutationId,this.#n=f.mutationCache,this.#e=[],this.state=f.state||s0(),this.setOptions(f.options),this.scheduleGc()}setOptions(f){this.options=f,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(f){this.#e.includes(f)||(this.#e.push(f),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:f}))}removeObserver(f){this.#e=this.#e.filter(b=>b!==f),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:f})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#o?.continue()??this.execute(this.state.variables)}async execute(f){const b=()=>{this.#i({type:"continue"})},C={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#o=i0({fn:()=>this.options.mutationFn?this.options.mutationFn(f,C):Promise.reject(new Error("No mutationFn found")),onFail:(j,M)=>{this.#i({type:"failed",failureCount:j,error:M})},onPause:()=>{this.#i({type:"pause"})},onContinue:b,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const y=this.state.status==="pending",D=!this.#o.canStart();try{if(y)b();else{this.#i({type:"pending",variables:f,isPaused:D}),await this.#n.config.onMutate?.(f,this,C);const M=await this.options.onMutate?.(f,C);M!==this.state.context&&this.#i({type:"pending",context:M,variables:f,isPaused:D})}const j=await this.#o.start();return await this.#n.config.onSuccess?.(j,f,this.state.context,this,C),await this.options.onSuccess?.(j,f,this.state.context,C),await this.#n.config.onSettled?.(j,null,this.state.variables,this.state.context,this,C),await this.options.onSettled?.(j,null,f,this.state.context,C),this.#i({type:"success",data:j}),j}catch(j){try{throw await this.#n.config.onError?.(j,f,this.state.context,this,C),await this.options.onError?.(j,f,this.state.context,C),await this.#n.config.onSettled?.(void 0,j,this.state.variables,this.state.context,this,C),await this.options.onSettled?.(void 0,j,f,this.state.context,C),j}finally{this.#i({type:"error",error:j})}}finally{this.#n.runNext(this)}}#i(f){const b=C=>{switch(f.type){case"failed":return{...C,failureCount:f.failureCount,failureReason:f.error};case"pause":return{...C,isPaused:!0};case"continue":return{...C,isPaused:!1};case"pending":return{...C,context:f.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:f.isPaused,status:"pending",variables:f.variables,submittedAt:Date.now()};case"success":return{...C,data:f.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...C,data:void 0,error:f.error,failureCount:C.failureCount+1,failureReason:f.error,isPaused:!1,status:"error"}}};this.state=b(this.state),vn.batch(()=>{this.#e.forEach(C=>{C.onMutationUpdate(f)}),this.#n.notify({mutation:this,type:"updated",action:f})})}};function s0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wS=class extends Hd{constructor(f={}){super(),this.config=f,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(f,b,C){const y=new bS({client:f,mutationCache:this,mutationId:++this.#n,options:f.defaultMutationOptions(b),state:C});return this.add(y),y}add(f){this.#t.add(f);const b=gp(f);if(typeof b=="string"){const C=this.#e.get(b);C?C.push(f):this.#e.set(b,[f])}this.notify({type:"added",mutation:f})}remove(f){if(this.#t.delete(f)){const b=gp(f);if(typeof b=="string"){const C=this.#e.get(b);if(C)if(C.length>1){const y=C.indexOf(f);y!==-1&&C.splice(y,1)}else C[0]===f&&this.#e.delete(b)}}this.notify({type:"removed",mutation:f})}canRun(f){const b=gp(f);if(typeof b=="string"){const y=this.#e.get(b)?.find(D=>D.state.status==="pending");return!y||y===f}else return!0}runNext(f){const b=gp(f);return typeof b=="string"?this.#e.get(b)?.find(y=>y!==f&&y.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){vn.batch(()=>{this.#t.forEach(f=>{this.notify({type:"removed",mutation:f})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(f){const b={exact:!0,...f};return this.getAll().find(C=>Dv(b,C))}findAll(f={}){return this.getAll().filter(b=>Dv(f,b))}notify(f){vn.batch(()=>{this.listeners.forEach(b=>{b(f)})})}resumePausedMutations(){const f=this.getAll().filter(b=>b.state.isPaused);return vn.batch(()=>Promise.all(f.map(b=>b.continue().catch(gi))))}};function gp(f){return f.options.scope?.id}var AS=class extends Hd{#t;#e=void 0;#n;#o;constructor(b,C){super(),this.#t=b,this.setOptions(C),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(b){const C=this.options;this.options=this.#t.defaultMutationOptions(b),_p(this.options,C)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),C?.mutationKey&&this.options.mutationKey&&cc(C.mutationKey)!==cc(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(b){this.#i(),this.#s(b)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(b,C){return this.#o=C,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(b)}#i(){const b=this.#n?.state??s0();this.#e={...b,isPending:b.status==="pending",isSuccess:b.status==="success",isError:b.status==="error",isIdle:b.status==="idle",mutate:this.mutate,reset:this.reset}}#s(b){vn.batch(()=>{if(this.#o&&this.hasListeners()){const C=this.#e.variables,y=this.#e.context,D={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};b?.type==="success"?(this.#o.onSuccess?.(b.data,C,y,D),this.#o.onSettled?.(b.data,null,C,y,D)):b?.type==="error"&&(this.#o.onError?.(b.error,C,y,D),this.#o.onSettled?.(void 0,b.error,C,y,D))}this.listeners.forEach(C=>{C(this.#e)})})}},_S=class extends Hd{constructor(f={}){super(),this.config=f,this.#t=new Map}#t;build(f,b,C){const y=b.queryKey,D=b.queryHash??Ob(y,b);let j=this.get(D);return j||(j=new mS({client:f,queryKey:y,queryHash:D,options:f.defaultQueryOptions(b),state:C,defaultOptions:f.getQueryDefaults(y)}),this.add(j)),j}add(f){this.#t.has(f.queryHash)||(this.#t.set(f.queryHash,f),this.notify({type:"added",query:f}))}remove(f){const b=this.#t.get(f.queryHash);b&&(f.destroy(),b===f&&this.#t.delete(f.queryHash),this.notify({type:"removed",query:f}))}clear(){vn.batch(()=>{this.getAll().forEach(f=>{this.remove(f)})})}get(f){return this.#t.get(f)}getAll(){return[...this.#t.values()]}find(f){const b={exact:!0,...f};return this.getAll().find(C=>Ev(b,C))}findAll(f={}){const b=this.getAll();return Object.keys(f).length>0?b.filter(C=>Ev(f,C)):b}notify(f){vn.batch(()=>{this.listeners.forEach(b=>{b(f)})})}onFocus(){vn.batch(()=>{this.getAll().forEach(f=>{f.onFocus()})})}onOnline(){vn.batch(()=>{this.getAll().forEach(f=>{f.onOnline()})})}},CS=class{#t;#e;#n;#o;#i;#s;#a;#r;constructor(f={}){this.#t=f.queryCache||new _S,this.#e=f.mutationCache||new wS,this.#n=f.defaultOptions||{},this.#o=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=Rb.subscribe(async f=>{f&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#r=Cp.subscribe(async f=>{f&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#r?.(),this.#r=void 0)}isFetching(f){return this.#t.findAll({...f,fetchStatus:"fetching"}).length}isMutating(f){return this.#e.findAll({...f,status:"pending"}).length}getQueryData(f){const b=this.defaultQueryOptions({queryKey:f});return this.#t.get(b.queryHash)?.state.data}ensureQueryData(f){const b=this.defaultQueryOptions(f),C=this.#t.build(this,b),y=C.state.data;return y===void 0?this.fetchQuery(f):(f.revalidateIfStale&&C.isStaleByTime(Fa(b.staleTime,C))&&this.prefetchQuery(b),Promise.resolve(y))}getQueriesData(f){return this.#t.findAll(f).map(({queryKey:b,state:C})=>{const y=C.data;return[b,y]})}setQueryData(f,b,C){const y=this.defaultQueryOptions({queryKey:f}),j=this.#t.get(y.queryHash)?.state.data,M=iS(b,j);if(M!==void 0)return this.#t.build(this,y).setData(M,{...C,manual:!0})}setQueriesData(f,b,C){return vn.batch(()=>this.#t.findAll(f).map(({queryKey:y})=>[y,this.setQueryData(y,b,C)]))}getQueryState(f){const b=this.defaultQueryOptions({queryKey:f});return this.#t.get(b.queryHash)?.state}removeQueries(f){const b=this.#t;vn.batch(()=>{b.findAll(f).forEach(C=>{b.remove(C)})})}resetQueries(f,b){const C=this.#t;return vn.batch(()=>(C.findAll(f).forEach(y=>{y.reset()}),this.refetchQueries({type:"active",...f},b)))}cancelQueries(f,b={}){const C={revert:!0,...b},y=vn.batch(()=>this.#t.findAll(f).map(D=>D.cancel(C)));return Promise.all(y).then(gi).catch(gi)}invalidateQueries(f,b={}){return vn.batch(()=>(this.#t.findAll(f).forEach(C=>{C.invalidate()}),f?.refetchType==="none"?Promise.resolve():this.refetchQueries({...f,type:f?.refetchType??f?.type??"active"},b)))}refetchQueries(f,b={}){const C={...b,cancelRefetch:b.cancelRefetch??!0},y=vn.batch(()=>this.#t.findAll(f).filter(D=>!D.isDisabled()&&!D.isStatic()).map(D=>{let j=D.fetch(void 0,C);return C.throwOnError||(j=j.catch(gi)),D.state.fetchStatus==="paused"?Promise.resolve():j}));return Promise.all(y).then(gi)}fetchQuery(f){const b=this.defaultQueryOptions(f);b.retry===void 0&&(b.retry=!1);const C=this.#t.build(this,b);return C.isStaleByTime(Fa(b.staleTime,C))?C.fetch(b):Promise.resolve(C.state.data)}prefetchQuery(f){return this.fetchQuery(f).then(gi).catch(gi)}fetchInfiniteQuery(f){return f.behavior=Nv(f.pages),this.fetchQuery(f)}prefetchInfiniteQuery(f){return this.fetchInfiniteQuery(f).then(gi).catch(gi)}ensureInfiniteQueryData(f){return f.behavior=Nv(f.pages),this.ensureQueryData(f)}resumePausedMutations(){return Cp.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(f){this.#n=f}setQueryDefaults(f,b){this.#o.set(cc(f),{queryKey:f,defaultOptions:b})}getQueryDefaults(f){const b=[...this.#o.values()],C={};return b.forEach(y=>{Dm(f,y.queryKey)&&Object.assign(C,y.defaultOptions)}),C}setMutationDefaults(f,b){this.#i.set(cc(f),{mutationKey:f,defaultOptions:b})}getMutationDefaults(f){const b=[...this.#i.values()],C={};return b.forEach(y=>{Dm(f,y.mutationKey)&&Object.assign(C,y.defaultOptions)}),C}defaultQueryOptions(f){if(f._defaulted)return f;const b={...this.#n.queries,...this.getQueryDefaults(f.queryKey),...f,_defaulted:!0};return b.queryHash||(b.queryHash=Ob(b.queryKey,b)),b.refetchOnReconnect===void 0&&(b.refetchOnReconnect=b.networkMode!=="always"),b.throwOnError===void 0&&(b.throwOnError=!!b.suspense),!b.networkMode&&b.persister&&(b.networkMode="offlineFirst"),b.queryFn===Lb&&(b.enabled=!1),b}defaultMutationOptions(f){return f?._defaulted?f:{...this.#n.mutations,...f?.mutationKey&&this.getMutationDefaults(f.mutationKey),...f,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},a0=nt.createContext(void 0),Pb=f=>{const b=nt.useContext(a0);if(!b)throw new Error("No QueryClient set, use QueryClientProvider to set one");return b},vS=({client:f,children:b})=>(nt.useEffect(()=>(f.mount(),()=>{f.unmount()}),[f]),at.jsx(a0.Provider,{value:f,children:b})),l0=nt.createContext(!1),yS=()=>nt.useContext(l0);l0.Provider;function xS(){let f=!1;return{clearReset:()=>{f=!1},reset:()=>{f=!0},isReset:()=>f}}var ES=nt.createContext(xS()),DS=()=>nt.useContext(ES),SS=(f,b)=>{(f.suspense||f.throwOnError||f.experimental_prefetchInRender)&&(b.isReset()||(f.retryOnMount=!1))},TS=f=>{nt.useEffect(()=>{f.clearReset()},[f])},MS=({result:f,errorResetBoundary:b,throwOnError:C,query:y,suspense:D})=>f.isError&&!b.isReset()&&!f.isFetching&&y&&(D&&f.data===void 0||e0(C,[f.error,y])),BS=f=>{if(f.suspense){const C=D=>D==="static"?D:Math.max(D??1e3,1e3),y=f.staleTime;f.staleTime=typeof y=="function"?(...D)=>C(y(...D)):C(y),typeof f.gcTime=="number"&&(f.gcTime=Math.max(f.gcTime,1e3))}},IS=(f,b)=>f.isLoading&&f.isFetching&&!b,NS=(f,b)=>f?.suspense&&b.isPending,Ov=(f,b,C)=>b.fetchOptimistic(f).catch(()=>{C.clearReset()});function zS(f,b,C){const y=yS(),D=DS(),j=Pb(),M=j.defaultQueryOptions(f);j.getDefaultOptions().queries?._experimental_beforeQuery?.(M),M._optimisticResults=y?"isRestoring":"optimistic",BS(M),SS(M,D),TS(D);const S=!j.getQueryCache().get(M.queryHash),[A]=nt.useState(()=>new b(j,M)),B=A.getOptimisticResult(M),N=!y&&f.subscribed!==!1;if(nt.useSyncExternalStore(nt.useCallback(I=>{const x=N?A.subscribe(vn.batchCalls(I)):gi;return A.updateResult(),x},[A,N]),()=>A.getCurrentResult(),()=>A.getCurrentResult()),nt.useEffect(()=>{A.setOptions(M)},[M,A]),NS(M,B))throw Ov(M,A,D);if(MS({result:B,errorResetBoundary:D,throwOnError:M.throwOnError,query:j.getQueryCache().get(M.queryHash),suspense:M.suspense}))throw B.error;return j.getDefaultOptions().queries?._experimental_afterQuery?.(M,B),M.experimental_prefetchInRender&&!lc&&IS(B,y)&&(S?Ov(M,A,D):j.getQueryCache().get(M.queryHash)?.promise)?.catch(gi).finally(()=>{A.updateResult()}),M.notifyOnChangeProps?B:A.trackResult(B)}function Fb(f,b){return zS(f,fS)}function OS(f,b){const C=Pb(),[y]=nt.useState(()=>new AS(C,f));nt.useEffect(()=>{y.setOptions(f)},[y,f]);const D=nt.useSyncExternalStore(nt.useCallback(M=>y.subscribe(vn.batchCalls(M)),[y]),()=>y.getCurrentResult(),()=>y.getCurrentResult()),j=nt.useCallback((M,S)=>{y.mutate(M,S).catch(gi)},[y]);if(D.error&&e0(y.options.throwOnError,[D.error]))throw D.error;return{...D,mutate:j,mutateAsync:D.mutate}}/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Lv="popstate";function LS(f={}){function b(y,D){let{pathname:j,search:M,hash:S}=y.location;return Bb("",{pathname:j,search:M,hash:S},D.state&&D.state.usr||null,D.state&&D.state.key||"default")}function C(y,D){return typeof D=="string"?D:Sm(D)}return jS(b,C,null,f)}function Ke(f,b){if(f===!1||f===null||typeof f>"u")throw new Error(b)}function Or(f,b){if(!f){typeof console<"u"&&console.warn(b);try{throw new Error(b)}catch{}}}function RS(){return Math.random().toString(36).substring(2,10)}function Rv(f,b){return{usr:f.state,key:f.key,idx:b}}function Bb(f,b,C=null,y){return{pathname:typeof f=="string"?f:f.pathname,search:"",hash:"",...typeof b=="string"?qd(b):b,state:C,key:b&&b.key||y||RS()}}function Sm({pathname:f="/",search:b="",hash:C=""}){return b&&b!=="?"&&(f+=b.charAt(0)==="?"?b:"?"+b),C&&C!=="#"&&(f+=C.charAt(0)==="#"?C:"#"+C),f}function qd(f){let b={};if(f){let C=f.indexOf("#");C>=0&&(b.hash=f.substring(C),f=f.substring(0,C));let y=f.indexOf("?");y>=0&&(b.search=f.substring(y),f=f.substring(0,y)),f&&(b.pathname=f)}return b}function jS(f,b,C,y={}){let{window:D=document.defaultView,v5Compat:j=!1}=y,M=D.history,S="POP",A=null,B=N();B==null&&(B=0,M.replaceState({...M.state,idx:B},""));function N(){return(M.state||{idx:null}).idx}function I(){S="POP";let U=N(),Q=U==null?null:U-B;B=U,A&&A({action:S,location:V.location,delta:Q})}function x(U,Q){S="PUSH";let $=Bb(V.location,U,Q);B=N()+1;let it=Rv($,B),gt=V.createHref($);try{M.pushState(it,"",gt)}catch(At){if(At instanceof DOMException&&At.name==="DataCloneError")throw At;D.location.assign(gt)}j&&A&&A({action:S,location:V.location,delta:1})}function O(U,Q){S="REPLACE";let $=Bb(V.location,U,Q);B=N();let it=Rv($,B),gt=V.createHref($);M.replaceState(it,"",gt),j&&A&&A({action:S,location:V.location,delta:0})}function P(U){return PS(U)}let V={get action(){return S},get location(){return f(D,M)},listen(U){if(A)throw new Error("A history only accepts one active listener");return D.addEventListener(Lv,I),A=U,()=>{D.removeEventListener(Lv,I),A=null}},createHref(U){return b(D,U)},createURL:P,encodeLocation(U){let Q=P(U);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:x,replace:O,go(U){return M.go(U)}};return V}function PS(f,b=!1){let C="http://localhost";typeof window<"u"&&(C=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(C,"No window.location.(origin|href) available to create URL");let y=typeof f=="string"?f:Sm(f);return y=y.replace(/ $/,"%20"),!b&&y.startsWith("//")&&(y=C+y),new URL(y,C)}function c0(f,b,C="/"){return FS(f,b,C,!1)}function FS(f,b,C,y){let D=typeof b=="string"?qd(b):b,j=Ts(D.pathname||"/",C);if(j==null)return null;let M=d0(f);VS(M);let S=null;for(let A=0;S==null&&A<M.length;++A){let B=JS(j);S=$S(M[A],B,y)}return S}function d0(f,b=[],C=[],y="",D=!1){let j=(M,S,A=D,B)=>{let N={relativePath:B===void 0?M.path||"":B,caseSensitive:M.caseSensitive===!0,childrenIndex:S,route:M};if(N.relativePath.startsWith("/")){if(!N.relativePath.startsWith(y)&&A)return;Ke(N.relativePath.startsWith(y),`Absolute route path "${N.relativePath}" nested under path "${y}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),N.relativePath=N.relativePath.slice(y.length)}let I=Ss([y,N.relativePath]),x=C.concat(N);M.children&&M.children.length>0&&(Ke(M.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${I}".`),d0(M.children,b,x,I,A)),!(M.path==null&&!M.index)&&b.push({path:I,score:QS(I,M.index),routesMeta:x})};return f.forEach((M,S)=>{if(M.path===""||!M.path?.includes("?"))j(M,S);else for(let A of u0(M.path))j(M,S,!0,A)}),b}function u0(f){let b=f.split("/");if(b.length===0)return[];let[C,...y]=b,D=C.endsWith("?"),j=C.replace(/\?$/,"");if(y.length===0)return D?[j,""]:[j];let M=u0(y.join("/")),S=[];return S.push(...M.map(A=>A===""?j:[j,A].join("/"))),D&&S.push(...M),S.map(A=>f.startsWith("/")&&A===""?"/":A)}function VS(f){f.sort((b,C)=>b.score!==C.score?C.score-b.score:WS(b.routesMeta.map(y=>y.childrenIndex),C.routesMeta.map(y=>y.childrenIndex)))}var US=/^:[\w-]+$/,HS=3,qS=2,GS=1,KS=10,YS=-2,jv=f=>f==="*";function QS(f,b){let C=f.split("/"),y=C.length;return C.some(jv)&&(y+=YS),b&&(y+=qS),C.filter(D=>!jv(D)).reduce((D,j)=>D+(US.test(j)?HS:j===""?GS:KS),y)}function WS(f,b){return f.length===b.length&&f.slice(0,-1).every((y,D)=>y===b[D])?f[f.length-1]-b[b.length-1]:0}function $S(f,b,C=!1){let{routesMeta:y}=f,D={},j="/",M=[];for(let S=0;S<y.length;++S){let A=y[S],B=S===y.length-1,N=j==="/"?b:b.slice(j.length)||"/",I=vp({path:A.relativePath,caseSensitive:A.caseSensitive,end:B},N),x=A.route;if(!I&&B&&C&&!y[y.length-1].route.index&&(I=vp({path:A.relativePath,caseSensitive:A.caseSensitive,end:!1},N)),!I)return null;Object.assign(D,I.params),M.push({params:D,pathname:Ss([j,I.pathname]),pathnameBase:nT(Ss([j,I.pathnameBase])),route:x}),I.pathnameBase!=="/"&&(j=Ss([j,I.pathnameBase]))}return M}function vp(f,b){typeof f=="string"&&(f={path:f,caseSensitive:!1,end:!0});let[C,y]=ZS(f.path,f.caseSensitive,f.end),D=b.match(C);if(!D)return null;let j=D[0],M=j.replace(/(.)\/+$/,"$1"),S=D.slice(1);return{params:y.reduce((B,{paramName:N,isOptional:I},x)=>{if(N==="*"){let P=S[x]||"";M=j.slice(0,j.length-P.length).replace(/(.)\/+$/,"$1")}const O=S[x];return I&&!O?B[N]=void 0:B[N]=(O||"").replace(/%2F/g,"/"),B},{}),pathname:j,pathnameBase:M,pattern:f}}function ZS(f,b=!1,C=!0){Or(f==="*"||!f.endsWith("*")||f.endsWith("/*"),`Route path "${f}" will be treated as if it were "${f.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${f.replace(/\*$/,"/*")}".`);let y=[],D="^"+f.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(M,S,A)=>(y.push({paramName:S,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return f.endsWith("*")?(y.push({paramName:"*"}),D+=f==="*"||f==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):C?D+="\\/*$":f!==""&&f!=="/"&&(D+="(?:(?=\\/|$))"),[new RegExp(D,b?void 0:"i"),y]}function JS(f){try{return f.split("/").map(b=>decodeURIComponent(b).replace(/\//g,"%2F")).join("/")}catch(b){return Or(!1,`The URL path "${f}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${b}).`),f}}function Ts(f,b){if(b==="/")return f;if(!f.toLowerCase().startsWith(b.toLowerCase()))return null;let C=b.endsWith("/")?b.length-1:b.length,y=f.charAt(C);return y&&y!=="/"?null:f.slice(C)||"/"}function XS(f,b="/"){let{pathname:C,search:y="",hash:D=""}=typeof f=="string"?qd(f):f;return{pathname:C?C.startsWith("/")?C:tT(C,b):b,search:iT(y),hash:oT(D)}}function tT(f,b){let C=b.replace(/\/+$/,"").split("/");return f.split("/").forEach(D=>{D===".."?C.length>1&&C.pop():D!=="."&&C.push(D)}),C.length>1?C.join("/"):"/"}function Cb(f,b,C,y){return`Cannot include a '${f}' character in a manually specified \`to.${b}\` field [${JSON.stringify(y)}].  Please separate it out to the \`to.${C}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eT(f){return f.filter((b,C)=>C===0||b.route.path&&b.route.path.length>0)}function h0(f){let b=eT(f);return b.map((C,y)=>y===b.length-1?C.pathname:C.pathnameBase)}function m0(f,b,C,y=!1){let D;typeof f=="string"?D=qd(f):(D={...f},Ke(!D.pathname||!D.pathname.includes("?"),Cb("?","pathname","search",D)),Ke(!D.pathname||!D.pathname.includes("#"),Cb("#","pathname","hash",D)),Ke(!D.search||!D.search.includes("#"),Cb("#","search","hash",D)));let j=f===""||D.pathname==="",M=j?"/":D.pathname,S;if(M==null)S=C;else{let I=b.length-1;if(!y&&M.startsWith("..")){let x=M.split("/");for(;x[0]==="..";)x.shift(),I-=1;D.pathname=x.join("/")}S=I>=0?b[I]:"/"}let A=XS(D,S),B=M&&M!=="/"&&M.endsWith("/"),N=(j||M===".")&&C.endsWith("/");return!A.pathname.endsWith("/")&&(B||N)&&(A.pathname+="/"),A}var Ss=f=>f.join("/").replace(/\/\/+/g,"/"),nT=f=>f.replace(/\/+$/,"").replace(/^\/*/,"/"),iT=f=>!f||f==="?"?"":f.startsWith("?")?f:"?"+f,oT=f=>!f||f==="#"?"":f.startsWith("#")?f:"#"+f;function rT(f){return f!=null&&typeof f.status=="number"&&typeof f.statusText=="string"&&typeof f.internal=="boolean"&&"data"in f}var f0=["POST","PUT","PATCH","DELETE"];new Set(f0);var sT=["GET",...f0];new Set(sT);var Gd=nt.createContext(null);Gd.displayName="DataRouter";var xp=nt.createContext(null);xp.displayName="DataRouterState";nt.createContext(!1);var g0=nt.createContext({isTransitioning:!1});g0.displayName="ViewTransition";var aT=nt.createContext(new Map);aT.displayName="Fetchers";var lT=nt.createContext(null);lT.displayName="Await";var Lr=nt.createContext(null);Lr.displayName="Navigation";var Tm=nt.createContext(null);Tm.displayName="Location";var Rr=nt.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var Vb=nt.createContext(null);Vb.displayName="RouteError";function cT(f,{relative:b}={}){Ke(Mm(),"useHref() may be used only in the context of a <Router> component.");let{basename:C,navigator:y}=nt.useContext(Lr),{hash:D,pathname:j,search:M}=Bm(f,{relative:b}),S=j;return C!=="/"&&(S=j==="/"?C:Ss([C,j])),y.createHref({pathname:S,search:M,hash:D})}function Mm(){return nt.useContext(Tm)!=null}function dc(){return Ke(Mm(),"useLocation() may be used only in the context of a <Router> component."),nt.useContext(Tm).location}var p0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k0(f){nt.useContext(Lr).static||nt.useLayoutEffect(f)}function Ep(){let{isDataRoute:f}=nt.useContext(Rr);return f?CT():dT()}function dT(){Ke(Mm(),"useNavigate() may be used only in the context of a <Router> component.");let f=nt.useContext(Gd),{basename:b,navigator:C}=nt.useContext(Lr),{matches:y}=nt.useContext(Rr),{pathname:D}=dc(),j=JSON.stringify(h0(y)),M=nt.useRef(!1);return k0(()=>{M.current=!0}),nt.useCallback((A,B={})=>{if(Or(M.current,p0),!M.current)return;if(typeof A=="number"){C.go(A);return}let N=m0(A,JSON.parse(j),D,B.relative==="path");f==null&&b!=="/"&&(N.pathname=N.pathname==="/"?b:Ss([b,N.pathname])),(B.replace?C.replace:C.push)(N,B.state,B)},[b,C,j,D,f])}nt.createContext(null);function b0(){let{matches:f}=nt.useContext(Rr),b=f[f.length-1];return b?b.params:{}}function Bm(f,{relative:b}={}){let{matches:C}=nt.useContext(Rr),{pathname:y}=dc(),D=JSON.stringify(h0(C));return nt.useMemo(()=>m0(f,JSON.parse(D),y,b==="path"),[f,D,y,b])}function uT(f,b){return w0(f,b)}function w0(f,b,C,y,D){Ke(Mm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:j}=nt.useContext(Lr),{matches:M}=nt.useContext(Rr),S=M[M.length-1],A=S?S.params:{},B=S?S.pathname:"/",N=S?S.pathnameBase:"/",I=S&&S.route;{let $=I&&I.path||"";A0(B,!I||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${B}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let x=dc(),O;if(b){let $=typeof b=="string"?qd(b):b;Ke(N==="/"||$.pathname?.startsWith(N),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${N}" but pathname "${$.pathname}" was given in the \`location\` prop.`),O=$}else O=x;let P=O.pathname||"/",V=P;if(N!=="/"){let $=N.replace(/^\//,"").split("/");V="/"+P.replace(/^\//,"").split("/").slice($.length).join("/")}let U=c0(f,{pathname:V});Or(I||U!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Or(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=pT(U&&U.map($=>Object.assign({},$,{params:Object.assign({},A,$.params),pathname:Ss([N,j.encodeLocation?j.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?N:Ss([N,j.encodeLocation?j.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),M,C,y,D);return b&&Q?nt.createElement(Tm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Q):Q}function hT(){let f=_T(),b=rT(f)?`${f.status} ${f.statusText}`:f instanceof Error?f.message:JSON.stringify(f),C=f instanceof Error?f.stack:null,y="rgba(200,200,200, 0.5)",D={padding:"0.5rem",backgroundColor:y},j={padding:"2px 4px",backgroundColor:y},M=null;return console.error("Error handled by React Router default ErrorBoundary:",f),M=nt.createElement(nt.Fragment,null,nt.createElement("p",null,"💿 Hey developer 👋"),nt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",nt.createElement("code",{style:j},"ErrorBoundary")," or"," ",nt.createElement("code",{style:j},"errorElement")," prop on your route.")),nt.createElement(nt.Fragment,null,nt.createElement("h2",null,"Unexpected Application Error!"),nt.createElement("h3",{style:{fontStyle:"italic"}},b),C?nt.createElement("pre",{style:D},C):null,M)}var mT=nt.createElement(hT,null),fT=class extends nt.Component{constructor(f){super(f),this.state={location:f.location,revalidation:f.revalidation,error:f.error}}static getDerivedStateFromError(f){return{error:f}}static getDerivedStateFromProps(f,b){return b.location!==f.location||b.revalidation!=="idle"&&f.revalidation==="idle"?{error:f.error,location:f.location,revalidation:f.revalidation}:{error:f.error!==void 0?f.error:b.error,location:b.location,revalidation:f.revalidation||b.revalidation}}componentDidCatch(f,b){this.props.unstable_onError?this.props.unstable_onError(f,b):console.error("React Router caught the following error during render",f)}render(){return this.state.error!==void 0?nt.createElement(Rr.Provider,{value:this.props.routeContext},nt.createElement(Vb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gT({routeContext:f,match:b,children:C}){let y=nt.useContext(Gd);return y&&y.static&&y.staticContext&&(b.route.errorElement||b.route.ErrorBoundary)&&(y.staticContext._deepestRenderedBoundaryId=b.route.id),nt.createElement(Rr.Provider,{value:f},C)}function pT(f,b=[],C=null,y=null,D=null){if(f==null){if(!C)return null;if(C.errors)f=C.matches;else if(b.length===0&&!C.initialized&&C.matches.length>0)f=C.matches;else return null}let j=f,M=C?.errors;if(M!=null){let B=j.findIndex(N=>N.route.id&&M?.[N.route.id]!==void 0);Ke(B>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(M).join(",")}`),j=j.slice(0,Math.min(j.length,B+1))}let S=!1,A=-1;if(C)for(let B=0;B<j.length;B++){let N=j[B];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(A=B),N.route.id){let{loaderData:I,errors:x}=C,O=N.route.loader&&!I.hasOwnProperty(N.route.id)&&(!x||x[N.route.id]===void 0);if(N.route.lazy||O){S=!0,A>=0?j=j.slice(0,A+1):j=[j[0]];break}}}return j.reduceRight((B,N,I)=>{let x,O=!1,P=null,V=null;C&&(x=M&&N.route.id?M[N.route.id]:void 0,P=N.route.errorElement||mT,S&&(A<0&&I===0?(A0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,V=null):A===I&&(O=!0,V=N.route.hydrateFallbackElement||null)));let U=b.concat(j.slice(0,I+1)),Q=()=>{let $;return x?$=P:O?$=V:N.route.Component?$=nt.createElement(N.route.Component,null):N.route.element?$=N.route.element:$=B,nt.createElement(gT,{match:N,routeContext:{outlet:B,matches:U,isDataRoute:C!=null},children:$})};return C&&(N.route.ErrorBoundary||N.route.errorElement||I===0)?nt.createElement(fT,{location:C.location,revalidation:C.revalidation,component:P,error:x,children:Q(),routeContext:{outlet:null,matches:U,isDataRoute:!0},unstable_onError:y}):Q()},null)}function Ub(f){return`${f} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kT(f){let b=nt.useContext(Gd);return Ke(b,Ub(f)),b}function bT(f){let b=nt.useContext(xp);return Ke(b,Ub(f)),b}function wT(f){let b=nt.useContext(Rr);return Ke(b,Ub(f)),b}function Hb(f){let b=wT(f),C=b.matches[b.matches.length-1];return Ke(C.route.id,`${f} can only be used on routes that contain a unique "id"`),C.route.id}function AT(){return Hb("useRouteId")}function _T(){let f=nt.useContext(Vb),b=bT("useRouteError"),C=Hb("useRouteError");return f!==void 0?f:b.errors?.[C]}function CT(){let{router:f}=kT("useNavigate"),b=Hb("useNavigate"),C=nt.useRef(!1);return k0(()=>{C.current=!0}),nt.useCallback(async(D,j={})=>{Or(C.current,p0),C.current&&(typeof D=="number"?f.navigate(D):await f.navigate(D,{fromRouteId:b,...j}))},[f,b])}var Pv={};function A0(f,b,C){!b&&!Pv[f]&&(Pv[f]=!0,Or(!1,C))}nt.memo(vT);function vT({routes:f,future:b,state:C,unstable_onError:y}){return w0(f,void 0,C,y,b)}function xm(f){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yT({basename:f="/",children:b=null,location:C,navigationType:y="POP",navigator:D,static:j=!1}){Ke(!Mm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let M=f.replace(/^\/*/,"/"),S=nt.useMemo(()=>({basename:M,navigator:D,static:j,future:{}}),[M,D,j]);typeof C=="string"&&(C=qd(C));let{pathname:A="/",search:B="",hash:N="",state:I=null,key:x="default"}=C,O=nt.useMemo(()=>{let P=Ts(A,M);return P==null?null:{location:{pathname:P,search:B,hash:N,state:I,key:x},navigationType:y}},[M,A,B,N,I,x,y]);return Or(O!=null,`<Router basename="${M}"> is not able to match the URL "${A}${B}${N}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:nt.createElement(Lr.Provider,{value:S},nt.createElement(Tm.Provider,{children:b,value:O}))}function xT({children:f,location:b}){return uT(Ib(f),b)}function Ib(f,b=[]){let C=[];return nt.Children.forEach(f,(y,D)=>{if(!nt.isValidElement(y))return;let j=[...b,D];if(y.type===nt.Fragment){C.push.apply(C,Ib(y.props.children,j));return}Ke(y.type===xm,`[${typeof y.type=="string"?y.type:y.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!y.props.index||!y.props.children,"An index route cannot have child routes.");let M={id:y.props.id||j.join("-"),caseSensitive:y.props.caseSensitive,element:y.props.element,Component:y.props.Component,index:y.props.index,path:y.props.path,middleware:y.props.middleware,loader:y.props.loader,action:y.props.action,hydrateFallbackElement:y.props.hydrateFallbackElement,HydrateFallback:y.props.HydrateFallback,errorElement:y.props.errorElement,ErrorBoundary:y.props.ErrorBoundary,hasErrorBoundary:y.props.hasErrorBoundary===!0||y.props.ErrorBoundary!=null||y.props.errorElement!=null,shouldRevalidate:y.props.shouldRevalidate,handle:y.props.handle,lazy:y.props.lazy};y.props.children&&(M.children=Ib(y.props.children,j)),C.push(M)}),C}var wp="get",Ap="application/x-www-form-urlencoded";function Dp(f){return f!=null&&typeof f.tagName=="string"}function ET(f){return Dp(f)&&f.tagName.toLowerCase()==="button"}function DT(f){return Dp(f)&&f.tagName.toLowerCase()==="form"}function ST(f){return Dp(f)&&f.tagName.toLowerCase()==="input"}function TT(f){return!!(f.metaKey||f.altKey||f.ctrlKey||f.shiftKey)}function MT(f,b){return f.button===0&&(!b||b==="_self")&&!TT(f)}var pp=null;function BT(){if(pp===null)try{new FormData(document.createElement("form"),0),pp=!1}catch{pp=!0}return pp}var IT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vb(f){return f!=null&&!IT.has(f)?(Or(!1,`"${f}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ap}"`),null):f}function NT(f,b){let C,y,D,j,M;if(DT(f)){let S=f.getAttribute("action");y=S?Ts(S,b):null,C=f.getAttribute("method")||wp,D=vb(f.getAttribute("enctype"))||Ap,j=new FormData(f)}else if(ET(f)||ST(f)&&(f.type==="submit"||f.type==="image")){let S=f.form;if(S==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let A=f.getAttribute("formaction")||S.getAttribute("action");if(y=A?Ts(A,b):null,C=f.getAttribute("formmethod")||S.getAttribute("method")||wp,D=vb(f.getAttribute("formenctype"))||vb(S.getAttribute("enctype"))||Ap,j=new FormData(S,f),!BT()){let{name:B,type:N,value:I}=f;if(N==="image"){let x=B?`${B}.`:"";j.append(`${x}x`,"0"),j.append(`${x}y`,"0")}else B&&j.append(B,I)}}else{if(Dp(f))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');C=wp,y=null,D=Ap,M=f}return j&&D==="text/plain"&&(M=j,j=void 0),{action:y,method:C.toLowerCase(),encType:D,formData:j,body:M}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qb(f,b){if(f===!1||f===null||typeof f>"u")throw new Error(b)}function zT(f,b,C){let y=typeof f=="string"?new URL(f,typeof window>"u"?"server://singlefetch/":window.location.origin):f;return y.pathname==="/"?y.pathname=`_root.${C}`:b&&Ts(y.pathname,b)==="/"?y.pathname=`${b.replace(/\/$/,"")}/_root.${C}`:y.pathname=`${y.pathname.replace(/\/$/,"")}.${C}`,y}async function OT(f,b){if(f.id in b)return b[f.id];try{let C=await import(f.module);return b[f.id]=C,C}catch(C){return console.error(`Error loading route module \`${f.module}\`, reloading page...`),console.error(C),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LT(f){return f==null?!1:f.href==null?f.rel==="preload"&&typeof f.imageSrcSet=="string"&&typeof f.imageSizes=="string":typeof f.rel=="string"&&typeof f.href=="string"}async function RT(f,b,C){let y=await Promise.all(f.map(async D=>{let j=b.routes[D.route.id];if(j){let M=await OT(j,C);return M.links?M.links():[]}return[]}));return VT(y.flat(1).filter(LT).filter(D=>D.rel==="stylesheet"||D.rel==="preload").map(D=>D.rel==="stylesheet"?{...D,rel:"prefetch",as:"style"}:{...D,rel:"prefetch"}))}function Fv(f,b,C,y,D,j){let M=(A,B)=>C[B]?A.route.id!==C[B].route.id:!0,S=(A,B)=>C[B].pathname!==A.pathname||C[B].route.path?.endsWith("*")&&C[B].params["*"]!==A.params["*"];return j==="assets"?b.filter((A,B)=>M(A,B)||S(A,B)):j==="data"?b.filter((A,B)=>{let N=y.routes[A.route.id];if(!N||!N.hasLoader)return!1;if(M(A,B)||S(A,B))return!0;if(A.route.shouldRevalidate){let I=A.route.shouldRevalidate({currentUrl:new URL(D.pathname+D.search+D.hash,window.origin),currentParams:C[0]?.params||{},nextUrl:new URL(f,window.origin),nextParams:A.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function jT(f,b,{includeHydrateFallback:C}={}){return PT(f.map(y=>{let D=b.routes[y.route.id];if(!D)return[];let j=[D.module];return D.clientActionModule&&(j=j.concat(D.clientActionModule)),D.clientLoaderModule&&(j=j.concat(D.clientLoaderModule)),C&&D.hydrateFallbackModule&&(j=j.concat(D.hydrateFallbackModule)),D.imports&&(j=j.concat(D.imports)),j}).flat(1))}function PT(f){return[...new Set(f)]}function FT(f){let b={},C=Object.keys(f).sort();for(let y of C)b[y]=f[y];return b}function VT(f,b){let C=new Set;return new Set(b),f.reduce((y,D)=>{let j=JSON.stringify(FT(D));return C.has(j)||(C.add(j),y.push({key:j,link:D})),y},[])}function _0(){let f=nt.useContext(Gd);return qb(f,"You must render this element inside a <DataRouterContext.Provider> element"),f}function UT(){let f=nt.useContext(xp);return qb(f,"You must render this element inside a <DataRouterStateContext.Provider> element"),f}var Gb=nt.createContext(void 0);Gb.displayName="FrameworkContext";function C0(){let f=nt.useContext(Gb);return qb(f,"You must render this element inside a <HydratedRouter> element"),f}function HT(f,b){let C=nt.useContext(Gb),[y,D]=nt.useState(!1),[j,M]=nt.useState(!1),{onFocus:S,onBlur:A,onMouseEnter:B,onMouseLeave:N,onTouchStart:I}=b,x=nt.useRef(null);nt.useEffect(()=>{if(f==="render"&&M(!0),f==="viewport"){let V=Q=>{Q.forEach($=>{M($.isIntersecting)})},U=new IntersectionObserver(V,{threshold:.5});return x.current&&U.observe(x.current),()=>{U.disconnect()}}},[f]),nt.useEffect(()=>{if(y){let V=setTimeout(()=>{M(!0)},100);return()=>{clearTimeout(V)}}},[y]);let O=()=>{D(!0)},P=()=>{D(!1),M(!1)};return C?f!=="intent"?[j,x,{}]:[j,x,{onFocus:ym(S,O),onBlur:ym(A,P),onMouseEnter:ym(B,O),onMouseLeave:ym(N,P),onTouchStart:ym(I,O)}]:[!1,x,{}]}function ym(f,b){return C=>{f&&f(C),C.defaultPrevented||b(C)}}function qT({page:f,...b}){let{router:C}=_0(),y=nt.useMemo(()=>c0(C.routes,f,C.basename),[C.routes,f,C.basename]);return y?nt.createElement(KT,{page:f,matches:y,...b}):null}function GT(f){let{manifest:b,routeModules:C}=C0(),[y,D]=nt.useState([]);return nt.useEffect(()=>{let j=!1;return RT(f,b,C).then(M=>{j||D(M)}),()=>{j=!0}},[f,b,C]),y}function KT({page:f,matches:b,...C}){let y=dc(),{manifest:D,routeModules:j}=C0(),{basename:M}=_0(),{loaderData:S,matches:A}=UT(),B=nt.useMemo(()=>Fv(f,b,A,D,y,"data"),[f,b,A,D,y]),N=nt.useMemo(()=>Fv(f,b,A,D,y,"assets"),[f,b,A,D,y]),I=nt.useMemo(()=>{if(f===y.pathname+y.search+y.hash)return[];let P=new Set,V=!1;if(b.forEach(Q=>{let $=D.routes[Q.route.id];!$||!$.hasLoader||(!B.some(it=>it.route.id===Q.route.id)&&Q.route.id in S&&j[Q.route.id]?.shouldRevalidate||$.hasClientLoader?V=!0:P.add(Q.route.id))}),P.size===0)return[];let U=zT(f,M,"data");return V&&P.size>0&&U.searchParams.set("_routes",b.filter(Q=>P.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[U.pathname+U.search]},[M,S,y,D,B,b,f,j]),x=nt.useMemo(()=>jT(N,D),[N,D]),O=GT(N);return nt.createElement(nt.Fragment,null,I.map(P=>nt.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...C})),x.map(P=>nt.createElement("link",{key:P,rel:"modulepreload",href:P,...C})),O.map(({key:P,link:V})=>nt.createElement("link",{key:P,nonce:C.nonce,...V})))}function YT(...f){return b=>{f.forEach(C=>{typeof C=="function"?C(b):C!=null&&(C.current=b)})}}var v0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v0&&(window.__reactRouterVersion="7.9.4")}catch{}function QT({basename:f,children:b,window:C}){let y=nt.useRef();y.current==null&&(y.current=LS({window:C,v5Compat:!0}));let D=y.current,[j,M]=nt.useState({action:D.action,location:D.location}),S=nt.useCallback(A=>{nt.startTransition(()=>M(A))},[M]);return nt.useLayoutEffect(()=>D.listen(S),[D,S]),nt.createElement(yT,{basename:f,children:b,location:j.location,navigationType:j.action,navigator:D})}var y0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Va=nt.forwardRef(function({onClick:b,discover:C="render",prefetch:y="none",relative:D,reloadDocument:j,replace:M,state:S,target:A,to:B,preventScrollReset:N,viewTransition:I,...x},O){let{basename:P}=nt.useContext(Lr),V=typeof B=="string"&&y0.test(B),U,Q=!1;if(typeof B=="string"&&V&&(U=B,v0))try{let _t=new URL(window.location.href),Mt=B.startsWith("//")?new URL(_t.protocol+B):new URL(B),Rt=Ts(Mt.pathname,P);Mt.origin===_t.origin&&Rt!=null?B=Rt+Mt.search+Mt.hash:Q=!0}catch{Or(!1,`<Link to="${B}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=cT(B,{relative:D}),[it,gt,At]=HT(y,x),Dt=JT(B,{replace:M,state:S,target:A,preventScrollReset:N,relative:D,viewTransition:I});function ht(_t){b&&b(_t),_t.defaultPrevented||Dt(_t)}let kt=nt.createElement("a",{...x,...At,href:U||$,onClick:Q||j?b:ht,ref:YT(O,gt),target:A,"data-discover":!V&&C==="render"?"true":void 0});return it&&!V?nt.createElement(nt.Fragment,null,kt,nt.createElement(qT,{page:$})):kt});Va.displayName="Link";var WT=nt.forwardRef(function({"aria-current":b="page",caseSensitive:C=!1,className:y="",end:D=!1,style:j,to:M,viewTransition:S,children:A,...B},N){let I=Bm(M,{relative:B.relative}),x=dc(),O=nt.useContext(xp),{navigator:P,basename:V}=nt.useContext(Lr),U=O!=null&&iM(I)&&S===!0,Q=P.encodeLocation?P.encodeLocation(I).pathname:I.pathname,$=x.pathname,it=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;C||($=$.toLowerCase(),it=it?it.toLowerCase():null,Q=Q.toLowerCase()),it&&V&&(it=Ts(it,V)||it);const gt=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let At=$===Q||!D&&$.startsWith(Q)&&$.charAt(gt)==="/",Dt=it!=null&&(it===Q||!D&&it.startsWith(Q)&&it.charAt(Q.length)==="/"),ht={isActive:At,isPending:Dt,isTransitioning:U},kt=At?b:void 0,_t;typeof y=="function"?_t=y(ht):_t=[y,At?"active":null,Dt?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let Mt=typeof j=="function"?j(ht):j;return nt.createElement(Va,{...B,"aria-current":kt,className:_t,ref:N,style:Mt,to:M,viewTransition:S},typeof A=="function"?A(ht):A)});WT.displayName="NavLink";var $T=nt.forwardRef(({discover:f="render",fetcherKey:b,navigate:C,reloadDocument:y,replace:D,state:j,method:M=wp,action:S,onSubmit:A,relative:B,preventScrollReset:N,viewTransition:I,...x},O)=>{let P=eM(),V=nM(S,{relative:B}),U=M.toLowerCase()==="get"?"get":"post",Q=typeof S=="string"&&y0.test(S),$=it=>{if(A&&A(it),it.defaultPrevented)return;it.preventDefault();let gt=it.nativeEvent.submitter,At=gt?.getAttribute("formmethod")||M;P(gt||it.currentTarget,{fetcherKey:b,method:At,navigate:C,replace:D,state:j,relative:B,preventScrollReset:N,viewTransition:I})};return nt.createElement("form",{ref:O,method:U,action:V,onSubmit:y?A:$,...x,"data-discover":!Q&&f==="render"?"true":void 0})});$T.displayName="Form";function ZT(f){return`${f} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x0(f){let b=nt.useContext(Gd);return Ke(b,ZT(f)),b}function JT(f,{target:b,replace:C,state:y,preventScrollReset:D,relative:j,viewTransition:M}={}){let S=Ep(),A=dc(),B=Bm(f,{relative:j});return nt.useCallback(N=>{if(MT(N,b)){N.preventDefault();let I=C!==void 0?C:Sm(A)===Sm(B);S(f,{replace:I,state:y,preventScrollReset:D,relative:j,viewTransition:M})}},[A,S,B,C,y,b,f,D,j,M])}var XT=0,tM=()=>`__${String(++XT)}__`;function eM(){let{router:f}=x0("useSubmit"),{basename:b}=nt.useContext(Lr),C=AT();return nt.useCallback(async(y,D={})=>{let{action:j,method:M,encType:S,formData:A,body:B}=NT(y,b);if(D.navigate===!1){let N=D.fetcherKey||tM();await f.fetch(N,C,D.action||j,{preventScrollReset:D.preventScrollReset,formData:A,body:B,formMethod:D.method||M,formEncType:D.encType||S,flushSync:D.flushSync})}else await f.navigate(D.action||j,{preventScrollReset:D.preventScrollReset,formData:A,body:B,formMethod:D.method||M,formEncType:D.encType||S,replace:D.replace,state:D.state,fromRouteId:C,flushSync:D.flushSync,viewTransition:D.viewTransition})},[f,b,C])}function nM(f,{relative:b}={}){let{basename:C}=nt.useContext(Lr),y=nt.useContext(Rr);Ke(y,"useFormAction must be used inside a RouteContext");let[D]=y.matches.slice(-1),j={...Bm(f||".",{relative:b})},M=dc();if(f==null){j.search=M.search;let S=new URLSearchParams(j.search),A=S.getAll("index");if(A.some(N=>N==="")){S.delete("index"),A.filter(I=>I).forEach(I=>S.append("index",I));let N=S.toString();j.search=N?`?${N}`:""}}return(!f||f===".")&&D.route.index&&(j.search=j.search?j.search.replace(/^\?/,"?index&"):"?index"),C!=="/"&&(j.pathname=j.pathname==="/"?C:Ss([C,j.pathname])),Sm(j)}function iM(f,{relative:b}={}){let C=nt.useContext(g0);Ke(C!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:y}=x0("useViewTransitionState"),D=Bm(f,{relative:b});if(!C.isTransitioning)return!1;let j=Ts(C.currentLocation.pathname,y)||C.currentLocation.pathname,M=Ts(C.nextLocation.pathname,y)||C.nextLocation.pathname;return vp(D.pathname,M)!=null||vp(D.pathname,j)!=null}const Vv=f=>{let b;const C=new Set,y=(B,N)=>{const I=typeof B=="function"?B(b):B;if(!Object.is(I,b)){const x=b;b=N??(typeof I!="object"||I===null)?I:Object.assign({},b,I),C.forEach(O=>O(b,x))}},D=()=>b,S={setState:y,getState:D,getInitialState:()=>A,subscribe:B=>(C.add(B),()=>C.delete(B))},A=b=f(y,D,S);return S},oM=(f=>f?Vv(f):Vv),rM=f=>f;function sM(f,b=rM){const C=Le.useSyncExternalStore(f.subscribe,Le.useCallback(()=>b(f.getState()),[f,b]),Le.useCallback(()=>b(f.getInitialState()),[f,b]));return Le.useDebugValue(C),C}const Uv=f=>{const b=oM(f),C=y=>sM(b,y);return Object.assign(C,b),C},aM=(f=>f?Uv(f):Uv),Hv="https://api.yposteriormente.com",Nr="https://api.yposteriormente.com/api",Kd=aM((f,b)=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,login:async(C,y)=>{f({isLoading:!0,error:null});try{const D=await qv(),j=await fetch(`${Nr}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":D},body:JSON.stringify({email:C,password:y}),credentials:"include"}),M=await j.json();if(!j.ok)throw new Error(M.error||M.message||"Error en el login");return f({user:M,isAuthenticated:!0,isLoading:!1,error:null}),{success:!0}}catch(D){return f({isLoading:!1,error:D.message}),{success:!1,error:D.message}}},register:async(C,y)=>{f({isLoading:!0,error:null});try{const D=await qv(),j=await fetch(`${Nr}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":D},body:JSON.stringify({email:C,password:y}),credentials:"include"}),M=await j.json();if(!j.ok)throw new Error(M.error||M.message||"Error en el registro");return f({user:M,isAuthenticated:!0,isLoading:!1,error:null}),{success:!0,data:M}}catch(D){return f({isLoading:!1,error:D.message}),{success:!1,error:D.message}}},logout:async()=>{try{await fetch(`${Nr}/auth/logout`,{method:"POST",credentials:"include"})}catch(C){console.error("Error during logout:",C)}f({user:null,isAuthenticated:!1,error:null})},checkAuth:async()=>{try{const C=await fetch(`${Nr}/auth/me`,{credentials:"include"});if(C.ok){const y=await C.json();f({user:y,isAuthenticated:!0})}else f({user:null,isAuthenticated:!1})}catch{f({user:null,isAuthenticated:!1})}},clearError:()=>f({error:null})}));async function qv(){return(await(await fetch(`${Nr}/csrf-token`,{credentials:"include"})).json()).csrfToken}function lM({onFeedClick:f}){const{isAuthenticated:b,user:C,logout:y}=Kd(),D=()=>{y()};return at.jsxs("nav",{style:{display:"flex",gap:"24px",alignItems:"center",padding:"16px 0"},children:[at.jsx(Va,{to:"/",id:"nav-feed",onClick:f,children:"Feed"}),b?at.jsxs(at.Fragment,{children:[at.jsxs("span",{children:["Bienvenido, ",C?.username]}),at.jsx("button",{onClick:D,style:{background:"none",border:"none",color:"blue",cursor:"pointer",textDecoration:"underline"},children:"Logout"})]}):at.jsxs(at.Fragment,{children:[at.jsx(Va,{to:"/registro",children:"Registro"}),at.jsx(Va,{to:"/login",children:"Login"})]})]})}function cM({feed:f}){return!f||f.length===0?at.jsxs("div",{id:"section-feed",style:{marginBottom:"32px"},children:[at.jsx("h3",{children:"Feed público"}),at.jsx("div",{children:"No hay textos completos disponibles en el feed."})]}):at.jsxs("div",{id:"section-feed",style:{marginBottom:"32px"},children:[at.jsx("h3",{children:"Feed público"}),at.jsx("ul",{children:f.map(b=>at.jsxs("li",{children:[at.jsx("span",{dangerouslySetInnerHTML:{__html:b.mensaje}}),b.creado_en&&at.jsx("span",{style:{color:"#888",marginLeft:"8px"},children:new Date(b.creado_en).toLocaleString()})]},b.id))})]})}function dM({outputMsg:f,outputType:b,outputMinimized:C,toggleOutputMinimize:y}){return f?at.jsx("div",{className:`output-menu ${b} ${C?"minimized":""}`,style:{position:"fixed",left:0,bottom:0,width:"100vw",zIndex:1200},children:at.jsxs("div",{id:"output-menu",style:{width:"100vw",maxWidth:"480px",margin:"0 auto",background:"#fff",color:"#222",boxShadow:"0 -4px 24px #0004",borderRadius:"16px 16px 0 0",padding:"24px 16px 32px 16px",position:"relative",bottom:C?"-120px":0,opacity:C?.5:1,transition:"bottom 0.3s, opacity 0.3s"},children:[!C&&at.jsx("button",{id:"output-min-btn",style:{position:"absolute",right:"12px",top:"16px",background:"transparent",color:"#222",border:"none",borderRadius:"50%",padding:0,width:"16px",height:"16px",fontSize:"1em",cursor:"pointer"},onClick:y,children:at.jsx("span",{id:"output-arrow-hide",style:{fontSize:"16px"},children:"▼"})}),C&&at.jsx("button",{id:"output-restore-btn",style:{position:"fixed",left:"50%",transform:"translateX(-50%)",bottom:0,zIndex:1300,background:"#eee",color:"#222",border:"none",borderRadius:"16px 16px 0 0",padding:"6px 18px",fontSize:"1.7em",cursor:"pointer",boxShadow:"0 -2px 8px #0002"},onClick:y,children:at.jsx("span",{id:"output-arrow-show",style:{fontSize:"1em"},children:"▲"})}),at.jsx("div",{id:"output-area",style:{minHeight:"32px",fontSize:"1em",color:b==="success"?"green":b==="error"?"red":"orange",marginTop:"8px"},children:f})]})}):null}function uM(f){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f)}function hM(f){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/.test(f)}function mM({showOutput:f}){const b=Ep(),{register:C,isLoading:y,error:D}=Kd(),[j,M]=nt.useState(""),[S,A]=nt.useState(""),B=async N=>{if(N.preventDefault(),!uM(j))return f("Correo electrónico inválido","error");if(!hM(S))return f("La contraseña debe tener al menos 8 caracteres, una mayúscula, una minúscula y un número","error");const I=await C(j,S);I.success?(f("Registro exitoso","success"),I.data?.username&&b(`/pagina/${I.data.username}`)):f(I.error,"error")};return at.jsx("div",{style:{maxWidth:400,margin:"40px auto",background:"#fff",padding:32,borderRadius:12,boxShadow:"0 4px 24px #0002"},children:at.jsxs("form",{id:"registerForm",onSubmit:B,children:[at.jsx("h2",{children:"Registro"}),at.jsxs("div",{style:{display:"flex",alignItems:"center",border:"2px solid #1976d2",borderRadius:8,padding:"12px",marginBottom:"16px",background:"#f7f7f7",width:"100%",boxSizing:"border-box"},children:[at.jsx("label",{htmlFor:"regEmail",style:{marginRight:"12px",minWidth:"120px"},children:"Correo electrónico:"}),at.jsx("input",{type:"email",id:"regEmail",required:!0,value:j,onChange:N=>M(N.target.value),disabled:y,style:{flex:1,padding:"8px",borderRadius:4,border:"1px solid #bbb",boxSizing:"border-box"}})]}),at.jsxs("div",{style:{display:"flex",alignItems:"center",border:"2px solid #1976d2",borderRadius:8,padding:"12px",marginBottom:"16px",background:"#f7f7f7",width:"100%",boxSizing:"border-box"},children:[at.jsx("label",{htmlFor:"regPass",style:{marginRight:"12px",minWidth:"120px"},children:"Contraseña:"}),at.jsx("input",{type:"password",id:"regPass",required:!0,value:S,onChange:N=>A(N.target.value),disabled:y,style:{flex:1,padding:"8px",borderRadius:4,border:"1px solid #bbb",boxSizing:"border-box"}})]}),at.jsx("button",{type:"submit",disabled:y,children:y?"Registrando...":"Registrar"})]})})}function fM({showOutput:f}){const b=Ep(),{login:C,isLoading:y,error:D}=Kd(),[j,M]=nt.useState(""),[S,A]=nt.useState(""),B=async N=>{N.preventDefault();const I=await C(j,S);I.success?(f("Login exitoso","success"),I.user?.username&&b(`/pagina/${I.user.username}`)):f(I.error,"error")};return at.jsx("div",{style:{maxWidth:400,margin:"40px auto",background:"#fff",padding:32,borderRadius:12,boxShadow:"0 4px 24px #0002"},children:at.jsxs("form",{id:"loginForm",onSubmit:B,children:[at.jsx("h2",{children:"Login"}),at.jsxs("div",{style:{display:"flex",alignItems:"center",border:"2px solid #1976d2",borderRadius:8,padding:"12px",marginBottom:"16px",background:"#f7f7f7",width:"100%",boxSizing:"border-box"},children:[at.jsx("label",{htmlFor:"logEmail",style:{marginRight:"12px",minWidth:"120px"},children:"Correo electrónico:"}),at.jsx("input",{type:"email",id:"logEmail",required:!0,value:j,onChange:N=>M(N.target.value),disabled:y,style:{flex:1,padding:"8px",borderRadius:4,border:"1px solid #bbb",boxSizing:"border-box"}})]}),at.jsxs("div",{style:{display:"flex",alignItems:"center",border:"2px solid #1976d2",borderRadius:8,padding:"12px",marginBottom:"16px",background:"#f7f7f7",width:"100%",boxSizing:"border-box"},children:[at.jsx("label",{htmlFor:"logPass",style:{marginRight:"12px",minWidth:"120px"},children:"Contraseña:"}),at.jsx("input",{type:"password",id:"logPass",required:!0,value:S,onChange:N=>A(N.target.value),disabled:y,style:{flex:1,padding:"8px",borderRadius:4,border:"1px solid #bbb",boxSizing:"border-box"}})]}),at.jsx("button",{type:"submit",disabled:y,children:y?"Iniciando sesión...":"Login"})]})})}const Gv="http://localhost:3000";function gM({paginaId:f,editable:b}){const[C,y]=nt.useState([]),D=nt.useRef([]);nt.useEffect(()=>{y([]),f&&fetch(`/api/paginas/${f}/imagenes`).then(M=>M.json()).then(M=>{const S=[];M.forEach(A=>{S[A.idx]=A.src}),y(S)}).catch(()=>{})},[f]);const j=async(M,S)=>{const A=S.target.files[0];if(!A||!f)return;let B="";try{B=(await(await fetch("/api/csrf-token",{credentials:"include"})).json()).csrfToken,console.log("[FRONTEND] Enviando CSRF token:",B)}catch{}const N=new FormData;N.append("imagen",A),N.append("index",M),fetch(`${Gv}/api/paginas/${f}/imagenes`,{method:"POST",headers:{"X-CSRF-Token":B},body:N,credentials:"include"}).then(I=>I.json()).then(()=>{fetch(`${Gv}/api/paginas/${f}/imagenes`).then(I=>I.json()).then(I=>{const x=[];I.forEach(O=>{x[O.idx]=O.src}),y(x)})})};return at.jsx("div",{style:{width:"100%",maxWidth:900,margin:"32px auto",display:"flex",justifyContent:"center",alignItems:"center",padding:"0 2vw",boxSizing:"border-box"},children:at.jsxs("div",{style:{width:"100%",background:"#fff",borderRadius:16,boxShadow:"0 2px 16px #0001",padding:"clamp(12px, 3vw, 24px)"},children:[at.jsx("h3",{style:{textAlign:"center",marginBottom:24,fontSize:"clamp(1.1rem, 3vw, 1.5rem)"},children:"Galería de imágenes"}),at.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gridAutoRows:"120px",gap:"clamp(8px, 2vw, 16px)",justifyContent:"center",width:"100%"},children:[C.map((M,S)=>at.jsx("div",{style:{border:"2px solid #1976d2",borderRadius:8,background:"#f7f7f7",width:"100%",height:"100%",minWidth:100,minHeight:100,maxWidth:140,maxHeight:140,display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:at.jsx("img",{src:M,alt:`Imagen ${S+1}`,style:{maxWidth:"100%",maxHeight:"100%",borderRadius:6}})},S)),b&&at.jsxs("div",{style:{border:"2px dashed #1976d2",borderRadius:8,background:"#f7f7f7",width:"100%",height:"100%",minWidth:100,minHeight:100,maxWidth:140,maxHeight:140,display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[at.jsx("button",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"8px 12px",borderRadius:6,background:"#1976d2",color:"#fff",border:"none",cursor:"pointer",fontSize:"clamp(0.9rem, 2vw, 1.1rem)"},onClick:()=>D.current[C.length]?.click(),children:"Subir"}),at.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},ref:M=>D.current[C.length]=M,onChange:M=>j(C.length,M),disabled:!b})]})]})]})})}const kp="http://localhost:3000";function pM({user:f,setUser:b,editable:C,authUserId:y,id:D}){const j=Le.useRef(),[M,S]=Le.useState(""),[A,B]=Le.useState(""),[N,I]=Le.useState("");Le.useEffect(()=>{async function P(){if(D)try{const V=await fetch(`${kp}/api/auth/user/${D}/foto`);if(V.ok){const U=await V.blob();S(URL.createObjectURL(U))}else S("")}catch{S("")}}P()},[D]);const x=()=>{C&&j.current&&(j.current.value="",j.current.click())},O=async P=>{B(""),I("");const V=P.target.files[0];if(!V)return;const U=new FormData;U.append("foto",V);try{const it=(await(await fetch(`${kp}/api/csrf-token`,{credentials:"include"})).json()).csrfToken;if((await fetch(`${kp}/api/auth/me/foto`,{method:"POST",headers:{"X-CSRF-Token":it},credentials:"include",body:U})).ok){if(B("Foto de perfil actualizada correctamente."),D){const At=await fetch(`${kp}/api/auth/user/${D}/foto`);if(At.ok){const Dt=await At.blob();S(URL.createObjectURL(Dt))}}}else I("Error al subir la foto de perfil.")}catch{I("Error de red al subir la foto.")}j.current&&(j.current.value="")};return at.jsxs("div",{style:{textAlign:"center",marginBottom:24},children:[M?at.jsx("img",{src:M,alt:"Foto de perfil",style:{width:"clamp(80px, 22vw, 120px)",height:"clamp(80px, 22vw, 120px)",objectFit:"cover",borderRadius:"50%",border:C?"3px solid #1976d2":"2px solid #ccc",boxShadow:C?"0 0 8px #1976d2":void 0,display:"block",margin:"0 auto 12px auto",cursor:C?"pointer":"default",transition:"box-shadow 0.2s, border 0.2s"},onClick:C?x:void 0,title:C?"Haz clic para cambiar la foto":void 0,onMouseOver:P=>{C&&(P.currentTarget.style.boxShadow="0 0 16px #1976d2")},onMouseOut:P=>{C&&(P.currentTarget.style.boxShadow="0 0 8px #1976d2")}}):at.jsx("div",{style:{width:"clamp(80px, 22vw, 120px)",height:"clamp(80px, 22vw, 120px)",borderRadius:"50%",background:"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",fontSize:32,color:"#888",margin:"0 auto 12px auto"},children:at.jsx("span",{children:"👤"})}),C&&at.jsx("input",{type:"file",accept:"image/*",ref:j,style:{display:"none"},onChange:O}),A&&at.jsx("div",{style:{color:"green",marginTop:8},children:A}),N&&at.jsx("div",{style:{color:"red",marginTop:8},children:N})]})}function kM({paginaUser:f,username:b,authUserId:C,onUsernameChange:y}){const D=b0(),[j,M]=Le.useState(b||f?.username||"");Le.useEffect(()=>{M(b||f?.username||"")},[b,f?.username]);const S=Le.useRef(null),A=C&&f?.user_id&&String(C)===String(f.user_id),B=Ep(),N=async V=>{let U="";if(V.target.value!==void 0?U=V.target.value.trim():V.target.innerText!==void 0&&(U=V.target.innerText.trim()),!U||U===f?.username){M(f?.username||""),x(!1);return}try{const it=(await(await fetch("/api/csrf-token",{credentials:"include"})).json()).csrfToken;if((await fetch(`http://localhost:3000/api/paginas/${f.id}/usuario`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":it},body:JSON.stringify({username:U}),credentials:"include"})).ok){M(U),x(!1),alert("Nombre de usuario actualizado correctamente");const At=U.replace(/\s+/g,"-");B(`/pagina/${At}`),typeof y=="function"&&y(U)}else M(f?.username||""),x(!1),alert("Error al actualizar el nombre de usuario")}catch{M(f?.username||""),x(!1),alert("Error de conexión al actualizar el nombre")}},[I,x]=Le.useState(!1);let O=D.username||j;O||(O="Haz click aquí para poner tu nombre");const P=Le.useRef(null);return Le.useEffect(()=>{I&&P.current&&P.current.focus()},[I]),at.jsx("div",{style:{textAlign:"center",marginBottom:24},children:A&&I?at.jsx("input",{ref:P,type:"text",value:j,onChange:V=>M(V.target.value),onBlur:N,style:{fontSize:"2rem",textAlign:"center",border:"2px solid #1976d2",borderRadius:8,padding:"4px 12px",width:"60%"}}):at.jsx("h2",{ref:S,style:{cursor:A?"pointer":"default",border:A?"2px solid #1976d2":"none",borderRadius:A?8:0,padding:A?"4px 12px":"0",display:"inline-block",outline:"none",textAlign:"center"},onClick:()=>{A&&(M(f?.usuario||f?.username||""),x(!0))},children:O})})}function bM({comentarios:f}){return at.jsxs("div",{style:{marginTop:24},children:[at.jsx("h4",{children:"Comentarios:"}),f.length===0?at.jsx("div",{style:{color:"#888"},children:"No hay comentarios aún."}):f.map(b=>at.jsxs("div",{style:{background:"#f7f7f7",margin:"8px 0",padding:"8px",borderRadius:6},children:[at.jsx("div",{dangerouslySetInnerHTML:{__html:b.comentario}}),at.jsxs("div",{style:{fontSize:"0.9em",color:"#555"},children:["Publicado por: ",b.user_id?at.jsx(Va,{to:b.username?`/pagina/${encodeURIComponent(b.username.replace(/\s+/g,"-"))}`:`/pagina/${encodeURIComponent(b.user_id.replace(/-/g,""))}`,style:{color:"#007bff",textDecoration:"underline"},children:b.username||b.user_id}):"Anónimo"," | ",new Date(b.creado_en).toLocaleString()]})]},b.id))]})}const E0=document.createElement("div");E0.innerHTML="<div class=wb-header><div class=wb-control><span class=wb-min></span><span class=wb-max></span><span class=wb-full></span><span class=wb-close></span></div><div class=wb-drag><div class=wb-icon></div><div class=wb-title></div></div></div><div class=wb-body></div><div class=wb-n></div><div class=wb-s></div><div class=wb-w></div><div class=wb-e></div><div class=wb-nw></div><div class=wb-ne></div><div class=wb-se></div><div class=wb-sw></div>";function wM(f){return(f||E0).cloneNode(!0)}function pi(f,b,C,y){f&&f.addEventListener(b,C,y||!1)}function bp(f,b,C,y){f&&f.removeEventListener(b,C,y||!1)}function ac(f,b){f.stopPropagation(),b&&f.preventDefault()}function Vo(f,b){return f.getElementsByClassName(b)[0]}function D0(f,b){f.classList.add(b)}function AM(f,b){return f.classList.contains(b)}function S0(f,b){f.classList.remove(b)}function Mi(f,b,C){C=""+C,f["_s_"+b]!==C&&(f.style.setProperty(b,C),f["_s_"+b]=C)}function _M(f,b){const C=f.firstChild;C?C.nodeValue=b:f.textContent=b}const Vd=[],qi=[],Kv={capture:!0,passive:!1},Pa={capture:!0,passive:!0};let ao,CM=0,yp=10,Ud,Ds,T0,Si,zr,Nb;function Se(f,b){if(!(this instanceof Se))return new Se(f);ao||vM();let C,y,D,j,M,S,A,B,N,I,x,O,P,V,U,Q,$,it,gt,At,Dt,ht,kt,_t,Mt,Rt,qt,le,H,Bt,rt,Ct,zt,de,fe,Y,dt,wt,xt,yt,Ut,ne,Xe,Te;if(f&&(b&&(M=f,f=b),typeof f=="string"?M=f:(C=f.id,y=f.index,D=f.root,j=f.template,M=M||f.title,S=f.icon,A=f.mount,B=f.html,N=f.url,I=f.width,x=f.height,O=f.minwidth,P=f.minheight,V=f.maxwidth,U=f.maxheight,Q=f.autosize,$=f.overflow,_t=f.min,Mt=f.max,Rt=f.hidden,qt=f.modal,it=f.x||(qt?"center":0),gt=f.y||(qt?"center":0),At=f.top,Dt=f.left,ht=f.bottom,kt=f.right,le=f.background,H=f.border,Bt=f.header,rt=f.class,Ct=f.oncreate,zt=f.onclose,de=f.onfocus,fe=f.onblur,Y=f.onmove,dt=f.onresize,wt=f.onfullscreen,xt=f.onmaximize,yt=f.onminimize,Ut=f.onrestore,ne=f.onhide,Xe=f.onshow,Te=f.onload)),this.dom=wM(j),this.dom.id=this.id=C||"winbox-"+ ++CM,this.dom.className="winbox"+(rt?" "+(typeof rt=="string"?rt:rt.join(" ")):"")+(qt?" modal":""),this.dom.winbox=this,this.window=this.dom,this.body=Vo(this.dom,"wb-body"),this.header=Bt||35,qi.push(this),le&&this.setBackground(le),H?Mi(this.body,"margin",H+(isNaN(H)?"":"px")):H=0,Bt){const Uo=Vo(this.dom,"wb-header");Mi(Uo,"height",Bt+"px"),Mi(Uo,"line-height",Bt+"px"),Mi(this.body,"top",Bt+"px")}M&&this.setTitle(M),S&&this.setIcon(S),A?this.mount(A):B?this.body.innerHTML=B:N&&this.setUrl(N,Te),At=At?Xn(At,zr):0,ht=ht?Xn(ht,zr):0,Dt=Dt?Xn(Dt,Si):0,kt=kt?Xn(kt,Si):0;const Gi=Si-Dt-kt,lo=zr-At-ht;V=V?Xn(V,Gi):Gi,U=U?Xn(U,lo):lo,O=O?Xn(O,V):150,P=P?Xn(P,U):this.header,Q?((D||ao).appendChild(this.body),I=Math.max(Math.min(this.body.clientWidth+H*2+1,V),O),x=Math.max(Math.min(this.body.clientHeight+this.header+H+1,U),P),this.dom.appendChild(this.body)):(I=I?Xn(I,V):Math.max(V/2,O)|0,x=x?Xn(x,U):Math.max(U/2,P)|0),it=it?Xn(it,Gi,I):Dt,gt=gt?Xn(gt,lo,x):At,this.x=it,this.y=gt,this.width=I,this.height=x,this.minwidth=O,this.minheight=P,this.maxwidth=V,this.maxheight=U,this.top=At,this.right=kt,this.bottom=ht,this.left=Dt,this.index=y,this.overflow=$,this.min=!1,this.max=!1,this.full=!1,this.hidden=!1,this.focused=!1,this.onclose=zt,this.onfocus=de,this.onblur=fe,this.onmove=Y,this.onresize=dt,this.onfullscreen=wt,this.onmaximize=xt,this.onminimize=yt,this.onrestore=Ut,this.onhide=ne,this.onshow=Xe,Rt?this.hide():this.focus(),(y||y===0)&&(this.index=y,Mi(this.dom,"z-index",y),y>yp&&(yp=y)),Mt?this.maximize():_t?this.minimize():this.resize().move(),yM(this),(D||ao).appendChild(this.dom),Ct&&Ct.call(this,f)}Se.new=function(f){return new Se(f)};Se.stack=function(){return qi};function Xn(f,b,C){if(typeof f=="string")if(f==="center")f=(b-C)/2+.5|0;else if(f==="right"||f==="bottom")f=b-C;else{const y=parseFloat(f);(""+y!==f&&f.substring((""+y).length))==="%"?f=b/100*y+.5|0:f=y}return f}function vM(){ao=document.body,ao[Ds="requestFullscreen"]||ao[Ds="msRequestFullscreen"]||ao[Ds="webkitRequestFullscreen"]||ao[Ds="mozRequestFullscreen"]||(Ds=""),T0=Ds&&Ds.replace("request","exit").replace("mozRequest","mozCancel").replace("Request","Exit"),pi(window,"resize",function(){Yv(),Kb()}),pi(ao,"mousedown",function(f){Nb=!1},!0),pi(ao,"mousedown",function(f){if(!Nb){const b=qi.length;if(b)for(let C=b-1;C>=0;C--){const y=qi[C];if(y.focused){y.blur();break}}}}),Yv()}function yM(f){Es(f,"drag"),Es(f,"n"),Es(f,"s"),Es(f,"w"),Es(f,"e"),Es(f,"nw"),Es(f,"ne"),Es(f,"se"),Es(f,"sw"),pi(Vo(f.dom,"wb-min"),"click",function(b){ac(b),f.min?f.restore().focus():f.minimize()}),pi(Vo(f.dom,"wb-max"),"click",function(b){ac(b),f.max?f.restore().focus():f.maximize().focus()}),Ds?pi(Vo(f.dom,"wb-full"),"click",function(b){ac(b),f.fullscreen().focus()}):f.addClass("no-full"),pi(Vo(f.dom,"wb-close"),"click",function(b){ac(b),f.close()||(f=null)}),pi(f.dom,"mousedown",function(b){Nb=!0},!0),pi(f.body,"mousedown",function(b){f.focus()},!0)}function Sp(f){Vd.splice(Vd.indexOf(f),1),Kb(),f.removeClass("min"),f.min=!1,f.dom.title=""}function Kb(){const f=Vd.length,b={},C={};for(let y=0,D,j;y<f;y++)D=Vd[y],j=D.left+":"+D.top,C[j]?C[j]++:(b[j]=0,C[j]=1);for(let y=0,D,j,M;y<f;y++)D=Vd[y],j=D.left+":"+D.top,M=Math.min((Si-D.left-D.right)/C[j],250),D.resize(M+1|0,D.header,!0).move(D.left+b[j]*M|0,zr-D.bottom-D.header,!0),b[j]++}function Es(f,b){const C=Vo(f.dom,"wb-"+b);if(!C)return;let y,D,j,M=0;pi(C,"mousedown",S,Kv),pi(C,"touchstart",S,Kv);function S(N){if(ac(N,!0),f.focus(),b==="drag"){if(f.min){f.restore();return}if(!f.hasClass("no-max")){const I=Date.now(),x=I-M;if(M=I,x<300){f.max?f.restore():f.maximize();return}}}f.min||(D0(ao,"wb-lock"),(y=N.touches)&&(y=y[0])?(N=y,pi(window,"touchmove",A,Pa),pi(window,"touchend",B,Pa)):(pi(window,"mousemove",A,Pa),pi(window,"mouseup",B,Pa)),D=N.pageX,j=N.pageY)}function A(N){ac(N),y&&(N=N.touches[0]);const I=N.pageX,x=N.pageY,O=I-D,P=x-j,V=f.width,U=f.height,Q=f.x,$=f.y;let it,gt,At,Dt;if(b==="drag"){if(f.hasClass("no-move"))return;f.x+=O,f.y+=P,At=Dt=1}else b==="e"||b==="se"||b==="ne"?(f.width+=O,it=1):(b==="w"||b==="sw"||b==="nw")&&(f.x+=O,f.width-=O,it=1,At=1),b==="s"||b==="se"||b==="sw"?(f.height+=P,gt=1):(b==="n"||b==="ne"||b==="nw")&&(f.y+=P,f.height-=P,gt=1,Dt=1);it&&(f.width=Math.max(Math.min(f.width,f.maxwidth,Si-f.x-f.right),f.minwidth),it=f.width!==V),gt&&(f.height=Math.max(Math.min(f.height,f.maxheight,zr-f.y-f.bottom),f.minheight),gt=f.height!==U),(it||gt)&&f.resize(),At&&(f.max&&(f.x=(I<Si/3?f.left:I>Si/3*2?Si-f.width-f.right:Si/2-f.width/2)+O),f.x=Math.max(Math.min(f.x,f.overflow?Si-30:Si-f.width-f.right),f.overflow?30-f.width:f.left),At=f.x!==Q),Dt&&(f.max&&(f.y=f.top+P),f.y=Math.max(Math.min(f.y,f.overflow?zr-f.header:zr-f.height-f.bottom),f.top),Dt=f.y!==$),(At||Dt)&&(f.max&&f.restore(),f.move()),(it||At)&&(D=I),(gt||Dt)&&(j=x)}function B(N){ac(N),S0(ao,"wb-lock"),y?(bp(window,"touchmove",A,Pa),bp(window,"touchend",B,Pa)):(bp(window,"mousemove",A,Pa),bp(window,"mouseup",B,Pa))}}function Yv(){const f=document.documentElement;Si=f.clientWidth,zr=f.clientHeight}Se.prototype.mount=function(f){return this.unmount(),f._backstore||(f._backstore=f.parentNode),this.body.textContent="",this.body.appendChild(f),this};Se.prototype.unmount=function(f){const b=this.body.firstChild;if(b){const C=f||b._backstore;C&&C.appendChild(b),b._backstore=f}return this};Se.prototype.setTitle=function(f){const b=Vo(this.dom,"wb-title");return _M(b,this.title=f),this};Se.prototype.setIcon=function(f){const b=Vo(this.dom,"wb-icon");return Mi(b,"background-image","url("+f+")"),Mi(b,"display","inline-block"),this};Se.prototype.setBackground=function(f){return Mi(this.dom,"background",f),this};Se.prototype.setUrl=function(f,b){const C=this.body.firstChild;return C&&C.tagName.toLowerCase()==="iframe"?C.src=f:(this.body.innerHTML='<iframe src="'+f+'"></iframe>',b&&(this.body.firstChild.onload=b)),this};Se.prototype.focus=function(f){if(f===!1)return this.blur();if(!this.focused){const b=qi.length;if(b>1)for(let C=1;C<=b;C++){const y=qi[b-C];if(y.focused){y.blur(),qi.push(qi.splice(qi.indexOf(this),1)[0]);break}}Mi(this.dom,"z-index",++yp),this.index=yp,this.addClass("focus"),this.focused=!0,this.onfocus&&this.onfocus()}return this};Se.prototype.blur=function(f){return f===!1?this.focus():(this.focused&&(this.removeClass("focus"),this.focused=!1,this.onblur&&this.onblur()),this)};Se.prototype.hide=function(f){if(f===!1)return this.show();if(!this.hidden)return this.onhide&&this.onhide(),this.hidden=!0,this.addClass("hide")};Se.prototype.show=function(f){if(f===!1)return this.hide();if(this.hidden)return this.onshow&&this.onshow(),this.hidden=!1,this.removeClass("hide")};Se.prototype.minimize=function(f){return f===!1?this.restore():(Ud&&Tp(),this.max&&(this.removeClass("max"),this.max=!1),this.min||(Vd.push(this),Kb(),this.dom.title=this.title,this.addClass("min"),this.min=!0,this.focused&&(this.blur(),M0()),this.onminimize&&this.onminimize()),this)};function M0(){const f=qi.length;if(f)for(let b=f-1;b>=0;b--){const C=qi[b];if(!C.min){C.focus();break}}}Se.prototype.restore=function(){return Ud&&Tp(),this.min&&(Sp(this),this.resize().move(),this.onrestore&&this.onrestore()),this.max&&(this.max=!1,this.removeClass("max").resize().move(),this.onrestore&&this.onrestore()),this};Se.prototype.maximize=function(f){return f===!1?this.restore():(Ud&&Tp(),this.min&&Sp(this),this.max||(this.addClass("max").resize(Si-this.left-this.right,zr-this.top-this.bottom,!0).move(this.left,this.top,!0),this.max=!0,this.onmaximize&&this.onmaximize()),this)};Se.prototype.fullscreen=function(f){if(this.min&&(Sp(this),this.resize().move()),!Ud||!Tp())this.body[Ds](),Ud=this,this.full=!0,this.onfullscreen&&this.onfullscreen();else if(f===!1)return this.restore();return this};function xM(){return document.fullscreen||document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement}function Tp(){if(Ud.full=!1,xM())return document[T0](),!0}Se.prototype.close=function(f){if(this.onclose&&this.onclose(f))return!0;this.min&&Sp(this),qi.splice(qi.indexOf(this),1),this.unmount(),this.dom.remove(),this.dom.textContent="",this.dom.winbox=null,this.body=null,this.dom=null,this.focused&&M0()};Se.prototype.move=function(f,b,C){return!f&&f!==0?(f=this.x,b=this.y):C||(this.x=f?f=Xn(f,Si-this.left-this.right,this.width):0,this.y=b?b=Xn(b,zr-this.top-this.bottom,this.height):0),Mi(this.dom,"left",f+"px"),Mi(this.dom,"top",b+"px"),this.onmove&&this.onmove(f,b),this};Se.prototype.resize=function(f,b,C){return!f&&f!==0?(f=this.width,b=this.height):C||(this.width=f?f=Xn(f,this.maxwidth):0,this.height=b?b=Xn(b,this.maxheight):0,f=Math.max(f,this.minwidth),b=Math.max(b,this.minheight)),Mi(this.dom,"width",f+"px"),Mi(this.dom,"height",b+"px"),this.onresize&&this.onresize(f,b),this};Se.prototype.addControl=function(f){const b=f.class,C=f.image,y=f.click,D=f.index,j=document.createElement("span"),M=Vo(this.dom,"wb-control"),S=this;return b&&(j.className=b),C&&Mi(j,"background-image","url("+C+")"),y&&(j.onclick=function(A){y.call(this,A,S)}),M.insertBefore(j,M.childNodes[D||0]),this};Se.prototype.removeControl=function(f){return f=Vo(this.dom,f),f&&f.remove(),this};Se.prototype.addClass=function(f){return D0(this.dom,f),this};Se.prototype.removeClass=function(f){return S0(this.dom,f),this};Se.prototype.hasClass=function(f){return AM(this.dom,f)};Se.prototype.toggleClass=function(f){return this.hasClass(f)?this.removeClass(f):this.addClass(f)};const EM=()=>Fb({queryKey:["feed"],queryFn:async()=>{const f=await fetch(`${Nr}/feed`,{credentials:"include"});if(!f.ok)throw new Error("Error al cargar el feed");return f.json()},staleTime:120*1e3}),DM=()=>{const f=Pb();return OS({mutationFn:async({pageId:b,comentario:C})=>{const y=await MM(),D=await fetch(`${Nr}/paginas/${b}/comentarios`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":y},body:JSON.stringify({comentario:C}),credentials:"include"});if(!D.ok){const j=await D.json();throw new Error(j.error||"Error al crear comentario")}return D.json()},onSuccess:(b,C)=>{f.invalidateQueries(["comments",C.pageId])}})},SM=f=>Fb({queryKey:["comments",f],queryFn:async()=>{const b=await fetch(`${Nr}/paginas/${f}/comentarios`,{credentials:"include"});if(!b.ok)throw new Error("Error al cargar comentarios");return b.json()},enabled:!!f,staleTime:60*1e3}),TM=f=>Fb({queryKey:["userPage",f],queryFn:async()=>{const b=await fetch(`${Nr}/paginas/pagina/${f}`,{credentials:"include"});if(!b.ok)throw new Error("Error al cargar página de usuario");return b.json()},enabled:!!f,staleTime:300*1e3});async function MM(){return(await(await fetch(`${Nr}/csrf-token`,{credentials:"include"})).json()).csrfToken}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function BM(){const f={resolve:null,promise:null};return f.promise=new Promise(b=>{f.resolve=b}),f}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function IM(f){let b=null;return(...C)=>(b||(b={current:f(...C)}),b.current)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Jn=new Array(256).fill("").map((f,b)=>("0"+b.toString(16)).slice(-2));function NM(){const[f,b,C,y]=crypto.getRandomValues(new Uint32Array(4));return"e"+Jn[f>>0&255]+Jn[f>>8&255]+Jn[f>>16&255]+Jn[f>>24&255]+Jn[b>>0&255]+Jn[b>>8&255]+Jn[b>>16&255]+Jn[b>>24&255]+Jn[C>>0&255]+Jn[C>>8&255]+Jn[C>>16&255]+Jn[C>>24&255]+Jn[y>>0&255]+Jn[y>>8&255]+Jn[y>>16&255]+Jn[y>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function zM(f,b){const C=f.extraPlugins||[];return{...f,extraPlugins:[...C,...b.filter(y=>!C.includes(y))]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function B0(f){return!!f&&/^\d+\.\d+\.\d+/.test(f)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function I0(f){return f?["nightly","alpha","internal","nightly-","staging"].some(b=>f.includes(b)):!1}function OM(f){return B0(f)||I0(f)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function LM(f){if(!B0(f))throw new Error(`Invalid semantic version: ${f||"<blank>"}.`);const[b,C,y]=f.split(".");return{major:Number.parseInt(b,10),minor:Number.parseInt(C,10),patch:Number.parseInt(y,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function RM(f){if(I0(f))return 3;const{major:b}=LM(f);switch(!0){case b>=44:return 3;case b>=38:return 2;default:return 1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function jM(){const{CKEDITOR_VERSION:f,CKEDITOR:b}=window;return OM(f)?{source:b?"cdn":"npm",version:f}:null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function PM(){const f=jM();return f?RM(f.version):null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function N0(f,b){switch(b||=PM()||void 0,b){case 1:case 2:return f===void 0;case 3:return f==="GPL";default:return!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function FM(f,b){return function(y){N0(y.config.get("licenseKey"))||y.on("collectUsageData",(D,{setUsageData:j})=>{j(`integration.${f}`,b)})}}var VM=Object.defineProperty,UM=(f,b,C)=>b in f?VM(f,b,{enumerable:!0,configurable:!0,writable:!0,value:C}):f[b]=C,Ti=(f,b,C)=>UM(f,typeof b!="symbol"?b+"":b,C);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const z0=class O0{constructor(b,C){Ti(this,"_lifecycle"),Ti(this,"_element"),Ti(this,"_releaseLock",null),Ti(this,"_value",null),Ti(this,"_afterMountCallbacks",[]),Ti(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),Ti(this,"release",IM(()=>{const{_releaseLock:y,_state:D,_element:j,_lifecycle:M}=this;D.mountingInProgress?D.mountingInProgress.then(()=>M.unmount({element:j,mountResult:this.value})).catch(S=>{console.error("CKEditor unmounting error:",S)}).then(y.resolve).then(()=>{this._value=null}):(D.destroyedBeforeInitialization=!0,y.resolve())})),this._element=b,this._lifecycle=C,this._lock()}get value(){return this._value}discard(){this._value=null,this._releaseLock=null,this._afterMountCallbacks=[],this._state={destroyedBeforeInitialization:!1,mountingInProgress:null}}unsafeSetValue(b){this._value=b,this._afterMountCallbacks.forEach(C=>{this._lifecycle.isValueValid&&!this._lifecycle.isValueValid(b)||C(b)}),this._afterMountCallbacks=[]}runAfterMount(b){const{_value:C,_afterMountCallbacks:y}=this;if(C){if(this._lifecycle.isValueValid&&!this._lifecycle.isValueValid(C))return;b(C)}else y.push(b)}_lock(){const{_semaphores:b}=O0,{_state:C,_element:y,_lifecycle:D}=this,j=b.get(y)||Promise.resolve(null),M=BM();this._releaseLock=M;const S=j.then(()=>C.destroyedBeforeInitialization?Promise.resolve(void 0):(C.mountingInProgress=D.mount().then(A=>(A&&this.unsafeSetValue(A),A)),C.mountingInProgress)).then(async A=>{A&&D.afterMount&&await D.afterMount({element:y,mountResult:A})}).then(()=>M.promise).catch(A=>{console.error("CKEditor mounting error:",A)}).then(()=>{b.get(y)===S&&b.delete(y)});b.set(y,S)}};Ti(z0,"_semaphores",new Map);let HM=z0;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const qM="$__CKEditorReactContextMetadata";function GM(f,b){return{...b,[qM]:f}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const KM=Le.createContext(null),YM=f=>!!f&&typeof f=="object"&&"status"in f&&["initializing","initialized","error"].includes(f.status),L0=f=>b=>YM(b)&&b.status===f,Qv=L0("initializing"),QM=f=>L0("initialized")(f)&&f.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const WM=FM("react",{version:"11.0.0",frameworkVersion:Le.version});/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function $M(f){return N0(f.licenseKey)?f:zM(f,[WM])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const yb="Lock from React integration (@ckeditor/ckeditor5-react)";class R0 extends Le.Component{constructor(b){super(b),Ti(this,"domContainer",Le.createRef()),Ti(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:b}=window;if(!b)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[C]=b.split(".").map(Number);C>=42||b.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:b}=this;return b?b.value:null}get watchdog(){const{_semaphoreValue:b}=this;return b?b.watchdog:null}get editor(){const{_semaphoreValue:b}=this;return b?b.instance:null}shouldComponentUpdate(b){const{props:C,editorSemaphore:y}=this;return b.id!==C.id||b.disableWatchdog!==C.disableWatchdog?!0:(y&&(y.runAfterMount(({instance:D})=>{this._shouldUpdateEditorData(C,b,D)&&D.data.set(b.data)}),"disabled"in b&&y.runAfterMount(({instance:D})=>{b.disabled?D.enableReadOnlyMode(yb):D.disableReadOnlyMode(yb)})),!1)}componentDidMount(){Qv(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){Qv(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new HM(this.domContainer.current,{isValueValid:b=>b&&!!b.instance,mount:async()=>{var b,C;try{return await this._initializeEditor()}catch(y){throw(C=(b=this.props).onError)==null||C.call(b,y,{phase:"initialization",willEditorRestart:!1}),y}},afterMount:({mountResult:b})=>{const{onReady:C}=this.props;C&&this.domContainer.current!==null&&C(b.instance)},unmount:async({element:b,mountResult:C})=>{const{onAfterDestroy:y}=this.props;try{await this._destroyEditor(C),b.innerHTML=""}finally{y&&y(C.instance)}}})}render(){return Le.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const b=QM(this.context)?new ZM(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),C={current:0};return b.setCreator(async(y,D)=>{var j;const{editorSemaphore:M}=this,{onAfterDestroy:S}=this.props;C.current>0&&S&&((j=M?.value)!=null&&j.instance)&&S(M.value.instance);const A=await this._createEditor(y,D);return M&&C.current>0&&(M.unsafeSetValue({instance:A,watchdog:b}),setTimeout(()=>{this.props.onReady&&this.props.onReady(b.editor)})),C.current++,A}),b.on("error",(y,{error:D,causesRestart:j})=>{(this.props.onError||console.error)(D,{phase:"runtime",willEditorRestart:j})}),await b.create(this.domContainer.current,this._getConfig()),{watchdog:b,instance:b.editor}}_createEditor(b,C){const{contextItemMetadata:y}=this.props;return y&&(C=GM(y,C)),this.props.editor.create(b,$M(C)).then(D=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&D.enableReadOnlyMode(yb)}const j=D.model.document,M=D.editing.view.document;return j.on("change:data",S=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(S,D)}),M.on("focus",S=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(S,D)}),M.on("blur",S=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(S,D)}),D})}async _destroyEditor(b){const{watchdog:C,instance:y}=b;return new Promise((D,j)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(C)return await C.destroy(),D();if(y)return await y.destroy(),D();D()}catch(M){console.error(M),j(M)}})})}_shouldUpdateEditorData(b,C,y){return!(b.data===C.data||y.data.get()===C.data)}_getConfig(){const b=this.props.config||{};return this.props.data&&b.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...b,initialData:b.initialData||this.props.data||""}}}Ti(R0,"contextType",KM);class ZM{constructor(b){Ti(this,"_contextWatchdog"),Ti(this,"_id"),Ti(this,"_creator"),this._contextWatchdog=b,this._id=NM()}setCreator(b){this._creator=b}create(b,C){return this._contextWatchdog.add({sourceElementOrData:b,config:C,creator:this._creator,id:this._id,type:"editor"})}on(b,C){this._contextWatchdog.on("itemError",(y,{itemId:D,error:j})=>{D===this._id&&C(null,{error:j,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function j0(...f){return b=>{f.forEach(C=>{typeof C=="function"?C(b):C!=null&&(C.current=b)})}}const JM=nt.memo(nt.forwardRef(({id:f,semaphore:b,rootName:C},y)=>{const D=nt.useRef(null);return nt.useEffect(()=>{let j,M;return b.runAfterMount(({instance:S})=>{if(!D.current)return;M=S;const{ui:A,model:B}=M,N=B.document.getRoot(C);N&&M.ui.getEditableElement(C)&&M.detachEditable(N),j=A.view.createEditable(C,D.current),A.addEditable(j),S.editing.view.forceRender()}),()=>{/* istanbul ignore next -- @preserve: It depends on the version of the React and may not happen all of the times. */if(M&&M.state!=="destroyed"&&D.current){const S=M.model.document.getRoot(C);/* istanbul ignore else -- @preserve */S&&M.detachEditable(S)}}},[b.revision]),Le.createElement("div",{key:b.revision,id:f,ref:j0(y,D)})}));JM.displayName="EditorEditable";const XM=nt.forwardRef(({editor:f},b)=>{const C=nt.useRef(null);return nt.useEffect(()=>{const y=C.current;if(!f||!y)return;const D=f.ui.view.toolbar.element;return y.appendChild(D),()=>{y.contains(D)&&y.removeChild(D)}},[f&&f.id]),Le.createElement("div",{ref:j0(C,b)})});XM.displayName="EditorToolbarWrapper";var Em={exports:{}};Em.exports;var Wv;function t5(){return Wv||(Wv=1,(function(f,b){(function(C){const y=C.en=C.en||{};y.dictionary=Object.assign(y.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.",File:"File","From computer":"From computer","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar",Image:"Image","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","Image via URL":"Image via URL","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert via URL":"Insert via URL","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lower–roman":"Lower–roman",Media:"Media","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus from an editable area back to the parent widget":"Move focus from an editable area back to the parent widget","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower–latin list style":"Toggle the lower–latin list style","Toggle the lower–roman list style":"Toggle the lower–roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper–latin list style":"Toggle the upper–latin list style","Toggle the upper–roman list style":"Toggle the upper–roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar","Via URL":"Via URL",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","With file manager":"With file manager","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(function(C,y){f.exports=y()})(self,(()=>(()=>{var C={9246:(M,S,A)=>{const B=A(6931),N={};for(const x of Object.keys(B))N[B[x]]=x;const I={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};M.exports=I;for(const x of Object.keys(I)){if(!("channels"in I[x]))throw new Error("missing channels property: "+x);if(!("labels"in I[x]))throw new Error("missing channel labels property: "+x);if(I[x].labels.length!==I[x].channels)throw new Error("channel and label counts mismatch: "+x);const{channels:O,labels:P}=I[x];delete I[x].channels,delete I[x].labels,Object.defineProperty(I[x],"channels",{value:O}),Object.defineProperty(I[x],"labels",{value:P})}I.rgb.hsl=function(x){const O=x[0]/255,P=x[1]/255,V=x[2]/255,U=Math.min(O,P,V),Q=Math.max(O,P,V),$=Q-U;let it,gt;Q===U?it=0:O===Q?it=(P-V)/$:P===Q?it=2+(V-O)/$:V===Q&&(it=4+(O-P)/$),it=Math.min(60*it,360),it<0&&(it+=360);const At=(U+Q)/2;return gt=Q===U?0:At<=.5?$/(Q+U):$/(2-Q-U),[it,100*gt,100*At]},I.rgb.hsv=function(x){let O,P,V,U,Q;const $=x[0]/255,it=x[1]/255,gt=x[2]/255,At=Math.max($,it,gt),Dt=At-Math.min($,it,gt),ht=function(kt){return(At-kt)/6/Dt+.5};return Dt===0?(U=0,Q=0):(Q=Dt/At,O=ht($),P=ht(it),V=ht(gt),$===At?U=V-P:it===At?U=.3333333333333333+O-V:gt===At&&(U=.6666666666666666+P-O),U<0?U+=1:U>1&&(U-=1)),[360*U,100*Q,100*At]},I.rgb.hwb=function(x){const O=x[0],P=x[1];let V=x[2];const U=I.rgb.hsl(x)[0],Q=1/255*Math.min(O,Math.min(P,V));return V=1-.00392156862745098*Math.max(O,Math.max(P,V)),[U,100*Q,100*V]},I.rgb.cmyk=function(x){const O=x[0]/255,P=x[1]/255,V=x[2]/255,U=Math.min(1-O,1-P,1-V);return[100*((1-O-U)/(1-U)||0),100*((1-P-U)/(1-U)||0),100*((1-V-U)/(1-U)||0),100*U]},I.rgb.keyword=function(x){const O=N[x];if(O)return O;let P,V=1/0;for(const $ of Object.keys(B)){const it=B[$],gt=(Q=it,((U=x)[0]-Q[0])**2+(U[1]-Q[1])**2+(U[2]-Q[2])**2);gt<V&&(V=gt,P=$)}var U,Q;return P},I.keyword.rgb=function(x){return B[x]},I.rgb.xyz=function(x){let O=x[0]/255,P=x[1]/255,V=x[2]/255;return O=O>.04045?((O+.055)/1.055)**2.4:O/12.92,P=P>.04045?((P+.055)/1.055)**2.4:P/12.92,V=V>.04045?((V+.055)/1.055)**2.4:V/12.92,[100*(.4124*O+.3576*P+.1805*V),100*(.2126*O+.7152*P+.0722*V),100*(.0193*O+.1192*P+.9505*V)]},I.rgb.lab=function(x){const O=I.rgb.xyz(x);let P=O[0],V=O[1],U=O[2];return P/=95.047,V/=100,U/=108.883,P=P>.008856?P**.3333333333333333:7.787*P+.13793103448275862,V=V>.008856?V**.3333333333333333:7.787*V+.13793103448275862,U=U>.008856?U**.3333333333333333:7.787*U+.13793103448275862,[116*V-16,500*(P-V),200*(V-U)]},I.hsl.rgb=function(x){const O=x[0]/360,P=x[1]/100,V=x[2]/100;let U,Q,$;if(P===0)return $=255*V,[$,$,$];U=V<.5?V*(1+P):V+P-V*P;const it=2*V-U,gt=[0,0,0];for(let At=0;At<3;At++)Q=O+.3333333333333333*-(At-1),Q<0&&Q++,Q>1&&Q--,$=6*Q<1?it+6*(U-it)*Q:2*Q<1?U:3*Q<2?it+(U-it)*(.6666666666666666-Q)*6:it,gt[At]=255*$;return gt},I.hsl.hsv=function(x){const O=x[0];let P=x[1]/100,V=x[2]/100,U=P;const Q=Math.max(V,.01);return V*=2,P*=V<=1?V:2-V,U*=Q<=1?Q:2-Q,[O,100*(V===0?2*U/(Q+U):2*P/(V+P)),100*((V+P)/2)]},I.hsv.rgb=function(x){const O=x[0]/60,P=x[1]/100;let V=x[2]/100;const U=Math.floor(O)%6,Q=O-Math.floor(O),$=255*V*(1-P),it=255*V*(1-P*Q),gt=255*V*(1-P*(1-Q));switch(V*=255,U){case 0:return[V,gt,$];case 1:return[it,V,$];case 2:return[$,V,gt];case 3:return[$,it,V];case 4:return[gt,$,V];case 5:return[V,$,it]}},I.hsv.hsl=function(x){const O=x[0],P=x[1]/100,V=x[2]/100,U=Math.max(V,.01);let Q,$;$=(2-P)*V;const it=(2-P)*U;return Q=P*U,Q/=it<=1?it:2-it,Q=Q||0,$/=2,[O,100*Q,100*$]},I.hwb.rgb=function(x){const O=x[0]/360;let P=x[1]/100,V=x[2]/100;const U=P+V;let Q;U>1&&(P/=U,V/=U);const $=Math.floor(6*O),it=1-V;Q=6*O-$,1&$&&(Q=1-Q);const gt=P+Q*(it-P);let At,Dt,ht;switch($){default:case 6:case 0:At=it,Dt=gt,ht=P;break;case 1:At=gt,Dt=it,ht=P;break;case 2:At=P,Dt=it,ht=gt;break;case 3:At=P,Dt=gt,ht=it;break;case 4:At=gt,Dt=P,ht=it;break;case 5:At=it,Dt=P,ht=gt}return[255*At,255*Dt,255*ht]},I.cmyk.rgb=function(x){const O=x[0]/100,P=x[1]/100,V=x[2]/100,U=x[3]/100;return[255*(1-Math.min(1,O*(1-U)+U)),255*(1-Math.min(1,P*(1-U)+U)),255*(1-Math.min(1,V*(1-U)+U))]},I.xyz.rgb=function(x){const O=x[0]/100,P=x[1]/100,V=x[2]/100;let U,Q,$;return U=3.2406*O+-1.5372*P+-.4986*V,Q=-.9689*O+1.8758*P+.0415*V,$=.0557*O+-.204*P+1.057*V,U=U>.0031308?1.055*U**.4166666666666667-.055:12.92*U,Q=Q>.0031308?1.055*Q**.4166666666666667-.055:12.92*Q,$=$>.0031308?1.055*$**.4166666666666667-.055:12.92*$,U=Math.min(Math.max(0,U),1),Q=Math.min(Math.max(0,Q),1),$=Math.min(Math.max(0,$),1),[255*U,255*Q,255*$]},I.xyz.lab=function(x){let O=x[0],P=x[1],V=x[2];return O/=95.047,P/=100,V/=108.883,O=O>.008856?O**.3333333333333333:7.787*O+.13793103448275862,P=P>.008856?P**.3333333333333333:7.787*P+.13793103448275862,V=V>.008856?V**.3333333333333333:7.787*V+.13793103448275862,[116*P-16,500*(O-P),200*(P-V)]},I.lab.xyz=function(x){let O,P,V;P=(x[0]+16)/116,O=x[1]/500+P,V=P-x[2]/200;const U=P**3,Q=O**3,$=V**3;return P=U>.008856?U:(P-.13793103448275862)/7.787,O=Q>.008856?Q:(O-.13793103448275862)/7.787,V=$>.008856?$:(V-.13793103448275862)/7.787,O*=95.047,P*=100,V*=108.883,[O,P,V]},I.lab.lch=function(x){const O=x[0],P=x[1],V=x[2];let U;return U=360*Math.atan2(V,P)/2/Math.PI,U<0&&(U+=360),[O,Math.sqrt(P*P+V*V),U]},I.lch.lab=function(x){const O=x[0],P=x[1],V=x[2]/360*2*Math.PI;return[O,P*Math.cos(V),P*Math.sin(V)]},I.rgb.ansi16=function(x,O=null){const[P,V,U]=x;let Q=O===null?I.rgb.hsv(x)[2]:O;if(Q=Math.round(Q/50),Q===0)return 30;let $=30+(Math.round(U/255)<<2|Math.round(V/255)<<1|Math.round(P/255));return Q===2&&($+=60),$},I.hsv.ansi16=function(x){return I.rgb.ansi16(I.hsv.rgb(x),x[2])},I.rgb.ansi256=function(x){const O=x[0],P=x[1],V=x[2];return O===P&&P===V?O<8?16:O>248?231:Math.round((O-8)/247*24)+232:16+36*Math.round(O/255*5)+6*Math.round(P/255*5)+Math.round(V/255*5)},I.ansi16.rgb=function(x){let O=x%10;if(O===0||O===7)return x>50&&(O+=3.5),O=O/10.5*255,[O,O,O];const P=.5*(1+~~(x>50));return[(1&O)*P*255,(O>>1&1)*P*255,(O>>2&1)*P*255]},I.ansi256.rgb=function(x){if(x>=232){const P=10*(x-232)+8;return[P,P,P]}let O;return x-=16,[Math.floor(x/36)/5*255,Math.floor((O=x%36)/6)/5*255,O%6/5*255]},I.rgb.hex=function(x){const O=(((255&Math.round(x[0]))<<16)+((255&Math.round(x[1]))<<8)+(255&Math.round(x[2]))).toString(16).toUpperCase();return"000000".substring(O.length)+O},I.hex.rgb=function(x){const O=x.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!O)return[0,0,0];let P=O[0];O[0].length===3&&(P=P.split("").map((U=>U+U)).join(""));const V=parseInt(P,16);return[V>>16&255,V>>8&255,255&V]},I.rgb.hcg=function(x){const O=x[0]/255,P=x[1]/255,V=x[2]/255,U=Math.max(Math.max(O,P),V),Q=Math.min(Math.min(O,P),V),$=U-Q;let it,gt;return it=$<1?Q/(1-$):0,gt=$<=0?0:U===O?(P-V)/$%6:U===P?2+(V-O)/$:4+(O-P)/$,gt/=6,gt%=1,[360*gt,100*$,100*it]},I.hsl.hcg=function(x){const O=x[1]/100,P=x[2]/100,V=P<.5?2*O*P:2*O*(1-P);let U=0;return V<1&&(U=(P-.5*V)/(1-V)),[x[0],100*V,100*U]},I.hsv.hcg=function(x){const O=x[1]/100,P=x[2]/100,V=O*P;let U=0;return V<1&&(U=(P-V)/(1-V)),[x[0],100*V,100*U]},I.hcg.rgb=function(x){const O=x[0]/360,P=x[1]/100,V=x[2]/100;if(P===0)return[255*V,255*V,255*V];const U=[0,0,0],Q=O%1*6,$=Q%1,it=1-$;let gt=0;switch(Math.floor(Q)){case 0:U[0]=1,U[1]=$,U[2]=0;break;case 1:U[0]=it,U[1]=1,U[2]=0;break;case 2:U[0]=0,U[1]=1,U[2]=$;break;case 3:U[0]=0,U[1]=it,U[2]=1;break;case 4:U[0]=$,U[1]=0,U[2]=1;break;default:U[0]=1,U[1]=0,U[2]=it}return gt=(1-P)*V,[255*(P*U[0]+gt),255*(P*U[1]+gt),255*(P*U[2]+gt)]},I.hcg.hsv=function(x){const O=x[1]/100,P=O+x[2]/100*(1-O);let V=0;return P>0&&(V=O/P),[x[0],100*V,100*P]},I.hcg.hsl=function(x){const O=x[1]/100,P=x[2]/100*(1-O)+.5*O;let V=0;return P>0&&P<.5?V=O/(2*P):P>=.5&&P<1&&(V=O/(2*(1-P))),[x[0],100*V,100*P]},I.hcg.hwb=function(x){const O=x[1]/100,P=O+x[2]/100*(1-O);return[x[0],100*(P-O),100*(1-P)]},I.hwb.hcg=function(x){const O=x[1]/100,P=1-x[2]/100,V=P-O;let U=0;return V<1&&(U=(P-V)/(1-V)),[x[0],100*V,100*U]},I.apple.rgb=function(x){return[x[0]/65535*255,x[1]/65535*255,x[2]/65535*255]},I.rgb.apple=function(x){return[x[0]/255*65535,x[1]/255*65535,x[2]/255*65535]},I.gray.rgb=function(x){return[x[0]/100*255,x[0]/100*255,x[0]/100*255]},I.gray.hsl=function(x){return[0,0,x[0]]},I.gray.hsv=I.gray.hsl,I.gray.hwb=function(x){return[0,100,x[0]]},I.gray.cmyk=function(x){return[0,0,0,x[0]]},I.gray.lab=function(x){return[x[0],0,0]},I.gray.hex=function(x){const O=255&Math.round(x[0]/100*255),P=((O<<16)+(O<<8)+O).toString(16).toUpperCase();return"000000".substring(P.length)+P},I.rgb.gray=function(x){return[(x[0]+x[1]+x[2])/3/255*100]}},9047:(M,S,A)=>{const B=A(9246),N=A(802),I={};Object.keys(B).forEach((x=>{I[x]={},Object.defineProperty(I[x],"channels",{value:B[x].channels}),Object.defineProperty(I[x],"labels",{value:B[x].labels});const O=N(x);Object.keys(O).forEach((P=>{const V=O[P];I[x][P]=(function(U){const Q=function(...$){const it=$[0];if(it==null)return it;it.length>1&&($=it);const gt=U($);if(typeof gt=="object")for(let At=gt.length,Dt=0;Dt<At;Dt++)gt[Dt]=Math.round(gt[Dt]);return gt};return"conversion"in U&&(Q.conversion=U.conversion),Q})(V),I[x][P].raw=(function(U){const Q=function(...$){const it=$[0];return it==null?it:(it.length>1&&($=it),U($))};return"conversion"in U&&(Q.conversion=U.conversion),Q})(V)}))})),M.exports=I},802:(M,S,A)=>{const B=A(9246);function N(O){const P=(function(){const U={},Q=Object.keys(B);for(let $=Q.length,it=0;it<$;it++)U[Q[it]]={distance:-1,parent:null};return U})(),V=[O];for(P[O].distance=0;V.length;){const U=V.pop(),Q=Object.keys(B[U]);for(let $=Q.length,it=0;it<$;it++){const gt=Q[it],At=P[gt];At.distance===-1&&(At.distance=P[U].distance+1,At.parent=U,V.unshift(gt))}}return P}function I(O,P){return function(V){return P(O(V))}}function x(O,P){const V=[P[O].parent,O];let U=B[P[O].parent][O],Q=P[O].parent;for(;P[Q].parent;)V.unshift(P[Q].parent),U=I(B[P[Q].parent][Q],U),Q=P[Q].parent;return U.conversion=V,U}M.exports=function(O){const P=N(O),V={},U=Object.keys(P);for(let Q=U.length,$=0;$<Q;$++){const it=U[$];P[it].parent!==null&&(V[it]=x(it,P))}return V}},6931:M=>{M.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const O=x},8708:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const O=x},1866:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const O=x},7793:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const O=x},7388:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar{border:0;border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDmBC,CArBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAkBF,CArBA,8DAOC,wCAAsB,CAAtB,sBAcD,CAZC,8FACC,uBACD,CAEA,2EACC,QAAS,CACT,mDACD,CAEA,0EACC,QACD,CAMH,yCAEC,0CAA2C,CC1B3C,eDoCD,CAZA,yHCpBE,qCAAsC,CDyBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar {
				border: 0;
				border-bottom: 1px solid var(--ck-color-base-border);
			}

			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const O=x},4098:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const O=x},8264:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const O=x},6269:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const O=x},265:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const O=x},5247:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const O=x},4642:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const O=x},3350:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-image-insert-url{padding:var(--ck-spacing-large) var(--ck-spacing-large) 0;width:400px}.ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAKA,wBAEC,yDAA0D,CAD1D,WAOD,CAJC,yDACC,YAAa,CACb,mCACD,CCLD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-url {
	width: 400px;
	padding: var(--ck-spacing-large) var(--ck-spacing-large) 0;

	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const O=x},7378:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const O=x},3469:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const O=x},6386:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image.image-style-block-align-left,.ck-content .image.image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image.image-style-align-left,.ck-content .image.image-style-align-right{clear:none}.ck-content .image.image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image.image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image.image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image.image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image.image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content p+.image.image-style-align-left,.ck-content p+.image.image-style-align-right,.ck-content p+.image.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAQE,iGAEC,oDACD,CAIA,qFAEC,UACD,CAEA,oCACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,0CACC,UAAW,CACX,0CACD,CAEA,2CACC,WAAY,CACZ,yCACD,CAEA,iDAEC,gBAAiB,CADjB,cAED,CAEA,gDACC,aAAc,CACd,iBACD,CAGD,sCACC,gBAAiB,CACjB,iBACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAGA,+HAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* See: https://github.com/ckeditor/ckeditor5/issues/16317 */
	& .image {
		/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
		confirming successful application of the style if image width exceeds the editor's size.
		See https://github.com/ckeditor/ckeditor5/issues/9342 */
		&.image-style-block-align-left,
		&.image-style-block-align-right {
			max-width: calc(100% - var(--ck-image-style-spacing));
		}

		/* Allows displaying multiple floating images in the same line.
		See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
		&.image-style-align-left,
		&.image-style-align-right {
			clear: none;
		}

		&.image-style-side {
			float: right;
			margin-left: var(--ck-image-style-spacing);
			max-width: 50%;
		}

		&.image-style-align-left {
			float: left;
			margin-right: var(--ck-image-style-spacing);
		}

		&.image-style-align-right {
			float: right;
			margin-left: var(--ck-image-style-spacing);
		}

		&.image-style-block-align-right {
			margin-right: 0;
			margin-left: auto;
		}

		&.image-style-block-align-left {
			margin-left: 0;
			margin-right: auto;
		}
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image.image-style-align-left,
	& p + .image.image-style-align-right,
	& p + .image.image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const O=x},7693:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const O=x},1559:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const O=x},2267:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const O=x},4062:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const O=x},7719:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const O=x},8762:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const O=x},3817:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const O=x},4808:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const O=x},1232:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const O=x},6903:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const O=x},9968:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const O=x},7141:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const O=x},8991:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const O=x},70:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const O=x},7048:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not read–only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const O=x},5651:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap;width:400px}.ck.ck-media-form .ck-labeled-field-view{display:inline-block;width:100%}.ck.ck-media-form .ck-label{display:none}.ck.ck-media-form .ck-input{width:100%}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAAiB,CACjB,WA0BD,CAxBC,yCACC,oBAAqB,CACrB,UACD,CAEA,4BACC,YACD,CAEA,4BACC,UACD,CCnBA,oCDCD,kBAqBE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CC5BD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;
	width: 400px;

	& .ck-labeled-field-view {
		display: inline-block;
		width: 100%;
	}

	& .ck-label {
		display: none;
	}

	& .ck-input {
		width: 100%;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const O=x},5506:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const O=x},4043:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const O=x},2655:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const O=x},5032:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const O=x},2329:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const O=x},4143:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const O=x},8986:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const O=x},8795:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const O=x},8137:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const O=x},1623:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const O=x},5562:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const O=x},8423:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const O=x},1801:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const O=x},5727:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const O=x},9715:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const O=x},4391:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating–point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const O=x},25:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const O=x},7317:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const O=x},1905:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const O=x},6309:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const O=x},9819:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const O=x},9822:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const O=x},8149:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const O=x},3629:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const O=x},1792:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const O=x},1666:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const O=x},8527:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const O=x},1185:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const O=x},7913:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const O=x},9529:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const O=x},7621:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const O=x},253:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const O=x},7801:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const O=x},4962:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const O=x},5199:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& > .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const O=x},497:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const O=x},4:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const O=x},3344:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		padding: var(--ck-list-button-padding);
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}

		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			& > .ck-menu-bar__menu__button__arrow {
				right: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > .ck-menu-bar__menu__button__arrow {
				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const O=x},9481:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const O=x},977:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* These margins are the same as for .ck-icon. */
			margin-left: calc(-1 * var(--ck-spacing-small));
			margin-right: var(--ck-spacing-small);
		}

		/*
		 * Hovered items automatically get focused. Default focus styles look odd
		 * while moving across a huge list of items so let's get rid of them
		 */
		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}
	}

	/*
	 * First-level sub-menu item buttons.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {
		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}
	}
}


`],sourceRoot:""}]);const O=x},9108:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const O=x},3710:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const O=x},991:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const O=x},5380:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const O=x},8298:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const O=x},2722:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const O=x},8107:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const O=x},109:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:ck-spinner-rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes ck-spinner-rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,gDAAiD,CADjD,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,6BACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite ck-spinner-rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes ck-spinner-rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const O=x},1671:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const O=x},2710:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const O=x},9677:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{background:var(--ck-color-toolbar-border);height:var(--ck-icon-size);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCAIC,yCAA0C,CAH1C,0BAA2B,CAU3B,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		height: var(--ck-icon-size);
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const O=x},9205:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const O=x},7676:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const O=x},695:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const O=x},4095:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const O=x},8508:(M,S,A)=>{A.d(S,{A:()=>O});var B=A(9372),N=A.n(B),I=A(935),x=A.n(I)()(N());x.push([M.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const O=x},935:M=>{M.exports=function(S){var A=[];return A.toString=function(){return this.map((function(B){var N=S(B);return B[2]?"@media ".concat(B[2]," {").concat(N,"}"):N})).join("")},A.i=function(B,N,I){typeof B=="string"&&(B=[[null,B,""]]);var x={};if(I)for(var O=0;O<this.length;O++){var P=this[O][0];P!=null&&(x[P]=!0)}for(var V=0;V<B.length;V++){var U=[].concat(B[V]);I&&x[U[0]]||(N&&(U[2]?U[2]="".concat(N," and ").concat(U[2]):U[2]=N),A.push(U))}},A}},9372:M=>{function S(B,N){return(function(I){if(Array.isArray(I))return I})(B)||(function(I,x){var O=I&&(typeof Symbol<"u"&&I[Symbol.iterator]||I["@@iterator"]);if(O!=null){var P,V,U=[],Q=!0,$=!1;try{for(O=O.call(I);!(Q=(P=O.next()).done)&&(U.push(P.value),!x||U.length!==x);Q=!0);}catch(it){$=!0,V=it}finally{try{Q||O.return==null||O.return()}finally{if($)throw V}}return U}})(B,N)||(function(I,x){if(I){if(typeof I=="string")return A(I,x);var O=Object.prototype.toString.call(I).slice(8,-1);if(O==="Object"&&I.constructor&&(O=I.constructor.name),O==="Map"||O==="Set")return Array.from(I);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return A(I,x)}})(B,N)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function A(B,N){(N==null||N>B.length)&&(N=B.length);for(var I=0,x=new Array(N);I<N;I++)x[I]=B[I];return x}M.exports=function(B){var N=S(B,4),I=N[1],x=N[3];if(!x)return I;if(typeof btoa=="function"){var O=btoa(unescape(encodeURIComponent(JSON.stringify(x)))),P="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(O),V="/*# ".concat(P," */"),U=x.sources.map((function(Q){return"/*# sourceURL=".concat(x.sourceRoot||"").concat(Q," */")}));return[I].concat(U).concat([V]).join(`
`)}return[I].join(`
`)}},2591:(M,S,A)=>{var B,N=function(){return B===void 0&&(B=!!(window&&document&&document.all&&!window.atob)),B},I=(function(){var ht={};return function(kt){if(ht[kt]===void 0){var _t=document.querySelector(kt);if(window.HTMLIFrameElement&&_t instanceof window.HTMLIFrameElement)try{_t=_t.contentDocument.head}catch{_t=null}ht[kt]=_t}return ht[kt]}})(),x=[];function O(ht){for(var kt=-1,_t=0;_t<x.length;_t++)if(x[_t].identifier===ht){kt=_t;break}return kt}function P(ht,kt){for(var _t={},Mt=[],Rt=0;Rt<ht.length;Rt++){var qt=ht[Rt],le=kt.base?qt[0]+kt.base:qt[0],H=_t[le]||0,Bt="".concat(le," ").concat(H);_t[le]=H+1;var rt=O(Bt),Ct={css:qt[1],media:qt[2],sourceMap:qt[3]};rt!==-1?(x[rt].references++,x[rt].updater(Ct)):x.push({identifier:Bt,updater:Dt(Ct,kt),references:1}),Mt.push(Bt)}return Mt}function V(ht){var kt=document.createElement("style"),_t=ht.attributes||{};if(_t.nonce===void 0){var Mt=A.nc;Mt&&(_t.nonce=Mt)}if(Object.keys(_t).forEach((function(qt){kt.setAttribute(qt,_t[qt])})),typeof ht.insert=="function")ht.insert(kt);else{var Rt=I(ht.insert||"head");if(!Rt)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Rt.appendChild(kt)}return kt}var U,Q=(U=[],function(ht,kt){return U[ht]=kt,U.filter(Boolean).join(`
`)});function $(ht,kt,_t,Mt){var Rt=_t?"":Mt.media?"@media ".concat(Mt.media," {").concat(Mt.css,"}"):Mt.css;if(ht.styleSheet)ht.styleSheet.cssText=Q(kt,Rt);else{var qt=document.createTextNode(Rt),le=ht.childNodes;le[kt]&&ht.removeChild(le[kt]),le.length?ht.insertBefore(qt,le[kt]):ht.appendChild(qt)}}function it(ht,kt,_t){var Mt=_t.css,Rt=_t.media,qt=_t.sourceMap;if(Rt?ht.setAttribute("media",Rt):ht.removeAttribute("media"),qt&&typeof btoa<"u"&&(Mt+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(qt))))," */")),ht.styleSheet)ht.styleSheet.cssText=Mt;else{for(;ht.firstChild;)ht.removeChild(ht.firstChild);ht.appendChild(document.createTextNode(Mt))}}var gt=null,At=0;function Dt(ht,kt){var _t,Mt,Rt;if(kt.singleton){var qt=At++;_t=gt||(gt=V(kt)),Mt=$.bind(null,_t,qt,!1),Rt=$.bind(null,_t,qt,!0)}else _t=V(kt),Mt=it.bind(null,_t,kt),Rt=function(){(function(le){if(le.parentNode===null)return!1;le.parentNode.removeChild(le)})(_t)};return Mt(ht),function(le){if(le){if(le.css===ht.css&&le.media===ht.media&&le.sourceMap===ht.sourceMap)return;Mt(ht=le)}else Rt()}}M.exports=function(ht,kt){(kt=kt||{}).singleton||typeof kt.singleton=="boolean"||(kt.singleton=N());var _t=P(ht=ht||[],kt);return function(Mt){if(Mt=Mt||[],Object.prototype.toString.call(Mt)==="[object Array]"){for(var Rt=0;Rt<_t.length;Rt++){var qt=O(_t[Rt]);x[qt].references--}for(var le=P(Mt,kt),H=0;H<_t.length;H++){var Bt=O(_t[H]);x[Bt].references===0&&(x[Bt].updater(),x.splice(Bt,1))}_t=le}}}}},y={};function D(M){var S=y[M];if(S!==void 0)return S.exports;var A=y[M]={id:M,exports:{}};return C[M](A,A.exports,D),A.exports}D.n=M=>{var S=M&&M.__esModule?()=>M.default:()=>M;return D.d(S,{a:S}),S},D.d=(M,S)=>{for(var A in S)D.o(S,A)&&!D.o(M,A)&&Object.defineProperty(M,A,{enumerable:!0,get:S[A]})},D.o=(M,S)=>Object.prototype.hasOwnProperty.call(M,S),D.nc=void 0;var j={};return(()=>{let M;D.d(j,{default:()=>qD});try{M={window,document}}catch{M={window:{},document:{}}}const S=M;function A(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const B=A(),N={isMac:I(B),isWindows:x(B),isGecko:O(B),isSafari:P(B),isiOS:V(B),isAndroid:U(B),isBlink:Q(B),features:{isRegExpUnicodePropertySupported:$()}};function I(o){return o.indexOf("macintosh")>-1}function x(o){return o.indexOf("windows")>-1}function O(o){return!!o.match(/gecko\/\d+/)}function P(o){return o.indexOf(" applewebkit/")>-1&&o.indexOf("chrome")===-1}function V(o){return!!o.match(/iphone|ipad/i)||I(o)&&navigator.maxTouchPoints>0}function U(o){return o.indexOf("android")>-1}function Q(o){return o.indexOf("chrome/")>-1&&o.indexOf("edge/")<0}function $(){let o=!1;try{o="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return o}function it(o,t,e,n){e=e||function(u,m){return u===m};const i=Array.isArray(o)?o:Array.prototype.slice.call(o),s=Array.isArray(t)?t:Array.prototype.slice.call(t),l=(function(u,m,g){const k=gt(u,m,g);if(k===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const _=At(u,k),v=At(m,k),E=gt(_,v,g),z=u.length-E,L=m.length-E;return{firstIndex:k,lastIndexOld:z,lastIndexNew:L}})(i,s,e);return n?(function(u,m){const{firstIndex:g,lastIndexOld:k,lastIndexNew:_}=u;if(g===-1)return Array(m).fill("equal");let v=[];return g>0&&(v=v.concat(Array(g).fill("equal"))),_-g>0&&(v=v.concat(Array(_-g).fill("insert"))),k-g>0&&(v=v.concat(Array(k-g).fill("delete"))),_<m&&(v=v.concat(Array(m-_).fill("equal"))),v})(l,s.length):(function(u,m){const g=[],{firstIndex:k,lastIndexOld:_,lastIndexNew:v}=m;return v-k>0&&g.push({index:k,type:"insert",values:u.slice(k,v)}),_-k>0&&g.push({index:k+(v-k),type:"delete",howMany:_-k}),g})(s,l)}function gt(o,t,e){for(let n=0;n<Math.max(o.length,t.length);n++)if(o[n]===void 0||t[n]===void 0||!e(o[n],t[n]))return n;return-1}function At(o,t){return o.slice(t).reverse()}function Dt(o,t,e){e=e||function(z,L){return z===L};const n=o.length,i=t.length;if(n>200||i>200||n+i>300)return Dt.fastDiff(o,t,e,!0);let s,l;if(i<n){const z=o;o=t,t=z,s="delete",l="insert"}else s="insert",l="delete";const d=o.length,u=t.length,m=u-d,g={},k={};function _(z){const L=(k[z-1]!==void 0?k[z-1]:-1)+1,F=k[z+1]!==void 0?k[z+1]:-1,G=L>F?-1:1;g[z+G]&&(g[z]=g[z+G].slice(0)),g[z]||(g[z]=[]),g[z].push(L>F?s:l);let X=Math.max(L,F),lt=X-z;for(;lt<d&&X<u&&e(o[lt],t[X]);)lt++,X++,g[z].push("equal");return X}let v,E=0;do{for(v=-E;v<m;v++)k[v]=_(v);for(v=m+E;v>m;v--)k[v]=_(v);k[m]=_(m),E++}while(k[m]!==u);return g[m].slice(1)}Dt.fastDiff=it;const ht=function(){return function o(){o.called=!0}};class kt{source;name;path;stop;off;return;constructor(t,e){this.source=t,this.name=e,this.path=[],this.stop=ht(),this.off=ht()}}const _t=new Array(256).fill("").map(((o,t)=>("0"+t.toString(16)).slice(-2)));function Mt(){const o=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0;return"e"+_t[255&o]+_t[o>>8&255]+_t[o>>16&255]+_t[o>>24&255]+_t[255&t]+_t[t>>8&255]+_t[t>>16&255]+_t[t>>24&255]+_t[255&e]+_t[e>>8&255]+_t[e>>16&255]+_t[e>>24&255]+_t[255&n]+_t[n>>8&255]+_t[n>>16&255]+_t[n>>24&255]}const Rt={get(o="normal"){return typeof o!="number"?this[o]||this.normal:o},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function qt(o,t){const e=Rt.get(t.priority);for(let n=0;n<o.length;n++)if(Rt.get(o[n].priority)<e)return void o.splice(n,0,t);o.push(t)}const le="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class H extends Error{context;data;constructor(t,e,n){super((function(i,s){const l=new WeakSet,d=(g,k)=>{if(typeof k=="object"&&k!==null){if(l.has(k))return`[object ${k.constructor.name}]`;l.add(k)}return k},u=s?` ${JSON.stringify(s,d)}`:"",m=Ct(i);return i+u+m})(t,n)),this.name="CKEditorError",this.context=e,this.data=n}is(t){return t==="CKEditorError"}static rethrowUnexpectedError(t,e){if(t.is&&t.is("CKEditorError"))throw t;const n=new H(t.message,e);throw n.stack=t.stack,n}}function Bt(o,t){console.warn(...zt(o,t))}function rt(o,t){console.error(...zt(o,t))}function Ct(o){return`
Read more: ${le}#error-${o}`}function zt(o,t){const e=Ct(o);return t?[o,t,e]:[o,e]}const de="42.0.2",fe=new Date(2024,6,25);if(globalThis.CKEDITOR_VERSION)throw new H("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=de;const Y=Symbol("listeningTo"),dt=Symbol("emitterId"),wt=Symbol("delegations"),xt=yt(Object);function yt(o){return o?class extends o{on(t,e,n){this.listenTo(this,t,e,n)}once(t,e,n){let i=!1;this.listenTo(this,t,((s,...l)=>{i||(i=!0,s.off(),e.call(this,s,...l))}),n)}off(t,e){this.stopListening(this,t,e)}listenTo(t,e,n,i={}){let s,l;this[Y]||(this[Y]={});const d=this[Y];ne(t)||Ut(t);const u=ne(t);(s=d[u])||(s=d[u]={emitter:t,callbacks:{}}),(l=s.callbacks[e])||(l=s.callbacks[e]=[]),l.push(n),(function(m,g,k,_,v){g._addEventListener?g._addEventListener(k,_,v):m._addEventListener.call(g,k,_,v)})(this,t,e,n,i)}stopListening(t,e,n){const i=this[Y];let s=t&&ne(t);const l=i&&s?i[s]:void 0,d=l&&e?l.callbacks[e]:void 0;if(!(!i||t&&!l||e&&!d))if(n)Uo(this,t,e,n),d.indexOf(n)!==-1&&(d.length===1?delete l.callbacks[e]:Uo(this,t,e,n));else if(d){for(;n=d.pop();)Uo(this,t,e,n);delete l.callbacks[e]}else if(l){for(e in l.callbacks)this.stopListening(t,e);delete i[s]}else{for(s in i)this.stopListening(i[s].emitter);delete this[Y]}}fire(t,...e){try{const n=t instanceof kt?t:new kt(this,t),i=n.name;let s=Gi(this,i);if(n.path.push(this),s){const d=[n,...e];s=Array.from(s);for(let u=0;u<s.length&&(s[u].callback.apply(this,d),n.off.called&&(delete n.off.called,this._removeEventListener(i,s[u].callback)),!n.stop.called);u++);}const l=this[wt];if(l){const d=l.get(i),u=l.get("*");d&&lo(d,n,e),u&&lo(u,n,e)}return n.return}catch(n){H.rethrowUnexpectedError(n,this)}}delegate(...t){return{to:(e,n)=>{this[wt]||(this[wt]=new Map),t.forEach((i=>{const s=this[wt].get(i);s?s.set(e,n):this[wt].set(i,new Map([[e,n]]))}))}}}stopDelegating(t,e){if(this[wt])if(t)if(e){const n=this[wt].get(t);n&&n.delete(e)}else this[wt].delete(t);else this[wt].clear()}_addEventListener(t,e,n){(function(l,d){const u=Xe(l);if(u[d])return;let m=d,g=null;const k=[];for(;m!==""&&!u[m];)u[m]={callbacks:[],childEvents:[]},k.push(u[m]),g&&u[m].childEvents.push(g),g=m,m=m.substr(0,m.lastIndexOf(":"));if(m!==""){for(const _ of k)_.callbacks=u[m].callbacks.slice();u[m].childEvents.push(g)}})(this,t);const i=Te(this,t),s={callback:e,priority:Rt.get(n.priority)};for(const l of i)qt(l,s)}_removeEventListener(t,e){const n=Te(this,t);for(const i of n)for(let s=0;s<i.length;s++)i[s].callback==e&&(i.splice(s,1),s--)}}:xt}function Ut(o,t){o[dt]||(o[dt]=t||Mt())}function ne(o){return o[dt]}function Xe(o){return o._events||Object.defineProperty(o,"_events",{value:{}}),o._events}function Te(o,t){const e=Xe(o)[t];if(!e)return[];let n=[e.callbacks];for(let i=0;i<e.childEvents.length;i++){const s=Te(o,e.childEvents[i]);n=n.concat(s)}return n}function Gi(o,t){let e;return o._events&&(e=o._events[t])&&e.callbacks.length?e.callbacks:t.indexOf(":")>-1?Gi(o,t.substr(0,t.lastIndexOf(":"))):null}function lo(o,t,e){for(let[n,i]of o){i?typeof i=="function"&&(i=i(t.name)):i=t.name;const s=new kt(t.source,i);s.path=[...t.path],n.fire(s,...e)}}function Uo(o,t,e,n){t._removeEventListener?t._removeEventListener(e,n):o._removeEventListener.call(t,e,n)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((o=>{yt[o]=xt.prototype[o]}));const xe=function(o){var t=typeof o;return o!=null&&(t=="object"||t=="function")},Bi=Symbol("observableProperties"),jr=Symbol("boundObservables"),Pr=Symbol("boundProperties"),Fr=Symbol("decoratedMethods"),Yd=Symbol("decoratedOriginal"),uc=ge(yt());function ge(o){return o?class extends o{set(t,e){if(xe(t))return void Object.keys(t).forEach((i=>{this.set(i,t[i])}),this);Ua(this);const n=this[Bi];if(t in this&&!n.has(t))throw new H("observable-set-cannot-override",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>n.get(t),set(i){const s=n.get(t);let l=this.fire(`set:${t}`,t,i,s);l===void 0&&(l=i),s===l&&n.has(t)||(n.set(t,l),this.fire(`change:${t}`,t,l,s))}}),this[t]=e}bind(...t){if(!t.length||!On(t))throw new H("observable-bind-wrong-properties",this);if(new Set(t).size!==t.length)throw new H("observable-bind-duplicate-properties",this);Ua(this);const e=this[Pr];t.forEach((i=>{if(e.has(i))throw new H("observable-bind-rebind",this)}));const n=new Map;return t.forEach((i=>{const s={property:i,to:[]};e.set(i,s),n.set(i,s)})),{to:Mp,toMany:Bp,_observable:this,_bindProperties:t,_to:[],_bindings:n}}unbind(...t){if(!this[Bi])return;const e=this[Pr],n=this[jr];if(t.length){if(!On(t))throw new H("observable-unbind-wrong-properties",this);t.forEach((i=>{const s=e.get(i);s&&(s.to.forEach((([l,d])=>{const u=n.get(l),m=u[d];m.delete(s),m.size||delete u[d],Object.keys(u).length||(n.delete(l),this.stopListening(l,"change"))})),e.delete(i))}))}else n.forEach(((i,s)=>{this.stopListening(s,"change")})),n.clear(),e.clear()}decorate(t){Ua(this);const e=this[t];if(!e)throw new H("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:t});this.on(t,((n,i)=>{n.return=e.apply(this,i)})),this[t]=function(...n){return this.fire(t,n)},this[t][Yd]=e,this[Fr]||(this[Fr]=[]),this[Fr].push(t)}stopListening(t,e,n){if(!t&&this[Fr]){for(const i of this[Fr])this[i]=this[i][Yd];delete this[Fr]}super.stopListening(t,e,n)}[Bi];[Fr];[Pr];[jr]}:uc}function Ua(o){o[Bi]||(Object.defineProperty(o,Bi,{value:new Map}),Object.defineProperty(o,jr,{value:new Map}),Object.defineProperty(o,Pr,{value:new Map}))}function Mp(...o){const t=(function(...s){if(!s.length)throw new H("observable-bind-to-parse-error",null);const l={to:[]};let d;return typeof s[s.length-1]=="function"&&(l.callback=s.pop()),s.forEach((u=>{if(typeof u=="string")d.properties.push(u);else{if(typeof u!="object")throw new H("observable-bind-to-parse-error",null);d={observable:u,properties:[]},l.to.push(d)}})),l})(...o),e=Array.from(this._bindings.keys()),n=e.length;if(!t.callback&&t.to.length>1)throw new H("observable-bind-to-no-callback",this);if(n>1&&t.callback)throw new H("observable-bind-to-extra-callback",this);var i;t.to.forEach((s=>{if(s.properties.length&&s.properties.length!==n)throw new H("observable-bind-to-properties-length",this);s.properties.length||(s.properties=this._bindProperties)})),this._to=t.to,t.callback&&(this._bindings.get(e[0]).callback=t.callback),i=this._observable,this._to.forEach((s=>{const l=i[jr];let d;l.get(s.observable)||i.listenTo(s.observable,"change",((u,m)=>{d=l.get(s.observable)[m],d&&d.forEach((g=>{Im(i,g.property)}))}))})),(function(s){let l;s._bindings.forEach(((d,u)=>{s._to.forEach((m=>{l=m.properties[d.callback?0:s._bindProperties.indexOf(u)],d.to.push([m.observable,l]),(function(g,k,_,v){const E=g[jr],z=E.get(_),L=z||{};L[v]||(L[v]=new Set),L[v].add(k),z||E.set(_,L)})(s._observable,d,m.observable,l)}))}))})(this),this._bindProperties.forEach((s=>{Im(this._observable,s)}))}function Bp(o,t,e){if(this._bindings.size>1)throw new H("observable-bind-to-many-not-one-binding",this);this.to(...(function(n,i){const s=n.map((l=>[l,i]));return Array.prototype.concat.apply([],s)})(o,t),e)}function On(o){return o.every((t=>typeof t=="string"))}function Im(o,t){const e=o[Pr].get(t);let n;e.callback?n=e.callback.apply(o,e.to.map((i=>i[0][i[1]]))):(n=e.to[0],n=n[0][n[1]]),Object.prototype.hasOwnProperty.call(o,t)?o[t]=n:o.set(t,n)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((o=>{ge[o]=uc.prototype[o]}));class Nm{_replacedElements;constructor(){this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach((({element:t,newElement:e})=>{t.style.display="",e&&e.remove()})),this._replacedElements=[]}}function hc(o){let t=0;for(const e of o)t++;return t}function sn(o,t){const e=Math.min(o.length,t.length);for(let n=0;n<e;n++)if(o[n]!=t[n])return n;return o.length==t.length?"same":o.length<t.length?"prefix":"extension"}function ti(o){return!(!o||!o[Symbol.iterator])}const Qd=typeof fp=="object"&&fp&&fp.Object===Object&&fp;var Ip=typeof self=="object"&&self&&self.Object===Object&&self;const Ii=Qd||Ip||Function("return this")(),Ln=Ii.Symbol;var Rn=Object.prototype,Ho=Rn.hasOwnProperty,ei=Rn.toString,Ha=Ln?Ln.toStringTag:void 0;const Np=function(o){var t=Ho.call(o,Ha),e=o[Ha];try{o[Ha]=void 0;var n=!0}catch{}var i=ei.call(o);return n&&(t?o[Ha]=e:delete o[Ha]),i};var zp=Object.prototype.toString;const mc=function(o){return zp.call(o)};var qa=Ln?Ln.toStringTag:void 0;const Ni=function(o){return o==null?o===void 0?"[object Undefined]":"[object Null]":qa&&qa in Object(o)?Np(o):mc(o)},tn=Array.isArray,Dn=function(o){return o!=null&&typeof o=="object"},Ms=function(o){return typeof o=="string"||!tn(o)&&Dn(o)&&Ni(o)=="[object String]"};function ki(o,t,e={},n=[]){const i=e&&e.xmlns,s=i?o.createElementNS(i,t):o.createElement(t);for(const l in e)s.setAttribute(l,e[l]);!Ms(n)&&ti(n)||(n=[n]);for(let l of n)Ms(l)&&(l=o.createTextNode(l)),s.appendChild(l);return s}const Wd=function(o,t){return function(e){return o(t(e))}},Ga=Wd(Object.getPrototypeOf,Object);var Ka=Function.prototype,Op=Object.prototype,$d=Ka.toString,zm=Op.hasOwnProperty,Om=$d.call(Object);const Sn=function(o){if(!Dn(o)||Ni(o)!="[object Object]")return!1;var t=Ga(o);if(t===null)return!0;var e=zm.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&$d.call(e)==Om},Zd=function(){this.__data__=[],this.size=0},Bs=function(o,t){return o===t||o!=o&&t!=t},Ya=function(o,t){for(var e=o.length;e--;)if(Bs(o[e][0],t))return e;return-1};var qo=Array.prototype.splice;const gn=function(o){var t=this.__data__,e=Ya(t,o);return!(e<0)&&(e==t.length-1?t.pop():qo.call(t,e,1),--this.size,!0)},jn=function(o){var t=this.__data__,e=Ya(t,o);return e<0?void 0:t[e][1]},Is=function(o){return Ya(this.__data__,o)>-1},Jd=function(o,t){var e=this.__data__,n=Ya(e,o);return n<0?(++this.size,e.push([o,t])):e[n][1]=t,this};function Ns(o){var t=-1,e=o==null?0:o.length;for(this.clear();++t<e;){var n=o[t];this.set(n[0],n[1])}}Ns.prototype.clear=Zd,Ns.prototype.delete=gn,Ns.prototype.get=jn,Ns.prototype.has=Is,Ns.prototype.set=Jd;const fc=Ns,Lm=function(){this.__data__=new fc,this.size=0},Qa=function(o){var t=this.__data__,e=t.delete(o);return this.size=t.size,e},Xd=function(o){return this.__data__.get(o)},zs=function(o){return this.__data__.has(o)},bi=function(o){if(!xe(o))return!1;var t=Ni(o);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},Vr=Ii["__core-js_shared__"];var Ur=(function(){var o=/[^.]+$/.exec(Vr&&Vr.keys&&Vr.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""})();const an=function(o){return!!Ur&&Ur in o};var Rm=Function.prototype.toString;const Go=function(o){if(o!=null){try{return Rm.call(o)}catch{}try{return o+""}catch{}}return""};var Hr=/^\[object .+?Constructor\]$/,Os=Function.prototype,Lp=Object.prototype,jm=Os.toString,Pm=Lp.hasOwnProperty,Rp=RegExp("^"+jm.call(Pm).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const gc=function(o){return!(!xe(o)||an(o))&&(bi(o)?Rp:Hr).test(Go(o))},pc=function(o,t){return o?.[t]},Tn=function(o,t){var e=pc(o,t);return gc(e)?e:void 0},yn=Tn(Ii,"Map"),Ls=Tn(Object,"create"),jp=function(){this.__data__=Ls?Ls(null):{},this.size=0},tu=function(o){var t=this.has(o)&&delete this.__data__[o];return this.size-=t?1:0,t};var Fm=Object.prototype.hasOwnProperty;const kc=function(o){var t=this.__data__;if(Ls){var e=t[o];return e==="__lodash_hash_undefined__"?void 0:e}return Fm.call(t,o)?t[o]:void 0};var Pp=Object.prototype.hasOwnProperty;const wi=function(o){var t=this.__data__;return Ls?t[o]!==void 0:Pp.call(t,o)},eu=function(o,t){var e=this.__data__;return this.size+=this.has(o)?0:1,e[o]=Ls&&t===void 0?"__lodash_hash_undefined__":t,this};function qr(o){var t=-1,e=o==null?0:o.length;for(this.clear();++t<e;){var n=o[t];this.set(n[0],n[1])}}qr.prototype.clear=jp,qr.prototype.delete=tu,qr.prototype.get=kc,qr.prototype.has=wi,qr.prototype.set=eu;const bc=qr,Rs=function(){this.size=0,this.__data__={hash:new bc,map:new(yn||fc),string:new bc}},Vm=function(o){var t=typeof o;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?o!=="__proto__":o===null},Wa=function(o,t){var e=o.__data__;return Vm(t)?e[typeof t=="string"?"string":"hash"]:e.map},js=function(o){var t=Wa(this,o).delete(o);return this.size-=t?1:0,t},Fp=function(o){return Wa(this,o).get(o)},Um=function(o){return Wa(this,o).has(o)},Hm=function(o,t){var e=Wa(this,o),n=e.size;return e.set(o,t),this.size+=e.size==n?0:1,this};function Ko(o){var t=-1,e=o==null?0:o.length;for(this.clear();++t<e;){var n=o[t];this.set(n[0],n[1])}}Ko.prototype.clear=Rs,Ko.prototype.delete=js,Ko.prototype.get=Fp,Ko.prototype.has=Um,Ko.prototype.set=Hm;const wc=Ko,Vp=function(o,t){var e=this.__data__;if(e instanceof fc){var n=e.__data__;if(!yn||n.length<199)return n.push([o,t]),this.size=++e.size,this;e=this.__data__=new wc(n)}return e.set(o,t),this.size=e.size,this};function co(o){var t=this.__data__=new fc(o);this.size=t.size}co.prototype.clear=Lm,co.prototype.delete=Qa,co.prototype.get=Xd,co.prototype.has=zs,co.prototype.set=Vp;const Pn=co,nu=function(o,t){for(var e=-1,n=o==null?0:o.length;++e<n&&t(o[e],e,o)!==!1;);return o},Ps=(function(){try{var o=Tn(Object,"defineProperty");return o({},"",{}),o}catch{}})(),uo=function(o,t,e){t=="__proto__"&&Ps?Ps(o,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):o[t]=e};var Fs=Object.prototype.hasOwnProperty;const Ac=function(o,t,e){var n=o[t];Fs.call(o,t)&&Bs(n,e)&&(e!==void 0||t in o)||uo(o,t,e)},Yo=function(o,t,e,n){var i=!e;e||(e={});for(var s=-1,l=t.length;++s<l;){var d=t[s],u=void 0;u===void 0&&(u=o[d]),i?uo(e,d,u):Ac(e,d,u)}return e},qm=function(o,t){for(var e=-1,n=Array(o);++e<o;)n[e]=t(e);return n},Vs=function(o){return Dn(o)&&Ni(o)=="[object Arguments]"};var Ki=Object.prototype,iu=Ki.hasOwnProperty,$a=Ki.propertyIsEnumerable;const zi=Vs((function(){return arguments})())?Vs:function(o){return Dn(o)&&iu.call(o,"callee")&&!$a.call(o,"callee")},ou=function(){return!1};var Za=b&&!b.nodeType&&b,ru=Za&&!0&&f&&!f.nodeType&&f,Ja=ru&&ru.exports===Za?Ii.Buffer:void 0;const Qo=(Ja?Ja.isBuffer:void 0)||ou;var Gm=/^(?:0|[1-9]\d*)$/;const pn=function(o,t){var e=typeof o;return!!(t=t??9007199254740991)&&(e=="number"||e!="symbol"&&Gm.test(o))&&o>-1&&o%1==0&&o<t},ho=function(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=9007199254740991};var Ce={};Ce["[object Float32Array]"]=Ce["[object Float64Array]"]=Ce["[object Int8Array]"]=Ce["[object Int16Array]"]=Ce["[object Int32Array]"]=Ce["[object Uint8Array]"]=Ce["[object Uint8ClampedArray]"]=Ce["[object Uint16Array]"]=Ce["[object Uint32Array]"]=!0,Ce["[object Arguments]"]=Ce["[object Array]"]=Ce["[object ArrayBuffer]"]=Ce["[object Boolean]"]=Ce["[object DataView]"]=Ce["[object Date]"]=Ce["[object Error]"]=Ce["[object Function]"]=Ce["[object Map]"]=Ce["[object Number]"]=Ce["[object Object]"]=Ce["[object RegExp]"]=Ce["[object Set]"]=Ce["[object String]"]=Ce["[object WeakMap]"]=!1;const Xa=function(o){return Dn(o)&&ho(o.length)&&!!Ce[Ni(o)]},su=function(o){return function(t){return o(t)}};var _c=b&&!b.nodeType&&b,Gr=_c&&!0&&f&&!f.nodeType&&f,Kr=Gr&&Gr.exports===_c&&Qd.process;const mo=(function(){try{var o=Gr&&Gr.require&&Gr.require("util").types;return o||Kr&&Kr.binding&&Kr.binding("util")}catch{}})();var au=mo&&mo.isTypedArray;const lu=au?su(au):Xa;var Up=Object.prototype.hasOwnProperty;const Km=function(o,t){var e=tn(o),n=!e&&zi(o),i=!e&&!n&&Qo(o),s=!e&&!n&&!i&&lu(o),l=e||n||i||s,d=l?qm(o.length,String):[],u=d.length;for(var m in o)!t&&!Up.call(o,m)||l&&(m=="length"||i&&(m=="offset"||m=="parent")||s&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||pn(m,u))||d.push(m);return d};var cu=Object.prototype;const du=function(o){var t=o&&o.constructor;return o===(typeof t=="function"&&t.prototype||cu)},Hp=Wd(Object.keys,Object);var qp=Object.prototype.hasOwnProperty;const Gp=function(o){if(!du(o))return Hp(o);var t=[];for(var e in Object(o))qp.call(o,e)&&e!="constructor"&&t.push(e);return t},Cc=function(o){return o!=null&&ho(o.length)&&!bi(o)},Us=function(o){return Cc(o)?Km(o):Gp(o)},Kp=function(o,t){return o&&Yo(t,Us(t),o)},Yp=function(o){var t=[];if(o!=null)for(var e in Object(o))t.push(e);return t};var Qp=Object.prototype.hasOwnProperty;const Wp=function(o){if(!xe(o))return Yp(o);var t=du(o),e=[];for(var n in o)(n!="constructor"||!t&&Qp.call(o,n))&&e.push(n);return e},Wo=function(o){return Cc(o)?Km(o,!0):Wp(o)},$p=function(o,t){return o&&Yo(t,Wo(t),o)};var Ym=b&&!b.nodeType&&b,Qm=Ym&&!0&&f&&!f.nodeType&&f,uu=Qm&&Qm.exports===Ym?Ii.Buffer:void 0,Wm=uu?uu.allocUnsafe:void 0;const $m=function(o,t){if(t)return o.slice();var e=o.length,n=Wm?Wm(e):new o.constructor(e);return o.copy(n),n},Zm=function(o,t){var e=-1,n=o.length;for(t||(t=Array(n));++e<n;)t[e]=o[e];return t},Zp=function(o,t){for(var e=-1,n=o==null?0:o.length,i=0,s=[];++e<n;){var l=o[e];t(l,e,o)&&(s[i++]=l)}return s},Jm=function(){return[]};var Jp=Object.prototype.propertyIsEnumerable,Xm=Object.getOwnPropertySymbols;const hu=Xm?function(o){return o==null?[]:(o=Object(o),Zp(Xm(o),(function(t){return Jp.call(o,t)})))}:Jm,Xp=function(o,t){return Yo(o,hu(o),t)},vc=function(o,t){for(var e=-1,n=t.length,i=o.length;++e<n;)o[i+e]=t[e];return o},Hs=Object.getOwnPropertySymbols?function(o){for(var t=[];o;)vc(t,hu(o)),o=Ga(o);return t}:Jm,tk=function(o,t){return Yo(o,Hs(o),t)},mu=function(o,t,e){var n=t(o);return tn(o)?n:vc(n,e(o))},yc=function(o){return mu(o,Us,hu)},tf=function(o){return mu(o,Wo,Hs)},xc=Tn(Ii,"DataView"),Ec=Tn(Ii,"Promise"),$o=Tn(Ii,"Set"),fu=Tn(Ii,"WeakMap");var ef="[object Map]",nf="[object Promise]",gu="[object Set]",pu="[object WeakMap]",qs="[object DataView]",tl=Go(xc),ek=Go(yn),Dc=Go(Ec),of=Go($o),rf=Go(fu),fo=Ni;(xc&&fo(new xc(new ArrayBuffer(1)))!=qs||yn&&fo(new yn)!=ef||Ec&&fo(Ec.resolve())!=nf||$o&&fo(new $o)!=gu||fu&&fo(new fu)!=pu)&&(fo=function(o){var t=Ni(o),e=t=="[object Object]"?o.constructor:void 0,n=e?Go(e):"";if(n)switch(n){case tl:return qs;case ek:return ef;case Dc:return nf;case of:return gu;case rf:return pu}return t});const Yr=fo;var sf=Object.prototype.hasOwnProperty;const af=function(o){var t=o.length,e=new o.constructor(t);return t&&typeof o[0]=="string"&&sf.call(o,"index")&&(e.index=o.index,e.input=o.input),e},el=Ii.Uint8Array,ku=function(o){var t=new o.constructor(o.byteLength);return new el(t).set(new el(o)),t},nk=function(o,t){var e=t?ku(o.buffer):o.buffer;return new o.constructor(e,o.byteOffset,o.byteLength)};var ik=/\w*$/;const ok=function(o){var t=new o.constructor(o.source,ik.exec(o));return t.lastIndex=o.lastIndex,t};var lf=Ln?Ln.prototype:void 0,Fn=lf?lf.valueOf:void 0;const nl=function(o){return Fn?Object(Fn.call(o)):{}},bu=function(o,t){var e=t?ku(o.buffer):o.buffer;return new o.constructor(e,o.byteOffset,o.length)},cf=function(o,t,e){var n=o.constructor;switch(t){case"[object ArrayBuffer]":return ku(o);case"[object Boolean]":case"[object Date]":return new n(+o);case"[object DataView]":return nk(o,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return bu(o,e);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(o);case"[object RegExp]":return ok(o);case"[object Symbol]":return nl(o)}};var wu=Object.create;const df=(function(){function o(){}return function(t){if(!xe(t))return{};if(wu)return wu(t);o.prototype=t;var e=new o;return o.prototype=void 0,e}})(),Sc=function(o){return typeof o.constructor!="function"||du(o)?{}:df(Ga(o))},rk=function(o){return Dn(o)&&Yr(o)=="[object Map]"};var Qr=mo&&mo.isMap;const Au=Qr?su(Qr):rk,il=function(o){return Dn(o)&&Yr(o)=="[object Set]"};var Tc=mo&&mo.isSet;const uf=Tc?su(Tc):il;var Zo="[object Arguments]",Wr="[object Function]",Mc="[object Object]",Ee={};Ee[Zo]=Ee["[object Array]"]=Ee["[object ArrayBuffer]"]=Ee["[object DataView]"]=Ee["[object Boolean]"]=Ee["[object Date]"]=Ee["[object Float32Array]"]=Ee["[object Float64Array]"]=Ee["[object Int8Array]"]=Ee["[object Int16Array]"]=Ee["[object Int32Array]"]=Ee["[object Map]"]=Ee["[object Number]"]=Ee[Mc]=Ee["[object RegExp]"]=Ee["[object Set]"]=Ee["[object String]"]=Ee["[object Symbol]"]=Ee["[object Uint8Array]"]=Ee["[object Uint8ClampedArray]"]=Ee["[object Uint16Array]"]=Ee["[object Uint32Array]"]=!0,Ee["[object Error]"]=Ee[Wr]=Ee["[object WeakMap]"]=!1;const go=function o(t,e,n,i,s,l){var d,u=1&e,m=2&e,g=4&e;if(n&&(d=s?n(t,i,s,l):n(t)),d!==void 0)return d;if(!xe(t))return t;var k=tn(t);if(k){if(d=af(t),!u)return Zm(t,d)}else{var _=Yr(t),v=_==Wr||_=="[object GeneratorFunction]";if(Qo(t))return $m(t,u);if(_==Mc||_==Zo||v&&!s){if(d=m||v?{}:Sc(t),!u)return m?tk(t,$p(d,t)):Xp(t,Kp(d,t))}else{if(!Ee[_])return s?t:{};d=cf(t,_,u)}}l||(l=new Pn);var E=l.get(t);if(E)return E;l.set(t,d),uf(t)?t.forEach((function(L){d.add(o(L,e,n,L,t,l))})):Au(t)&&t.forEach((function(L,F){d.set(F,o(L,e,n,F,t,l))}));var z=k?void 0:(g?m?tf:yc:m?Wo:Us)(t);return nu(z||t,(function(L,F){z&&(L=t[F=L]),Ac(d,F,o(L,e,n,F,t,l))})),d},Bc=function(o,t){return go(o,5,t=typeof t=="function"?t:void 0)},Jo=function(o){return Dn(o)&&o.nodeType===1&&!Sn(o)};class _u{_config;constructor(t,e){this._config={},e&&this.define(hf(e)),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,e,n,i=!1){if(Sn(e))return void this._setObjectToTarget(t,e,i);const s=e.split(".");e=s.pop();for(const l of s)Sn(t[l])||(t[l]={}),t=t[l];if(Sn(n))return Sn(t[e])||(t[e]={}),t=t[e],void this._setObjectToTarget(t,n,i);i&&t[e]!==void 0||(t[e]=n)}_getFromSource(t,e){const n=e.split(".");e=n.pop();for(const i of n){if(!Sn(t[i])){t=null;break}t=t[i]}return t?hf(t[e]):void 0}_setObjectToTarget(t,e,n){Object.keys(e).forEach((i=>{this._setToTarget(t,i,e[i],n)}))}}function hf(o){return Bc(o,sk)}function sk(o){return Jo(o)||typeof o=="function"?o:void 0}function Xo(o){if(o){if(o.defaultView)return o instanceof o.defaultView.Document;if(o.ownerDocument&&o.ownerDocument.defaultView)return o instanceof o.ownerDocument.defaultView.Node}return!1}function ol(o){const t=Object.prototype.toString.apply(o);return t=="[object Window]"||t=="[object global]"}const Cu=Vn(yt());function Vn(o){return o?class extends o{listenTo(t,e,n,i={}){if(Xo(t)||ol(t)){const s={capture:!!i.useCapture,passive:!!i.usePassive},l=this._getProxyEmitter(t,s)||new Oi(t,s);this.listenTo(l,e,n,i)}else super.listenTo(t,e,n,i)}stopListening(t,e,n){if(Xo(t)||ol(t)){const i=this._getAllProxyEmitters(t);for(const s of i)this.stopListening(s,e,n)}else super.stopListening(t,e,n)}_getProxyEmitter(t,e){return(function(n,i){const s=n[Y];return s&&s[i]?s[i].emitter:null})(this,rl(t,e))}_getAllProxyEmitters(t){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map((e=>this._getProxyEmitter(t,e))).filter((e=>!!e))}}:Cu}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((o=>{Vn[o]=Cu.prototype[o]}));class Oi extends yt(){_domNode;_options;constructor(t,e){super(),Ut(this,rl(t,e)),this._domNode=t,this._options=e}_domListeners;attach(t){if(this._domListeners&&this._domListeners[t])return;const e=this._createDomListener(t);this._domNode.addEventListener(t,e,this._options),this._domListeners||(this._domListeners={}),this._domListeners[t]=e}detach(t){let e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()}_addEventListener(t,e,n){this.attach(t),yt().prototype._addEventListener.call(this,t,e,n)}_removeEventListener(t,e){yt().prototype._removeEventListener.call(this,t,e),this.detach(t)}_createDomListener(t){const e=n=>{this.fire(t,n)};return e.removeListener=()=>{this._domNode.removeEventListener(t,e,this._options),delete this._domListeners[t]},e}}function rl(o,t){let e=(function(n){return n["data-ck-expando"]||(n["data-ck-expando"]=Mt())})(o);for(const n of Object.keys(t).sort())t[n]&&(e+="-"+n);return e}function ni(o){const t=o.ownerDocument.defaultView.getComputedStyle(o);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}function Me(o){return Object.prototype.toString.call(o)=="[object Text]"}function Gs(o){return Object.prototype.toString.apply(o)=="[object Range]"}function sl(o){return o&&o.parentNode?o.offsetParent===S.document.body?null:o.offsetParent:null}const al=["top","right","bottom","left","width","height"];class Kt{top;right;bottom;left;width;height;_source;constructor(t){const e=Gs(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),Ks(t)||e)if(e){const n=Kt.getDomRangeRects(t);Yi(this,Kt.getBoundingRect(n))}else Yi(this,t.getBoundingClientRect());else if(ol(t)){const{innerWidth:n,innerHeight:i}=t;Yi(this,{top:0,right:n,bottom:i,left:0,width:n,height:i})}else Yi(this,t)}clone(){return new Kt(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};if(e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0)return null;{const n=new Kt(e);return n._source=this._source,n}}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(vu(t))return e;let n,i=t,s=t.parentNode||t.commonAncestorContainer;for(;s&&!vu(s);){const d=((l=s)instanceof HTMLElement?l.ownerDocument.defaultView.getComputedStyle(l).overflow:"visible")==="visible";i instanceof HTMLElement&&$r(i)==="absolute"&&(n=i);const u=$r(s);if(d||n&&(u==="relative"&&d||u!=="relative")){i=s,s=s.parentNode;continue}const m=new Kt(s),g=e.getIntersection(m);if(!g)return null;g.getArea()<e.getArea()&&(e=g),i=s,s=s.parentNode}var l;return e}isEqual(t){for(const e of al)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!(!e||!e.isEqual(t))}toAbsoluteRect(){const{scrollX:t,scrollY:e}=S.window,n=this.clone().moveBy(t,e);if(Ks(n._source)){const i=sl(n._source);i&&(function(s,l){const d=new Kt(l),u=ni(l);let m=0,g=0;m-=d.left,g-=d.top,m+=l.scrollLeft,g+=l.scrollTop,m-=u.left,g-=u.top,s.moveBy(m,g)})(n,i)}return n}excludeScrollbarsAndBorders(){const t=this._source;let e,n,i;if(ol(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight,i=t.getComputedStyle(t.document.documentElement).direction;else{const s=ni(t);e=t.offsetWidth-t.clientWidth-s.left-s.right,n=t.offsetHeight-t.clientHeight-s.top-s.bottom,i=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=s.left,this.top+=s.top,this.right-=s.right,this.bottom-=s.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,i==="ltr"?this.right-=e:this.left+=e,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const e=[],n=Array.from(t.getClientRects());if(n.length)for(const i of n)e.push(new Kt(i));else{let i=t.startContainer;Me(i)&&(i=i.parentNode);const s=new Kt(i.getBoundingClientRect());s.right=s.left,s.width=0,e.push(s)}return e}static getBoundingRect(t){const e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const i of t)n++,e.left=Math.min(e.left,i.left),e.top=Math.min(e.top,i.top),e.right=Math.max(e.right,i.right),e.bottom=Math.max(e.bottom,i.bottom);return n==0?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new Kt(e))}}function Yi(o,t){for(const e of al)o[e]=t[e]}function vu(o){return!!Ks(o)&&o===o.ownerDocument.body}function Ks(o){return o!==null&&typeof o=="object"&&o.nodeType===1&&typeof o.getBoundingClientRect=="function"}function $r(o){return o instanceof HTMLElement?o.ownerDocument.defaultView.getComputedStyle(o).position:"static"}class Re{_element;_callback;static _observerInstance=null;static _elementCallbacks=null;constructor(t,e){Re._observerInstance||Re._createObserver(),this._element=t,this._callback=e,Re._addElementCallback(t,e),Re._observerInstance.observe(t)}get element(){return this._element}destroy(){Re._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){Re._elementCallbacks||(Re._elementCallbacks=new Map);let n=Re._elementCallbacks.get(t);n||(n=new Set,Re._elementCallbacks.set(t,n)),n.add(e)}static _deleteElementCallback(t,e){const n=Re._getElementCallbacks(t);n&&(n.delete(e),n.size||(Re._elementCallbacks.delete(t),Re._observerInstance.unobserve(t))),Re._elementCallbacks&&!Re._elementCallbacks.size&&(Re._observerInstance=null,Re._elementCallbacks=null)}static _getElementCallbacks(t){return Re._elementCallbacks?Re._elementCallbacks.get(t):null}static _createObserver(){Re._observerInstance=new S.window.ResizeObserver((t=>{for(const e of t){const n=Re._getElementCallbacks(e.target);if(n)for(const i of n)i(e)}}))}}function Un(o,t){o instanceof HTMLTextAreaElement&&(o.value=t),o.innerHTML=t}function Zr(o){return t=>t+o}function ii(o){let t=0;for(;o.previousSibling;)o=o.previousSibling,t++;return t}function yu(o,t,e){o.insertBefore(e,o.childNodes[t]||null)}function tr(o){return o&&o.nodeType===Node.COMMENT_NODE}function oi(o){return!!(o&&o.getClientRects&&o.getClientRects().length)}function ll({element:o,target:t,positions:e,limiter:n,fitInViewport:i,viewportOffsetConfig:s}){bi(t)&&(t=t()),bi(n)&&(n=n());const l=sl(o),d=(function(_){_=Object.assign({top:0,bottom:0,left:0,right:0},_);const v=new Kt(S.window);return v.top+=_.top,v.height-=_.top,v.bottom-=_.bottom,v.height-=_.bottom,v})(s),u=new Kt(o),m=xu(t,d);let g;if(!m||!d.getIntersection(m))return null;const k={targetRect:m,elementRect:u,positionedElementAncestor:l,viewportRect:d};if(n||i){if(n){const _=xu(n,d);_&&(k.limiterRect=_)}g=(function(_,v){const{elementRect:E}=v,z=E.getArea(),L=_.map((X=>new Ic(X,v))).filter((X=>!!X.name));let F=0,G=null;for(const X of L){const{limiterIntersectionArea:lt,viewportIntersectionArea:vt}=X;if(lt===z)return X;const jt=vt**2+lt**2;jt>F&&(F=jt,G=X)}return G})(e,k)}else g=new Ic(e[0],k);return g}function xu(o,t){const e=new Kt(o).getVisible();return e?e.getIntersection(t):null}class Ic{name;config;_positioningFunctionCoordinates;_options;_cachedRect;_cachedAbsoluteRect;constructor(t,e){const n=t(e.targetRect,e.elementRect,e.viewportRect,e.limiterRect);if(!n)return;const{left:i,top:s,name:l,config:d}=n;this.name=l,this.config=d,this._positioningFunctionCoordinates={left:i,top:s},this._options=e}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;return t?t.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function Eu(o){const t=o.parentNode;t&&t.removeChild(o)}function Ai({window:o,rect:t,alignToTop:e,forceScroll:n,viewportOffset:i}){const s=t.clone().moveBy(0,i.bottom),l=t.clone().moveBy(0,-i.top),d=new Kt(o).excludeScrollbarsAndBorders(),u=e&&n,m=[l,s].every((E=>d.contains(E)));let{scrollX:g,scrollY:k}=o;const _=g,v=k;u?k-=d.top-t.top+i.top:m||(cl(l,d)?k-=d.top-t.top+i.top:Jr(s,d)&&(k+=e?t.top-d.top-i.top:t.bottom-d.bottom+i.bottom)),m||(Qs(t,d)?g-=d.left-t.left+i.left:ri(t,d)&&(g+=t.right-d.right+i.right)),g==_&&k===v||o.scrollTo(g,k)}function Ys({parent:o,getRect:t,alignToTop:e,forceScroll:n,ancestorOffset:i=0,limiterElement:s}){const l=Hn(o),d=e&&n;let u,m,g;const k=s||l.document.body;for(;o!=k;)m=t(),u=new Kt(o).excludeScrollbarsAndBorders(),g=u.contains(m),d?o.scrollTop-=u.top-m.top+i:g||(cl(m,u)?o.scrollTop-=u.top-m.top+i:Jr(m,u)&&(o.scrollTop+=e?m.top-u.top-i:m.bottom-u.bottom+i)),g||(Qs(m,u)?o.scrollLeft-=u.left-m.left+i:ri(m,u)&&(o.scrollLeft+=m.right-u.right+i)),o=o.parentNode}function Jr(o,t){return o.bottom>t.bottom}function cl(o,t){return o.top<t.top}function Qs(o,t){return o.left<t.left}function ri(o,t){return o.right>t.right}function Hn(o){return Gs(o)?o.startContainer.ownerDocument.defaultView:o.ownerDocument.defaultView}function er(o){if(Gs(o)){let t=o.commonAncestorContainer;return Me(t)&&(t=t.parentNode),t}return o.parentNode}function Li(o,t){const e=Hn(o),n=new Kt(o);if(e===t)return n;{let i=e;for(;i!=t;){const s=i.frameElement,l=new Kt(s).excludeScrollbarsAndBorders();n.moveBy(l.left,l.top),i=i.parent}}return n}const Qi={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},po={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Du={37:"←",38:"↑",39:"→",40:"↓",9:"⇥",33:"Page Up",34:"Page Down"},$t=nr(),Su=Object.fromEntries(Object.entries($t).map((([o,t])=>{let e;return e=t in Du?Du[t]:o.charAt(0).toUpperCase()+o.slice(1),[t,e]})));function Xr(o){let t;if(typeof o=="string"){if(t=$t[o.toLowerCase()],!t)throw new H("keyboard-unknown-key",null,{key:o})}else t=o.keyCode+(o.altKey?$t.alt:0)+(o.ctrlKey?$t.ctrl:0)+(o.shiftKey?$t.shift:0)+(o.metaKey?$t.cmd:0);return t}function en(o){return typeof o=="string"&&(o=(function(t){return t.split("+").map((e=>e.trim()))})(o)),o.map((t=>typeof t=="string"?(function(e){if(e.endsWith("!"))return Xr(e.slice(0,-1));const n=Xr(e);return(N.isMac||N.isiOS)&&n==$t.ctrl?$t.cmd:n})(t):t)).reduce(((t,e)=>e+t),0)}function ve(o){let t=en(o);return Object.entries(N.isMac||N.isiOS?Qi:po).reduce(((e,[n,i])=>(t&$t[n]&&(t&=~$t[n],e+=i),e)),"")+(t?Su[t]:"")}function Zt(o,t){const e=t==="ltr";switch(o){case $t.arrowleft:return e?"left":"right";case $t.arrowright:return e?"right":"left";case $t.arrowup:return"up";case $t.arrowdown:return"down"}}function nr(){const o={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++)o[String.fromCharCode(t).toLowerCase()]=t;for(let t=48;t<=57;t++)o[t-48]=t;for(let t=112;t<=123;t++)o["f"+(t-111)]=t;return Object.assign(o,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),o}function Yt(o){return Array.isArray(o)?o:[o]}const dl=function(o,t,e){(e!==void 0&&!Bs(o[t],e)||e===void 0&&!(t in o))&&uo(o,t,e)},ko=(function(o){return function(t,e,n){for(var i=-1,s=Object(t),l=n(t),d=l.length;d--;){var u=l[++i];if(e(s[u],u,s)===!1)break}return t}})(),mf=function(o){return Dn(o)&&Cc(o)},Tu=function(o,t){if((t!=="constructor"||typeof o[t]!="function")&&t!="__proto__")return o[t]},Ws=function(o){return Yo(o,Wo(o))},ts=function(o,t,e,n,i,s,l){var d=Tu(o,e),u=Tu(t,e),m=l.get(u);if(m)dl(o,e,m);else{var g=void 0,k=g===void 0;if(k){var _=tn(u),v=!_&&Qo(u),E=!_&&!v&&lu(u);g=u,_||v||E?tn(d)?g=d:mf(d)?g=Zm(d):v?(k=!1,g=$m(u,!0)):E?(k=!1,g=bu(u,!0)):g=[]:Sn(u)||zi(u)?(g=d,zi(d)?g=Ws(d):xe(d)&&!bi(d)||(g=Sc(u))):k=!1}k&&(l.set(u,g),i(g,u,n,s,l),l.delete(u)),dl(o,e,g)}},Mu=function o(t,e,n,i,s){t!==e&&ko(e,(function(l,d){if(s||(s=new Pn),xe(l))ts(t,e,d,n,o,i,s);else{var u=void 0;u===void 0&&(u=l),dl(t,d,u)}}),Wo)},_i=function(o){return o},Bu=function(o,t,e){switch(e.length){case 0:return o.call(t);case 1:return o.call(t,e[0]);case 2:return o.call(t,e[0],e[1]);case 3:return o.call(t,e[0],e[1],e[2])}return o.apply(t,e)};var ir=Math.max;const bo=function(o,t,e){return t=ir(t===void 0?o.length-1:t,0),function(){for(var n=arguments,i=-1,s=ir(n.length-t,0),l=Array(s);++i<s;)l[i]=n[t+i];i=-1;for(var d=Array(t+1);++i<t;)d[i]=n[i];return d[t]=e(l),Bu(o,this,d)}},or=function(o){return function(){return o}},wo=Ps?function(o,t){return Ps(o,"toString",{configurable:!0,enumerable:!1,value:or(t),writable:!0})}:_i;var Iu=Date.now;const $s=function(o){var t=0,e=0;return function(){var n=Iu(),i=16-(n-e);if(e=n,i>0){if(++t>=800)return arguments[0]}else t=0;return o.apply(void 0,arguments)}}(wo),Nc=function(o,t){return $s(bo(o,t,_i),o+"")},es=function(o,t,e){if(!xe(e))return!1;var n=typeof t;return!!(n=="number"?Cc(e)&&pn(t,e.length):n=="string"&&t in e)&&Bs(e[t],o)},ln=function(o){return Nc((function(t,e){var n=-1,i=e.length,s=i>1?e[i-1]:void 0,l=i>2?e[2]:void 0;for(s=o.length>3&&typeof s=="function"?(i--,s):void 0,l&&es(e[0],e[1],l)&&(s=i<3?void 0:s,i=1),t=Object(t);++n<i;){var d=e[n];d&&o(t,d,n,s)}return t}))},Zs=ln((function(o,t,e){Mu(o,t,e)}));function gf(o,t,e=1,n){if(typeof e!="number")throw new H("translation-service-quantity-not-a-number",null,{quantity:e});const i=n||S.window.CKEDITOR_TRANSLATIONS,s=(function(g){return Object.keys(g).length})(i);s===1&&(o=Object.keys(i)[0]);const l=t.id||t.string;if(s===0||!(function(g,k,_){return!!_[g]&&!!_[g].dictionary[k]})(o,l,i))return e!==1?t.plural:t.string;const d=i[o].dictionary,u=i[o].getPluralForm||(g=>g===1?0:1),m=d[l];return typeof m=="string"?m:m[Number(u(e))]}S.window.CKEDITOR_TRANSLATIONS||(S.window.CKEDITOR_TRANSLATIONS={});const ak=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function pf(o){return ak.includes(o)?"rtl":"ltr"}class lk{uiLanguage;uiLanguageDirection;contentLanguage;contentLanguageDirection;t;translations;constructor({uiLanguage:t="en",contentLanguage:e,translations:n}={}){this.uiLanguage=t,this.contentLanguage=e||this.uiLanguage,this.uiLanguageDirection=pf(this.uiLanguage),this.contentLanguageDirection=pf(this.contentLanguage),this.translations=(function(i){return Array.isArray(i)?i.reduce(((s,l)=>Zs(s,l))):i})(n),this.t=(i,s)=>this._t(i,s)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,e=[]){e=Yt(e),typeof t=="string"&&(t={string:t});const n=t.plural?e[0]:1;return(function(i,s){return i.replace(/%(\d+)/g,((l,d)=>d<s.length?s[d]:l))})(gf(this.uiLanguage,t,n,this.translations),e)}}class pe extends yt(){_items;_itemMap;_idProperty;_bindToCollection;_bindToExternalToInternalMap;_bindToInternalToExternalMap;_skippedIndexesFromExternal;constructor(t={},e={}){super();const n=ti(t);if(n||(e=t),this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const i of t)this._items.push(i),this._itemMap.set(this._getItemIdBeforeAdding(i),i)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){return this.addMany([t],e)}addMany(t,e){if(e===void 0)e=this._items.length;else if(e>this._items.length||e<0)throw new H("collection-add-item-invalid-index",this);let n=0;for(const i of t){const s=this._getItemIdBeforeAdding(i),l=e+n;this._items.splice(l,0,i),this._itemMap.set(s,i),this.fire("add",i,l),n++}return this.fire("change",{added:t,removed:[],index:e}),this}get(t){let e;if(typeof t=="string")e=this._itemMap.get(t);else{if(typeof t!="number")throw new H("collection-get-invalid-arg",this);e=this._items[t]}return e||null}has(t){if(typeof t=="string")return this._itemMap.has(t);{const e=t[this._idProperty];return e&&this._itemMap.has(e)}}getIndex(t){let e;return e=typeof t=="string"?this._itemMap.get(t):t,e?this._items.indexOf(e):-1}remove(t){const[e,n]=this._remove(t);return this.fire("change",{added:[],removed:[e],index:n}),e}map(t,e){return this._items.map(t,e)}forEach(t,e){this._items.forEach(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new H("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:e=>{this._setUpBindToBinding((n=>new e(n)))},using:e=>{typeof e=="function"?this._setUpBindToBinding(e):this._setUpBindToBinding((n=>n[e]))}}}_setUpBindToBinding(t){const e=this._bindToCollection,n=(i,s,l)=>{const d=e._bindToCollection==this,u=e._bindToInternalToExternalMap.get(s);if(d&&u)this._bindToExternalToInternalMap.set(s,u),this._bindToInternalToExternalMap.set(u,s);else{const m=t(s);if(!m)return void this._skippedIndexesFromExternal.push(l);let g=l;for(const k of this._skippedIndexesFromExternal)l>k&&g--;for(const k of e._skippedIndexesFromExternal)g>=k&&g++;this._bindToExternalToInternalMap.set(s,m),this._bindToInternalToExternalMap.set(m,s),this.add(m,g);for(let k=0;k<e._skippedIndexesFromExternal.length;k++)g<=e._skippedIndexesFromExternal[k]&&e._skippedIndexesFromExternal[k]++}};for(const i of e)n(0,i,e.getIndex(i));this.listenTo(e,"add",n),this.listenTo(e,"remove",((i,s,l)=>{const d=this._bindToExternalToInternalMap.get(s);d&&this.remove(d),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce(((u,m)=>(l<m&&u.push(m-1),l>m&&u.push(m),u)),[])}))}_getItemIdBeforeAdding(t){const e=this._idProperty;let n;if(e in t){if(n=t[e],typeof n!="string")throw new H("collection-add-invalid-id",this);if(this.get(n))throw new H("collection-add-item-already-exists",this)}else t[e]=n=Mt();return n}_remove(t){let e,n,i,s=!1;const l=this._idProperty;if(typeof t=="string"?(n=t,i=this._itemMap.get(n),s=!i,i&&(e=this._items.indexOf(i))):typeof t=="number"?(e=t,i=this._items[e],s=!i,i&&(n=i[l])):(i=t,n=i[l],e=this._items.indexOf(i),s=e==-1||!this._itemMap.get(n)),s)throw new H("collection-remove-404",this);this._items.splice(e,1),this._itemMap.delete(n);const d=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(d),this.fire("remove",i,e),[i,e]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Ye(o){const t=o.next();return t.done?null:t.value}class Qe extends Vn(ge()){_elements=new Set;_nextEventLoopTimeout=null;constructor(){super(),this.set("isFocused",!1),this.set("focusedElement",null)}add(t){if(this._elements.has(t))throw new H("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",(()=>this._focus(t)),{useCapture:!0}),this.listenTo(t,"blur",(()=>this._blur()),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout((()=>{this.focusedElement=null,this.isFocused=!1}),0)}}class cn{_listener;constructor(){this._listener=new(Vn())}listenTo(t){this._listener.listenTo(t,"keydown",((e,n)=>{this._listener.fire("_keydown:"+Xr(n),n)}))}set(t,e,n={}){const i=en(t),s=n.priority;this._listener.listenTo(this._listener,"_keydown:"+i,((l,d)=>{e(d,(()=>{d.preventDefault(),d.stopPropagation(),l.stop()})),l.return=!0}),{priority:s})}press(t){return!!this._listener.fire("_keydown:"+Xr(t),t)}stopListening(t){this._listener.stopListening(t)}destroy(){this.stopListening()}}function Ci(o){return ti(o)?new Map(o):(function(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e})(o)}function rr(o,t){let e;function n(...i){n.cancel(),e=setTimeout((()=>o(...i)),t)}return n.cancel=()=>{clearTimeout(e)},n}function sr(o,t){return!!(e=o.charAt(t-1))&&e.length==1&&/[\ud800-\udbff]/.test(e)&&(function(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)})(o.charAt(t));var e}function Nu(o,t){return!!(e=o.charAt(t))&&e.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e);var e}const kf=wf();function bf(o,t){const e=String(o).matchAll(kf);return Array.from(e).some((n=>n.index<t&&t<n.index+n[0].length))}function wf(){const o=new RegExp("\\p{Regional_Indicator}{2}","u").source,t="(?:"+[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")].map((e=>e.source)).join("|")+")";return new RegExp(`${o}|${t}(?:‍${t})*`,"ug")}class kn extends pe{_parentElement;constructor(t=[]){super(t,{idProperty:"viewUid"}),this.on("add",((e,n,i)=>{this._renderViewIntoCollectionParent(n,i)})),this.on("remove",((e,n)=>{n.element&&this._parentElement&&n.element.remove()})),this._parentElement=null}destroy(){this.map((t=>t.destroy()))}setParent(t){this._parentElement=t;for(const e of this)this._renderViewIntoCollectionParent(e)}delegate(...t){if(!t.length||!t.every((e=>typeof e=="string")))throw new H("ui-viewcollection-delegate-wrong-events",this);return{to:e=>{for(const n of this)for(const i of t)n.delegate(i).to(e);this.on("add",((n,i)=>{for(const s of t)i.delegate(s).to(e)})),this.on("remove",((n,i)=>{for(const s of t)i.stopDelegating(s,e)}))}}}_renderViewIntoCollectionParent(t,e){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[e])}remove(t){return super.remove(t)}}class si extends yt(){ns;tag;text;attributes;children;eventListeners;_isRendered;_revertData;constructor(t){super(),Object.assign(this,cr(lr(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,intoFragment:!1,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new H("ui-template-revert-not-applied",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*(function*t(e){if(e.children)for(const n of e.children)dr(n)?yield n:ta(n)&&(yield*t(n))})(this)}static bind(t,e){return{to:(n,i)=>new Af({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:i}),if:(n,i,s)=>new ns({observable:t,emitter:e,attribute:n,valueIfTrue:i,callback:s})}}static extend(t,e){if(t._isRendered)throw new H("template-extend-render",[this,t]);Xs(t,cr(lr(e)))}_renderNode(t){let e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text,e)throw new H("ui-template-wrong-syntax",this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),Js(this.text)?this._bindToObservable({schema:this.text,updater:zc(e),data:t}):e.textContent=this.text.join(""),e}_renderAttributes(t){if(!this.attributes)return;const e=t.node,n=t.revertData;for(const i in this.attributes){const s=e.getAttribute(i),l=this.attributes[i];n&&(n.attributes[i]=s);const d=ur(l)?l[0].ns:null;if(Js(l)){const u=ur(l)?l[0].value:l;n&&Lu(i)&&u.unshift(s),this._bindToObservable({schema:u,updater:_f(e,i,d),data:t})}else if(i=="style"&&typeof l[0]!="string")this._renderStyleAttribute(l[0],t);else{n&&s&&Lu(i)&&l.unshift(s);const u=l.map((m=>m&&m.value||m)).reduce(((m,g)=>m.concat(g)),[]).reduce(Ou,"");Ao(u)||e.setAttributeNS(d,i,u)}}}_renderStyleAttribute(t,e){const n=e.node;for(const i in t){const s=t[i];Js(s)?this._bindToObservable({schema:[s],updater:Cf(n,i),data:e}):n.style[i]=s}}_renderElementChildren(t){const e=t.node,n=t.intoFragment?document.createDocumentFragment():e,i=t.isApplying;let s=0;for(const l of this.children)if(Oc(l)){if(!i){l.setParent(e);for(const d of l)n.appendChild(d.element)}}else if(dr(l))i||(l.isRendered||l.render(),n.appendChild(l.element));else if(Xo(l))n.appendChild(l);else if(i){const d={children:[],bindings:[],attributes:{}};t.revertData.children.push(d),l._renderNode({intoFragment:!1,node:n.childNodes[s++],isApplying:!0,revertData:d})}else n.appendChild(l.render());t.intoFragment&&e.appendChild(n)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const n=this.eventListeners[e].map((i=>{const[s,l]=e.split("@");return i.activateDomEventListener(s,l,t)}));t.revertData&&t.revertData.bindings.push(n)}}_bindToObservable({schema:t,updater:e,data:n}){const i=n.revertData;ul(t,e,n);const s=t.filter((l=>!Ao(l))).filter((l=>l.observable)).map((l=>l.activateAttributeListener(t,e,n)));i&&i.bindings.push(s)}_revertTemplateFromNode(t,e){for(const i of e.bindings)for(const s of i)s();if(e.text)return void(t.textContent=e.text);const n=t;for(const i in e.attributes){const s=e.attributes[i];s===null?n.removeAttribute(i):n.setAttribute(i,s)}for(let i=0;i<e.children.length;++i)this._revertTemplateFromNode(n.childNodes[i],e.children[i])}}class ar{attribute;observable;emitter;callback;constructor(t){this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,n){const i=()=>ul(t,e,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,i),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,i)}}}class Af extends ar{eventNameOrFunction;constructor(t){super(t),this.eventNameOrFunction=t.eventNameOrFunction}activateDomEventListener(t,e,n){const i=(s,l)=>{e&&!l.target.matches(e)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(l):this.observable.fire(this.eventNameOrFunction,l))};return this.emitter.listenTo(n.node,t,i),()=>{this.emitter.stopListening(n.node,t,i)}}}class ns extends ar{valueIfTrue;constructor(t){super(t),this.valueIfTrue=t.valueIfTrue}getValue(t){return!Ao(super.getValue(t))&&(this.valueIfTrue||!0)}}function Js(o){return!!o&&(o.value&&(o=o.value),Array.isArray(o)?o.some(Js):o instanceof ar)}function ul(o,t,{node:e}){const n=(function(s,l){return s.map((d=>d instanceof ar?d.getValue(l):d))})(o,e);let i;i=o.length==1&&o[0]instanceof ns?n[0]:n.reduce(Ou,""),Ao(i)?t.remove():t.set(i)}function zc(o){return{set(t){o.textContent=t},remove(){o.textContent=""}}}function _f(o,t,e){return{set(n){o.setAttributeNS(e,t,n)},remove(){o.removeAttributeNS(e,t)}}}function Cf(o,t){return{set(e){o.style[t]=e},remove(){o.style[t]=null}}}function lr(o){return Bc(o,(t=>{if(t&&(t instanceof ar||ta(t)||dr(t)||Oc(t)))return t}))}function cr(o){if(typeof o=="string"?o=(function(t){return{text:[t]}})(o):o.text&&(function(t){t.text=Yt(t.text)})(o),o.on&&(o.eventListeners=(function(t){for(const e in t)zu(t,e);return t})(o.on),delete o.on),!o.text){o.attributes&&(function(e){for(const n in e)e[n].value&&(e[n].value=Yt(e[n].value)),zu(e,n)})(o.attributes);const t=[];if(o.children)if(Oc(o.children))t.push(o.children);else for(const e of o.children)ta(e)||dr(e)||Xo(e)?t.push(e):t.push(new si(e));o.children=t}return o}function zu(o,t){o[t]=Yt(o[t])}function Ou(o,t){return Ao(t)?o:Ao(o)?t:`${o} ${t}`}function is(o,t){for(const e in t)o[e]?o[e].push(...t[e]):o[e]=t[e]}function Xs(o,t){if(t.attributes&&(o.attributes||(o.attributes={}),is(o.attributes,t.attributes)),t.eventListeners&&(o.eventListeners||(o.eventListeners={}),is(o.eventListeners,t.eventListeners)),t.text&&o.text.push(...t.text),t.children&&t.children.length){if(o.children.length!=t.children.length)throw new H("ui-template-extend-children-mismatch",o);let e=0;for(const n of t.children)Xs(o.children[e++],n)}}function Ao(o){return!o&&o!==0}function dr(o){return o instanceof It}function ta(o){return o instanceof si}function Oc(o){return o instanceof kn}function ur(o){return xe(o[0])&&o[0].ns}function Lu(o){return o=="class"||o=="style"}var hr=D(2591),pt=D.n(hr),Lc=D(7676),mr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Lc.A,mr),Lc.A.locals;class It extends Vn(ge()){element;isRendered;locale;t;template;_viewCollections;_unboundChildren;_bindTemplate;constructor(t){super(),this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new pe,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",((e,n)=>{n.locale=t,n.t=t&&t.t})),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=si.bind(this,this)}createCollection(t){const e=new kn(t);return this._viewCollections.add(e),e}registerChild(t){ti(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){ti(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new si(t)}extendTemplate(t){si.extend(this.template,t)}render(){if(this.isRendered)throw new H("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map((t=>t.destroy())),this.template&&this.template._revertData&&this.template.revert(this.element)}}function fr({emitter:o,activator:t,callback:e,contextElements:n}){o.listenTo(document,"mousedown",((i,s)=>{if(!t())return;const l=typeof s.composedPath=="function"?s.composedPath():[],d=typeof n=="function"?n():n;for(const u of d)if(u.contains(s.target)||l.includes(u))return;e()}))}function hl(o){return class extends o{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...t){super(...t),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function ea({view:o}){o.listenTo(o.element,"submit",((t,e)=>{e.preventDefault(),o.fire("submit")}),{useCapture:!0})}function ml({keystrokeHandler:o,focusTracker:t,gridItems:e,numberOfColumns:n,uiLanguageDirection:i}){const s=()=>n;function l(m){return g=>{const k=e.find((E=>E.element===t.focusedElement)),_=e.getIndex(k),v=m(_,e);e.get(v).focus(),g.stopPropagation(),g.preventDefault()}}function d(m,g){return m===g-1?0:m+1}function u(m,g){return m===0?g-1:m-1}o.set("arrowright",l(((m,g)=>i==="rtl"?u(m,g.length):d(m,g.length)))),o.set("arrowleft",l(((m,g)=>i==="rtl"?d(m,g.length):u(m,g.length)))),o.set("arrowup",l(((m,g)=>{let k=m-s();return k<0&&(k=m+s()*Math.floor(g.length/s()),k>g.length-1&&(k-=s())),k}))),o.set("arrowdown",l(((m,g)=>{let k=m+s();return k>g.length-1&&(k=m%s()),k})))}class ft extends ge(){editor;_disableStack=new Set;constructor(t){super(),this.editor=t,this.set("isEnabled",!0)}forceDisabled(t){this._disableStack.add(t),this._disableStack.size==1&&(this.on("set:isEnabled",Ru,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),this._disableStack.size==0&&(this.off("set:isEnabled",Ru),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Ru(o){o.return=!1,o.stop()}class Ht extends ge(){editor;_isEnabledBasedOnSelection;_affectsData;_disableStack;constructor(t){super(),this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",(()=>{this.refresh()})),this.listenTo(t,"change:isReadOnly",(()=>{this.refresh()})),this.on("set:isEnabled",(e=>{if(!this.affectsData)return;const n=t.model.document.selection,i=n.getFirstPosition().root.rootName!="$graveyard"&&t.model.canEditAt(n);(t.isReadOnly||this._isEnabledBasedOnSelection&&!i)&&(e.return=!1,e.stop())}),{priority:"highest"}),this.on("execute",(e=>{this.isEnabled||e.stop()}),{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(t){this._affectsData=t}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),this._disableStack.size==1&&(this.on("set:isEnabled",os,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),this._disableStack.size==0&&(this.off("set:isEnabled",os),this.refresh())}execute(...t){}destroy(){this.stopListening()}}function os(o){o.return=!1,o.stop()}class fl extends Ht{_childCommandsDefinitions=[];refresh(){}execute(...t){const e=this._getFirstEnabledCommand();return!!e&&e.execute(t)}registerChildCommand(t,e={}){qt(this._childCommandsDefinitions,{command:t,priority:e.priority||"normal"}),t.on("change:isEnabled",(()=>this._checkEnabled())),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const t=this._childCommandsDefinitions.find((({command:e})=>e.isEnabled));return t&&t.command}}class ju extends yt(){_context;_plugins=new Map;_availablePlugins;_contextPlugins;constructor(t,e=[],n=[]){super(),this._context=t,this._availablePlugins=new Map;for(const i of e)i.pluginName&&this._availablePlugins.set(i.pluginName,i);this._contextPlugins=new Map;for(const[i,s]of n)this._contextPlugins.set(i,s),this._contextPlugins.set(s,i),i.pluginName&&this._availablePlugins.set(i.pluginName,i)}*[Symbol.iterator](){for(const t of this._plugins)typeof t[0]=="function"&&(yield t)}get(t){const e=this._plugins.get(t);if(!e){let n=t;throw typeof t=="function"&&(n=t.pluginName||t.name),new H("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return e}has(t){return this._plugins.has(t)}init(t,e=[],n=[]){const i=this,s=this._context;(function E(z,L=new Set){z.forEach((F=>{u(F)&&(L.has(F)||(L.add(F),F.pluginName&&!i._availablePlugins.has(F.pluginName)&&i._availablePlugins.set(F.pluginName,F),F.requires&&E(F.requires,L)))}))})(t),_(t);const l=[...(function E(z,L=new Set){return z.map((F=>u(F)?F:i._availablePlugins.get(F))).reduce(((F,G)=>L.has(G)?F:(L.add(G),G.requires&&(_(G.requires,G),E(G.requires,L).forEach((X=>F.add(X)))),F.add(G))),new Set)})(t.filter((E=>!g(E,e))))];(function(E,z){for(const L of z){if(typeof L!="function")throw new H("plugincollection-replace-plugin-invalid-type",null,{pluginItem:L});const F=L.pluginName;if(!F)throw new H("plugincollection-replace-plugin-missing-name",null,{pluginItem:L});if(L.requires&&L.requires.length)throw new H("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:F});const G=i._availablePlugins.get(F);if(!G)throw new H("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:F});const X=E.indexOf(G);if(X===-1){if(i._contextPlugins.has(G))return;throw new H("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:F})}if(G.requires&&G.requires.length)throw new H("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:F});E.splice(X,1,L),i._availablePlugins.set(F,L)}})(l,n);const d=l.map((E=>{let z=i._contextPlugins.get(E);return z=z||new E(s),i._add(E,z),z}));return v(d,"init").then((()=>v(d,"afterInit"))).then((()=>d));function u(E){return typeof E=="function"}function m(E){return u(E)&&!!E.isContextPlugin}function g(E,z){return z.some((L=>L===E||k(E)===L||k(L)===E))}function k(E){return u(E)?E.pluginName||E.name:E}function _(E,z=null){E.map((L=>u(L)?L:i._availablePlugins.get(L)||L)).forEach((L=>{(function(F,G){if(!u(F))throw G?new H("plugincollection-soft-required",s,{missingPlugin:F,requiredBy:k(G)}):new H("plugincollection-plugin-not-found",s,{plugin:F})})(L,z),(function(F,G){if(m(G)&&!m(F))throw new H("plugincollection-context-required",s,{plugin:k(F),requiredBy:k(G)})})(L,z),(function(F,G){if(G&&g(F,e))throw new H("plugincollection-required",s,{plugin:k(F),requiredBy:k(G)})})(L,z)}))}function v(E,z){return E.reduce(((L,F)=>F[z]?i._contextPlugins.has(F)?L:L.then(F[z].bind(F)):L),Promise.resolve())}}destroy(){const t=[];for(const[,e]of this)typeof e.destroy!="function"||this._contextPlugins.has(e)||t.push(e.destroy());return Promise.all(t)}_add(t,e){this._plugins.set(t,e);const n=t.pluginName;if(n){if(this._plugins.has(n))throw new H("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t});this._plugins.set(n,e)}}}class Rc{config;plugins;locale;t;editors;static defaultConfig;static builtinPlugins;_contextOwner=null;constructor(t){const{translations:e,...n}=t||{};this.config=new _u(n,this.constructor.defaultConfig);const i=this.constructor.builtinPlugins;this.config.define("plugins",i),this.plugins=new ju(this,i);const s=this.config.get("language")||{};this.locale=new lk({uiLanguage:typeof s=="string"?s:s.ui,contentLanguage:this.config.get("language.content"),translations:e}),this.t=this.locale.t,this.editors=new pe}initPlugins(){const t=this.config.get("plugins")||[],e=this.config.get("substitutePlugins")||[];for(const n of t.concat(e)){if(typeof n!="function")throw new H("context-initplugins-constructor-only",null,{Plugin:n});if(n.isContextPlugin!==!0)throw new H("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(t,[],e)}destroy(){return Promise.all(Array.from(this.editors,(t=>t.destroy()))).then((()=>this.plugins.destroy()))}_addEditor(t,e){if(this._contextOwner)throw new H("context-addeditor-private-context");this.editors.add(t),e&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const e of this.config.names())["plugins","removePlugins","extraPlugins"].includes(e)||(t[e]=this.config.get(e));return t}static create(t){return new Promise((e=>{const n=new this(t);e(n.initPlugins().then((()=>n)))}))}}class na extends ge(){context;constructor(t){super(),this.context=t}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class ai extends cn{editor;constructor(t){super(),this.editor=t}set(t,e,n={}){if(typeof e=="string"){const i=e;e=(s,l)=>{this.editor.execute(i),l()}}super.set(t,e,n)}}var li=D(4098),gr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(li.A,gr),li.A.locals;const ia=new WeakMap;let Pu=!1;function _o({view:o,element:t,text:e,isDirectHost:n=!0,keepOnFocus:i=!1}){const s=o.document;function l(d){ia.get(s).set(t,{text:d,isDirectHost:n,keepOnFocus:i,hostElement:n?t:null}),o.change((u=>je(s,u)))}ia.has(s)||(ia.set(s,new Map),s.registerPostFixer((d=>je(s,d))),s.on("change:isComposing",(()=>{o.change((d=>je(s,d)))}),{priority:"high"})),t.is("editableElement")&&t.on("change:placeholder",((d,u,m)=>{l(m)})),t.placeholder?l(t.placeholder):e&&l(e),e&&(function(){Pu||Bt("enableplaceholder-deprecated-text-option"),Pu=!0})()}function ci(o,t){return!!t.hasClass("ck-placeholder")&&(o.removeClass("ck-placeholder",t),!0)}function je(o,t){const e=ia.get(o),n=[];let i=!1;for(const[s,l]of e)l.isDirectHost&&(n.push(s),gl(t,s,l)&&(i=!0));for(const[s,l]of e){if(l.isDirectHost)continue;const d=Co(s);d&&(n.includes(d)||(l.hostElement=d,gl(t,s,l)&&(i=!0)))}return i}function gl(o,t,e){const{text:n,isDirectHost:i,hostElement:s}=e;let l=!1;return s.getAttribute("data-placeholder")!==n&&(o.setAttribute("data-placeholder",n,s),l=!0),(i||t.childCount==1)&&(function(d,u){if(!d.isAttached()||Array.from(d.getChildren()).some((k=>!k.is("uiElement"))))return!1;const m=d.document,g=m.selection.anchor;return!(m.isComposing&&g&&g.parent===d||!u&&m.isFocused&&(!g||g.parent===d))})(s,e.keepOnFocus)?(function(d,u){return!u.hasClass("ck-placeholder")&&(d.addClass("ck-placeholder",u),!0)})(o,s)&&(l=!0):ci(o,s)&&(l=!0),l}function Co(o){if(o.childCount){const t=o.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}class Pt{is(){throw new Error("is() method is abstract")}}const Ae=function(o){return go(o,4)};class Be extends yt(Pt){document;parent;constructor(t){super(),this.document=t,this.parent=null}get index(){let t;if(!this.parent)return null;if((t=this.parent.getChildIndex(this))==-1)throw new H("view-node-not-found-in-parent",this);return t}get nextSibling(){const t=this.index;return t!==null&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return t!==null&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.index),e=e.parent;return t}getAncestors(t={}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let s=0;for(;n[s]==i[s]&&n[s];)s++;return s===0?null:n[s-1]}isBefore(t){if(this==t||this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=sn(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,e){this.fire(`change:${t}`,e),this.parent&&this.parent._fireChange(t,e)}toJSON(){const t=Ae(this);return delete t.parent,t}}Be.prototype.is=function(o){return o==="node"||o==="view:node"};class ue extends Be{_textData;constructor(t,e){super(t),this._textData=e}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof ue&&(this===t||this.data===t.data)}_clone(){return new ue(this.document,this.data)}}ue.prototype.is=function(o){return o==="$text"||o==="view:$text"||o==="text"||o==="view:text"||o==="node"||o==="view:node"};class Mn extends Pt{textNode;data;offsetInText;constructor(t,e,n){if(super(),this.textNode=t,e<0||e>t.data.length)throw new H("view-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.data.length)throw new H("view-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(t={}){const e=[];let n=t.includeSelf?this.textNode:this.parent;for(;n!==null;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}}Mn.prototype.is=function(o){return o==="$textProxy"||o==="view:$textProxy"||o==="textProxy"||o==="view:textProxy"};class xn{_patterns=[];constructor(...t){this.add(...t)}add(...t){for(let e of t)(typeof e=="string"||e instanceof RegExp)&&(e={name:e}),this._patterns.push(e)}match(...t){for(const e of t)for(const n of this._patterns){const i=pl(e,n);if(i)return{element:e,pattern:n,match:i}}return null}matchAll(...t){const e=[];for(const n of t)for(const i of this._patterns){const s=pl(n,i);s&&e.push({element:n,pattern:i,match:s})}return e.length>0?e:null}getElementName(){if(this._patterns.length!==1)return null;const t=this._patterns[0],e=t.name;return typeof t=="function"||!e||e instanceof RegExp?null:e}}function pl(o,t){if(typeof t=="function")return t(o);const e={};return t.name&&(e.name=(function(n,i){return n instanceof RegExp?!!i.match(n):n===i})(t.name,o.name),!e.name)||t.attributes&&(e.attributes=(function(n,i){const s=new Set(i.getAttributeKeys());return Sn(n)?(n.style!==void 0&&Bt("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&Bt("matcher-pattern-deprecated-attributes-class-key",n)):(s.delete("style"),s.delete("class")),rs(n,s,(l=>i.getAttribute(l)))})(t.attributes,o),!e.attributes)||t.classes&&(e.classes=(function(n,i){return rs(n,i.getClassNames(),(()=>{}))})(t.classes,o),!e.classes)||t.styles&&(e.styles=(function(n,i){return rs(n,i.getStyleNames(!0),(s=>i.getStyle(s)))})(t.styles,o),!e.styles)?null:e}function rs(o,t,e){const n=(function(l){return Array.isArray(l)?l.map((d=>Sn(d)?(d.key!==void 0&&d.value!==void 0||Bt("matcher-pattern-missing-key-or-value",d),[d.key,d.value]):[d,!0])):Sn(l)?Object.entries(l):[[l,!0]]})(o),i=Array.from(t),s=[];if(n.forEach((([l,d])=>{i.forEach((u=>{(function(m,g){return m===!0||m===g||m instanceof RegExp&&g.match(m)})(l,u)&&(function(m,g,k){if(m===!0)return!0;const _=k(g);return m===_||m instanceof RegExp&&!!String(_).match(m)})(d,u,e)&&s.push(u)}))})),n.length&&!(s.length<n.length))return s}const vo=function(o){return typeof o=="symbol"||Dn(o)&&Ni(o)=="[object Symbol]"};var ck=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pe=/^\w*$/;const kl=function(o,t){if(tn(o))return!1;var e=typeof o;return!(e!="number"&&e!="symbol"&&e!="boolean"&&o!=null&&!vo(o))||Pe.test(o)||!ck.test(o)||t!=null&&o in Object(t)};function bl(o,t){if(typeof o!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var e=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=e.cache;if(s.has(i))return s.get(i);var l=o.apply(this,n);return e.cache=s.set(i,l)||s,l};return e.cache=new(bl.Cache||wc),e}bl.Cache=wc;const vf=bl,yf=function(o){var t=vf(o,(function(n){return e.size===500&&e.clear(),n})),e=t.cache;return t};var dk=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fu=/\\(\\)?/g,Vu=yf((function(o){var t=[];return o.charCodeAt(0)===46&&t.push(""),o.replace(dk,(function(e,n,i,s){t.push(i?s.replace(Fu,"$1"):n||e)})),t}));const Uu=Vu,Bn=function(o,t){for(var e=-1,n=o==null?0:o.length,i=Array(n);++e<n;)i[e]=t(o[e],e,o);return i};var Fe=Ln?Ln.prototype:void 0,wl=Fe?Fe.toString:void 0;const Al=function o(t){if(typeof t=="string")return t;if(tn(t))return Bn(t,o)+"";if(vo(t))return wl?wl.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},oa=function(o){return o==null?"":Al(o)},ra=function(o,t){return tn(o)?o:kl(o,t)?[o]:Uu(oa(o))},yo=function(o){var t=o==null?0:o.length;return t?o[t-1]:void 0},xo=function(o){if(typeof o=="string"||vo(o))return o;var t=o+"";return t=="0"&&1/o==-1/0?"-0":t},_l=function(o,t){for(var e=0,n=(t=ra(t,o)).length;o!=null&&e<n;)o=o[xo(t[e++])];return e&&e==n?o:void 0},jc=function(o,t,e){var n=-1,i=o.length;t<0&&(t=-t>i?0:i+t),(e=e>i?i:e)<0&&(e+=i),i=t>e?0:e-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=o[n+t];return s},xf=function(o,t){return t.length<2?o:_l(o,jc(t,0,-1))},Ef=function(o,t){return t=ra(t,o),(o=xf(o,t))==null||delete o[xo(yo(t))]},Df=function(o,t){return o==null||Ef(o,t)},sa=function(o,t,e){var n=o==null?void 0:_l(o,t);return n===void 0?e:n},Sf=function(o,t,e,n){if(!xe(o))return o;for(var i=-1,s=(t=ra(t,o)).length,l=s-1,d=o;d!=null&&++i<s;){var u=xo(t[i]),m=e;if(u==="__proto__"||u==="constructor"||u==="prototype")return o;if(i!=l){var g=d[u];(m=void 0)==void 0&&(m=xe(g)?g:pn(t[i+1])?[]:{})}Ac(d,u,m),d=d[u]}return o},Tf=function(o,t,e){return o==null?o:Sf(o,t,e)};class Cl{_styles;_styleProcessor;constructor(t){this._styles={},this._styleProcessor=t}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const e=(function(n){let i=null,s=0,l=0,d=null;const u=new Map;if(n==="")return u;n.charAt(n.length-1)!=";"&&(n+=";");for(let m=0;m<n.length;m++){const g=n.charAt(m);if(i===null)switch(g){case":":d||(d=n.substr(s,m-s),l=m+1);break;case'"':case"'":i=g;break;case";":{const k=n.substr(l,m-l);d&&u.set(d.trim(),k.trim()),d=null,s=m+1;break}}else g===i&&(i=null)}return u})(t);for(const[n,i]of e)this._styleProcessor.toNormalizedForm(n,i,this._styles)}has(t){if(this.isEmpty)return!1;const e=this._styleProcessor.getReducedForm(t,this._styles).find((([n])=>n===t));return Array.isArray(e)}set(t,e){if(xe(t))for(const[n,i]of Object.entries(t))this._styleProcessor.toNormalizedForm(n,i,this._styles);else this._styleProcessor.toNormalizedForm(t,e,this._styles)}remove(t){const e=Hu(t);Df(this._styles,e),delete this._styles[t],this._cleanEmptyObjectsOnPath(e)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map((t=>t.join(":"))).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!xe(this._styles[t]))return this._styles[t];const e=this._styleProcessor.getReducedForm(t,this._styles).find((([n])=>n===t));return Array.isArray(e)?e[1]:void 0}getStyleNames(t=!1){return this.isEmpty?[]:t?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map((([e])=>e))}clear(){this._styles={}}getStylesEntries(){const t=[],e=Object.keys(this._styles);for(const n of e)t.push(...this._styleProcessor.getReducedForm(n,this._styles));return t}_cleanEmptyObjectsOnPath(t){const e=t.split(".");if(!(e.length>1))return;const n=e.splice(0,e.length-1).join("."),i=sa(this._styles,n);i&&!Object.keys(i).length&&this.remove(n)}}class Mf{_normalizers;_extractors;_reducers;_consumables;constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,e,n){if(xe(e))Pc(n,Hu(t),e);else if(this._normalizers.has(t)){const i=this._normalizers.get(t),{path:s,value:l}=i(e);Pc(n,s,l)}else Pc(n,t,e)}getNormalized(t,e){if(!t)return Zs({},e);if(e[t]!==void 0)return e[t];if(this._extractors.has(t)){const n=this._extractors.get(t);if(typeof n=="string")return sa(e,n);const i=n(t,e);if(i)return i}return sa(e,Hu(t))}getReducedForm(t,e){const n=this.getNormalized(t,e);return n===void 0?[]:this._reducers.has(t)?this._reducers.get(t)(n):[[t,n]]}getStyleNames(t){const e=Array.from(this._consumables.keys()).filter((i=>{const s=this.getNormalized(i,t);return s&&typeof s=="object"?Object.keys(s).length:s})),n=new Set([...e,...Object.keys(t)]);return Array.from(n)}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,e){this._normalizers.set(t,e)}setExtractor(t,e){this._extractors.set(t,e)}setReducer(t,e){this._reducers.set(t,e)}setStyleRelation(t,e){this._mapStyleNames(t,e);for(const n of e)this._mapStyleNames(n,[t])}_mapStyleNames(t,e){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...e)}}function Hu(o){return o.replace("-",".")}function Pc(o,t,e){let n=e;xe(e)&&(n=Zs({},sa(o,t),e)),Tf(o,t,n)}class qn extends Be{name;_unsafeAttributesToRender=[];_attrs;_children;_classes;_styles;_customProperties=new Map;constructor(t,e,n,i){if(super(t),this.name=e,this._attrs=(function(s){const l=Ci(s);for(const[d,u]of l)u===null?l.delete(d):typeof u!="string"&&l.set(d,String(u));return l})(n),this._children=[],i&&this._insertChild(0,i),this._classes=new Set,this._attrs.has("class")){const s=this._attrs.get("class");qu(this._classes,s),this._attrs.delete("class")}this._styles=new Cl(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(t){if(t=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(t=="style"){const e=this._styles.toString();return e==""?void 0:e}return this._attrs.get(t)}hasAttribute(t){return t=="class"?this._classes.size>0:t=="style"?!this._styles.isEmpty:this._attrs.has(t)}isSimilar(t){if(!(t instanceof qn))return!1;if(this===t)return!0;if(this.name!=t.name||this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,n]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==n)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const e of this._styles.getStyleNames())if(!t._styles.has(e)||t._styles.getAsString(e)!==this._styles.getAsString(e))return!1;return!0}hasClass(...t){for(const e of t)if(!this._classes.has(e))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles.getNormalized(t)}getStyleNames(t){return this._styles.getStyleNames(t)}hasStyle(...t){for(const e of t)if(!this._styles.has(e))return!1;return!0}findAncestor(...t){const e=new xn(...t);let n=this.parent;for(;n&&!n.is("documentFragment");){if(e.match(n))return n;n=n.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),e=this._styles.toString(),n=Array.from(this._attrs).map((i=>`${i[0]}="${i[1]}"`)).sort().join(" ");return this.name+(t==""?"":` class="${t}"`)+(e?` style="${e}"`:"")+(n==""?"":` ${n}`)}shouldRenderUnsafeAttribute(t){return this._unsafeAttributesToRender.includes(t)}_clone(t=!1){const e=[];if(t)for(const i of this.getChildren())e.push(i._clone(t));const n=new this.constructor(this.document,this.name,this._attrs,e);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange("children",this);let n=0;const i=(function(s,l){return typeof l=="string"?[new ue(s,l)]:(ti(l)||(l=[l]),Array.from(l).map((d=>typeof d=="string"?new ue(s,d):d instanceof Mn?new ue(s,d.data):d)))})(this.document,e);for(const s of i)s.parent!==null&&s._remove(),s.parent=this,s.document=this.document,this._children.splice(t,0,s),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_setAttribute(t,e){const n=String(e);this._fireChange("attributes",this),t=="class"?qu(this._classes,n):t=="style"?this._styles.setTo(n):this._attrs.set(t,n)}_removeAttribute(t){return this._fireChange("attributes",this),t=="class"?this._classes.size>0&&(this._classes.clear(),!0):t=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this);for(const e of Yt(t))this._classes.add(e)}_removeClass(t){this._fireChange("attributes",this);for(const e of Yt(t))this._classes.delete(e)}_setStyle(t,e){this._fireChange("attributes",this),typeof t!="string"?this._styles.set(t):this._styles.set(t,e)}_removeStyle(t){this._fireChange("attributes",this);for(const e of Yt(t))this._styles.remove(e)}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function qu(o,t){const e=t.split(/\s+/);o.clear(),e.forEach((n=>o.add(n)))}qn.prototype.is=function(o,t){return t?t===this.name&&(o==="element"||o==="view:element"):o==="element"||o==="view:element"||o==="node"||o==="view:node"};class ss extends qn{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=Bf}}function Bf(){const o=[...this.getChildren()],t=o[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const e of o)if(!e.is("uiElement"))return null;return this.childCount}ss.prototype.is=function(o,t){return t?t===this.name&&(o==="containerElement"||o==="view:containerElement"||o==="element"||o==="view:element"):o==="containerElement"||o==="view:containerElement"||o==="element"||o==="view:element"||o==="node"||o==="view:node"};class vl extends ge(ss){constructor(t,e,n,i){super(t,e,n,i),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",(s=>s&&t.selection.editableElement==this)),this.listenTo(t.selection,"change",(()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this}))}destroy(){this.stopListening()}}vl.prototype.is=function(o,t){return t?t===this.name&&(o==="editableElement"||o==="view:editableElement"||o==="containerElement"||o==="view:containerElement"||o==="element"||o==="view:element"):o==="editableElement"||o==="view:editableElement"||o==="containerElement"||o==="view:containerElement"||o==="element"||o==="view:element"||o==="node"||o==="view:node"};const Gu=Symbol("rootName");class Ku extends vl{constructor(t,e){super(t,e),this.rootName="main"}get rootName(){return this.getCustomProperty(Gu)}set rootName(t){this._setCustomProperty(Gu,t)}set _name(t){this.name=t}}Ku.prototype.is=function(o,t){return t?t===this.name&&(o==="rootElement"||o==="view:rootElement"||o==="editableElement"||o==="view:editableElement"||o==="containerElement"||o==="view:containerElement"||o==="element"||o==="view:element"):o==="rootElement"||o==="view:rootElement"||o==="editableElement"||o==="view:editableElement"||o==="containerElement"||o==="view:containerElement"||o==="element"||o==="view:element"||o==="node"||o==="view:node"};class pr{direction;boundaries;singleCharacters;shallow;ignoreElementEnd;_position;_boundaryStartParent;_boundaryEndParent;constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new H("view-tree-walker-no-start-position",null);if(t.direction&&t.direction!="forward"&&t.direction!="backward")throw new H("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this._position=bt._createAt(t.startPosition):this._position=bt._createAt(t.boundaries[t.direction=="backward"?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,n;do n=this.position,e=this.next();while(!e.done&&t(e.value));e.done||(this._position=n)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,n=t.parent;if(n.parent===null&&t.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let i;if(n instanceof ue){if(t.isAtEnd)return this._position=bt._createAfter(n),this._next();i=n.data[t.offset]}else i=n.getChild(t.offset);if(i instanceof qn){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t=new bt(i,0);return this._position=t,this._formatReturnValue("elementStart",i,e,t,1)}if(i instanceof ue){if(this.singleCharacters)return t=new bt(i,0),this._position=t,this._next();let s,l=i.data.length;return i==this._boundaryEndParent?(l=this.boundaries.end.offset,s=new Mn(i,0,l),t=bt._createAfter(s)):(s=new Mn(i,0,i.data.length),t.offset++),this._position=t,this._formatReturnValue("text",s,e,t,l)}if(typeof i=="string"){let s;this.singleCharacters?s=1:s=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-t.offset;const l=new Mn(n,t.offset,s);return t.offset+=s,this._position=t,this._formatReturnValue("text",l,e,t,s)}return t=bt._createAfter(n),this._position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,e,t)}_previous(){let t=this.position.clone();const e=this.position,n=t.parent;if(n.parent===null&&t.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let i;if(n instanceof ue){if(t.isAtStart)return this._position=bt._createBefore(n),this._previous();i=n.data[t.offset-1]}else i=n.getChild(t.offset-1);if(i instanceof qn)return this.shallow?(t.offset--,this._position=t,this._formatReturnValue("elementStart",i,e,t,1)):(t=new bt(i,i.childCount),this._position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,e,t));if(i instanceof ue){if(this.singleCharacters)return t=new bt(i,i.data.length),this._position=t,this._previous();let s,l=i.data.length;if(i==this._boundaryStartParent){const d=this.boundaries.start.offset;s=new Mn(i,d,i.data.length-d),l=s.data.length,t=bt._createBefore(s)}else s=new Mn(i,0,i.data.length),t.offset--;return this._position=t,this._formatReturnValue("text",s,e,t,l)}if(typeof i=="string"){let s;if(this.singleCharacters)s=1;else{const d=n===this._boundaryStartParent?this.boundaries.start.offset:0;s=t.offset-d}t.offset-=s;const l=new Mn(n,t.offset,s);return this._position=t,this._formatReturnValue("text",l,e,t,s)}return t=bt._createBefore(n),this._position=t,this._formatReturnValue("elementStart",n,e,t,1)}_formatReturnValue(t,e,n,i,s){return e instanceof Mn&&(e.offsetInText+e.data.length==e.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=bt._createAfter(e.textNode):(i=bt._createAfter(e.textNode),this._position=i)),e.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=bt._createBefore(e.textNode):(i=bt._createBefore(e.textNode),this._position=i))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:s}}}}class bt extends Pt{parent;offset;constructor(t,e){super(),this.parent=t,this.offset=e}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof vl);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const e=bt._createAt(this),n=e.offset+t;return e.offset=n<0?0:n,e}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new pr(e);return n.skip(t),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;for(;e[i]==n[i]&&e[i];)i++;return i===0?null:e[i-1]}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return this.compareWith(t)=="before"}isAfter(t){return this.compareWith(t)=="after"}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);const i=sn(e,n);switch(i){case"prefix":return"before";case"extension":return"after";default:return e[i]<n[i]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new pr(t)}clone(){return new bt(this.parent,this.offset)}static _createAt(t,e){if(t instanceof bt)return new this(t.parent,t.offset);{const n=t;if(e=="end")e=n.is("$text")?n.data.length:n.childCount;else{if(e=="before")return this._createBefore(n);if(e=="after")return this._createAfter(n);if(e!==0&&!e)throw new H("view-createpositionat-offset-required",n)}return new bt(n,e)}}static _createAfter(t){if(t.is("$textProxy"))return new bt(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new H("view-position-after-root",t,{root:t});return new bt(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new bt(t.textNode,t.offsetInText);if(!t.parent)throw new H("view-position-before-root",t,{root:t});return new bt(t.parent,t.index)}}bt.prototype.is=function(o){return o==="position"||o==="view:position"};class Lt extends Pt{start;end;constructor(t,e=null){super(),this.start=t.clone(),this.end=e?e.clone():t.clone()}*[Symbol.iterator](){yield*new pr({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(Eo,{direction:"backward"}),e=this.end.getLastMatchingPosition(Eo);return t.parent.is("$text")&&t.isAtStart&&(t=bt._createBefore(t.parent)),e.parent.is("$text")&&e.isAtEnd&&(e=bt._createAfter(e.parent)),new Lt(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(Eo);if(t.isAfter(this.end)||t.isEqual(this.end))return new Lt(t,t);let e=this.end.getLastMatchingPosition(Eo,{direction:"backward"});const n=t.nodeAfter,i=e.nodeBefore;return n&&n.is("$text")&&(t=new bt(n,0)),i&&i.is("$text")&&(e=new bt(i,i.data.length)),new Lt(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new Lt(this.start,t.start)),this.containsPosition(t.end)&&e.push(new Lt(t.end,this.end))):e.push(this.clone()),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new Lt(e,n)}return null}getWalker(t={}){return t.boundaries=this,new pr(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,e=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(e=this.end.parent.previousSibling),t&&t.is("element")&&t===e?t:null}clone(){return new Lt(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new pr(t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new pr(t);yield e.position;for(const n of e)yield n.nextPosition}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,e,n,i){return new this(new bt(t,e),new bt(n,i))}static _createFromPositionAndShift(t,e){const n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const e=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(bt._createBefore(t),e)}}function Eo(o){return!(!o.item.is("attributeElement")&&!o.item.is("uiElement"))}Lt.prototype.is=function(o){return o==="range"||o==="view:range"};class vi extends yt(Pt){_ranges;_lastRangeBackward;_isFake;_fakeSelectionLabel;constructor(...t){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",t.length&&this.setTo(...t)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?t.clone():null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake||this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel||this.rangeCount!=t.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const e=hc(this.getRanges());if(e!=hc(t.getRanges()))return!1;if(e==0)return!0;for(let n of this.getRanges()){n=n.getTrimmed();let i=!1;for(let s of t.getRanges())if(s=s.getTrimmed(),n.start.isEqual(s.start)&&n.end.isEqual(s.end)){i=!0;break}if(!i)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...t){let[e,n,i]=t;if(typeof n=="object"&&(i=n,n=void 0),e===null)this._setRanges([]),this._setFakeOptions(i);else if(e instanceof vi||e instanceof aa)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof Lt)this._setRanges([e],i&&i.backward),this._setFakeOptions(i);else if(e instanceof bt)this._setRanges([new Lt(e)]),this._setFakeOptions(i);else if(e instanceof Be){const s=!!i&&!!i.backward;let l;if(n===void 0)throw new H("view-selection-setto-required-second-parameter",this);l=n=="in"?Lt._createIn(e):n=="on"?Lt._createOn(e):new Lt(bt._createAt(e,n)),this._setRanges([l],s),this._setFakeOptions(i)}else{if(!ti(e))throw new H("view-selection-setto-not-selectable",this);this._setRanges(e,i&&i.backward),this._setFakeOptions(i)}this.fire("change")}setFocus(t,e){if(this.anchor===null)throw new H("view-selection-setfocus-no-ranges",this);const n=bt._createAt(t,e);if(n.compareWith(this.focus)=="same")return;const i=this.anchor;this._ranges.pop(),n.compareWith(i)=="before"?this._addRange(new Lt(n,i),!0):this._addRange(new Lt(i,n)),this.fire("change")}_setRanges(t,e=!1){t=Array.from(t),this._ranges=[];for(const n of t)this._addRange(n);this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,e=!1){if(!(t instanceof Lt))throw new H("view-selection-add-range-not-range",this);this._pushRange(t),this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges)if(t.isIntersecting(e))throw new H("view-selection-range-intersects",this,{addedRange:t,intersectingRange:e});this._ranges.push(new Lt(t.start,t.end))}}vi.prototype.is=function(o){return o==="selection"||o==="view:selection"};class aa extends yt(Pt){_selection;constructor(...t){super(),this._selection=new vi,this._selection.delegate("change").to(this),t.length&&this._selection.setTo(...t)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}_setTo(...t){this._selection.setTo(...t)}_setFocus(t,e){this._selection.setFocus(t,e)}}aa.prototype.is=function(o){return o==="selection"||o=="documentSelection"||o=="view:selection"||o=="view:documentSelection"};class Do extends kt{startRange;_eventPhase;_currentTarget;constructor(t,e,n){super(t,e),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Fc=Symbol("bubbling contexts");function yl(o){return class extends o{fire(t,...e){try{const n=t instanceof kt?t:new kt(this,t),i=Vc(this);if(!i.size)return;if(xl(n,"capturing",this),as(i,"$capture",n,...e))return n.return;const s=n.startRange||this.selection.getFirstRange(),l=s?s.getContainedElement():null,d=!!l&&!!Yu(i,l);let u=l||(function(m){if(!m)return null;const g=m.start.parent,k=m.end.parent,_=g.getPath(),v=k.getPath();return _.length>v.length?g:k})(s);if(xl(n,"atTarget",u),!d){if(as(i,"$text",n,...e))return n.return;xl(n,"bubbling",u)}for(;u;){if(u.is("rootElement")){if(as(i,"$root",n,...e))return n.return}else if(u.is("element")&&as(i,u.name,n,...e))return n.return;if(as(i,u,n,...e))return n.return;u=u.parent,xl(n,"bubbling",u)}return xl(n,"bubbling",this),as(i,"$document",n,...e),n.return}catch(n){H.rethrowUnexpectedError(n,this)}}_addEventListener(t,e,n){const i=Yt(n.context||"$document"),s=Vc(this);for(const l of i){let d=s.get(l);d||(d=new(yt()),s.set(l,d)),this.listenTo(d,t,e,n)}}_removeEventListener(t,e){const n=Vc(this);for(const i of n.values())this.stopListening(i,t,e)}}}{const o=yl(Object);["fire","_addEventListener","_removeEventListener"].forEach((t=>{yl[t]=o.prototype[t]}))}function xl(o,t,e){o instanceof Do&&(o._eventPhase=t,o._currentTarget=e)}function as(o,t,e,...n){const i=typeof t=="string"?o.get(t):Yu(o,t);return!!i&&(i.fire(e,...n),e.stop.called)}function Yu(o,t){for(const[e,n]of o)if(typeof e=="function"&&e(t))return n;return null}function Vc(o){return o[Fc]||(o[Fc]=new Map),o[Fc]}class El extends yl(ge()){selection;roots;stylesProcessor;_postFixers=new Set;constructor(t){super(),this.selection=new aa,this.roots=new pe({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.forEach((t=>t.destroy())),this.stopListening()}_callPostFixers(t){let e=!1;do for(const n of this._postFixers)if(e=n(t),e)break;while(e)}}class ls extends qn{static DEFAULT_PRIORITY=10;_priority=10;_id=null;_clonesGroup=null;constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=Qu}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new H("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(t){return this.id!==null||t.id!==null?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t=!1){const e=super._clone(t);return e._priority=this._priority,e._id=this._id,e}}function Qu(){if(Uc(this))return null;let o=this.parent;for(;o&&o.is("attributeElement");){if(Uc(o)>1)return null;o=o.parent}return!o||Uc(o)>1?null:this.childCount}function Uc(o){return Array.from(o.getChildren()).filter((t=>!t.is("uiElement"))).length}ls.prototype.is=function(o,t){return t?t===this.name&&(o==="attributeElement"||o==="view:attributeElement"||o==="element"||o==="view:element"):o==="attributeElement"||o==="view:attributeElement"||o==="element"||o==="view:element"||o==="node"||o==="view:node"};class Hc extends qn{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=Wu}_insertChild(t,e){if(e&&(e instanceof Be||Array.from(e).length>0))throw new H("view-emptyelement-cannot-add",[this,e]);return 0}}function Wu(){return null}Hc.prototype.is=function(o,t){return t?t===this.name&&(o==="emptyElement"||o==="view:emptyElement"||o==="element"||o==="view:element"):o==="emptyElement"||o==="view:emptyElement"||o==="element"||o==="view:element"||o==="node"||o==="view:node"};class Dl extends qn{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=uk}_insertChild(t,e){if(e&&(e instanceof Be||Array.from(e).length>0))throw new H("view-uielement-cannot-add",[this,e]);return 0}render(t,e){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const n of this.getAttributeKeys())e.setAttribute(n,this.getAttribute(n));return e}}function If(o){o.document.on("arrowKey",((t,e)=>(function(n,i,s){if(i.keyCode==$t.arrowright){const l=i.domTarget.ownerDocument.defaultView.getSelection(),d=l.rangeCount==1&&l.getRangeAt(0).collapsed;if(d||i.shiftKey){const u=l.focusNode,m=l.focusOffset,g=s.domPositionToView(u,m);if(g===null)return;let k=!1;const _=g.getLastMatchingPosition((v=>(v.item.is("uiElement")&&(k=!0),!(!v.item.is("uiElement")&&!v.item.is("attributeElement")))));if(k){const v=s.viewPositionToDom(_);d?l.collapse(v.parent,v.offset):l.extend(v.parent,v.offset)}}}})(0,e,o.domConverter)),{priority:"low"})}function uk(){return null}Dl.prototype.is=function(o,t){return t?t===this.name&&(o==="uiElement"||o==="view:uiElement"||o==="element"||o==="view:element"):o==="uiElement"||o==="view:uiElement"||o==="element"||o==="view:element"||o==="node"||o==="view:node"};class Sl extends qn{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=Nf}_insertChild(t,e){if(e&&(e instanceof Be||Array.from(e).length>0))throw new H("view-rawelement-cannot-add",[this,e]);return 0}render(t,e){}}function Nf(){return null}Sl.prototype.is=function(o,t){return t?t===this.name&&(o==="rawElement"||o==="view:rawElement"||o==="element"||o==="view:element"):o==="rawElement"||o==="view:rawElement"||o===this.name||o==="view:"+this.name||o==="element"||o==="view:element"||o==="node"||o==="view:node"};class kr extends yt(Pt){document;_children=[];_customProperties=new Map;constructor(t,e){super(),this.document=t,e&&this._insertChild(0,e)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,e){this._fireChange("children",this);let n=0;const i=(function(s,l){return typeof l=="string"?[new ue(s,l)]:(ti(l)||(l=[l]),Array.from(l).map((d=>typeof d=="string"?new ue(s,d):d instanceof Mn?new ue(s,d.data):d)))})(this.document,e);for(const s of i)s.parent!==null&&s._remove(),s.parent=this,this._children.splice(t,0,s),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_fireChange(t,e){this.fire("change:"+t,e)}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}kr.prototype.is=function(o){return o==="documentFragment"||o==="view:documentFragment"};class qc{document;_cloneGroups=new Map;_slotFactory=null;constructor(t){this.document=t}setSelection(...t){this.document.selection._setTo(...t)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createDocumentFragment(t){return new kr(this.document,t)}createText(t){return new ue(this.document,t)}createAttributeElement(t,e,n={}){const i=new ls(this.document,t,e);return typeof n.priority=="number"&&(i._priority=n.priority),n.id&&(i._id=n.id),n.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),i}createContainerElement(t,e,n={},i={}){let s=null;Sn(n)?i=n:s=n;const l=new ss(this.document,t,e,s);return i.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),l}createEditableElement(t,e,n={}){const i=new vl(this.document,t,e);return n.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),i}createEmptyElement(t,e,n={}){const i=new Hc(this.document,t,e);return n.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),i}createUIElement(t,e,n){const i=new Dl(this.document,t,e);return n&&(i.render=n),i}createRawElement(t,e,n,i={}){const s=new Sl(this.document,t,e);return n&&(s.render=n),i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){Sn(t)&&n===void 0?e._setStyle(t):n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof bt?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new H("view-writer-break-non-container-element",this.document);if(!e.parent)throw new H("view-writer-break-root",this.document);if(t.isAtStart)return bt._createBefore(e);if(!t.isAtEnd){const n=e._clone(!1);this.insert(bt._createAfter(e),n);const i=new Lt(t,bt._createAt(e,"end")),s=new bt(n,0);this.move(i,s)}return bt._createAfter(e)}mergeAttributes(t){const e=t.offset,n=t.parent;if(n.is("$text"))return t;if(n.is("attributeElement")&&n.childCount===0){const l=n.parent,d=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new bt(l,d))}const i=n.getChild(e-1),s=n.getChild(e);if(!i||!s)return t;if(i.is("$text")&&s.is("$text"))return Zu(i,s);if(i.is("attributeElement")&&s.is("attributeElement")&&i.isSimilar(s)){const l=i.childCount;return i._appendChild(s.getChildren()),s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new bt(i,l))}return t}mergeContainers(t){const e=t.nodeBefore,n=t.nodeAfter;if(!(e&&n&&e.is("containerElement")&&n.is("containerElement")))throw new H("view-writer-merge-containers-invalid-position",this.document);const i=e.getChild(e.childCount-1),s=i instanceof ue?bt._createAt(i,"end"):bt._createAt(e,"end");return this.move(Lt._createIn(n),bt._createAt(e,"end")),this.remove(Lt._createOn(n)),s}insert(t,e){Kc(e=ti(e)?[...e]:[e],this.document);const n=e.reduce(((l,d)=>{const u=l[l.length-1],m=!d.is("uiElement");return u&&u.breakAttributes==m?u.nodes.push(d):l.push({breakAttributes:m,nodes:[d]}),l}),[]);let i=null,s=t;for(const{nodes:l,breakAttributes:d}of n){const u=this._insertNodes(s,l,d);i||(i=u.start),s=u.end}return i?new Lt(i,s):new Lt(t)}remove(t){const e=t instanceof Lt?t:Lt._createOn(t);if(ca(e,this.document),e.isCollapsed)return new kr(this.document);const{start:n,end:i}=this._breakAttributesRange(e,!0),s=n.parent,l=i.offset-n.offset,d=s._removeChildren(n.offset,l);for(const m of d)this._removeFromClonedElementsGroup(m);const u=this.mergeAttributes(n);return e.start=u,e.end=u.clone(),new kr(this.document,d)}clear(t,e){ca(t,this.document);const n=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const i of n){const s=i.item;let l;if(s.is("element")&&e.isSimilar(s))l=Lt._createOn(s);else if(!i.nextPosition.isAfter(t.start)&&s.is("$textProxy")){const d=s.getAncestors().find((u=>u.is("element")&&e.isSimilar(u)));d&&(l=Lt._createIn(d))}l&&(l.end.isAfter(t.end)&&(l.end=t.end),l.start.isBefore(t.start)&&(l.start=t.start),this.remove(l))}}move(t,e){let n;if(e.isAfter(t.end)){const i=(e=this._breakAttributes(e,!0)).parent,s=i.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=i.childCount-s}else n=this.remove(t);return this.insert(e,n)}wrap(t,e){if(!(e instanceof ls))throw new H("view-writer-wrap-invalid-attribute",this.document);if(ca(t,this.document),t.isCollapsed){let i=t.start;i.parent.is("element")&&(n=i.parent,!Array.from(n.getChildren()).some((l=>!l.is("uiElement"))))&&(i=i.getLastMatchingPosition((l=>l.item.is("uiElement")))),i=this._wrapPosition(i,e);const s=this.document.selection;return s.isCollapsed&&s.getFirstPosition().isEqual(t.start)&&this.setSelection(i),new Lt(i)}return this._wrapRange(t,e);var n}unwrap(t,e){if(!(e instanceof ls))throw new H("view-writer-unwrap-invalid-attribute",this.document);if(ca(t,this.document),t.isCollapsed)return t;const{start:n,end:i}=this._breakAttributesRange(t,!0),s=n.parent,l=this._unwrapChildren(s,n.offset,i.offset,e),d=this.mergeAttributes(l.start);d.isEqual(l.start)||l.end.offset--;const u=this.mergeAttributes(l.end);return new Lt(d,u)}rename(t,e){const n=new ss(this.document,t,e.getAttributes());return this.insert(bt._createAfter(e),n),this.move(Lt._createIn(e),bt._createAt(n,0)),this.remove(Lt._createOn(e)),n}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return bt._createAt(t,e)}createPositionAfter(t){return bt._createAfter(t)}createPositionBefore(t){return bt._createBefore(t)}createRange(t,e){return new Lt(t,e)}createRangeOn(t){return Lt._createOn(t)}createRangeIn(t){return Lt._createIn(t)}createSelection(...t){return new vi(...t)}createSlot(t="children"){if(!this._slotFactory)throw new H("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,t)}_registerSlotFactory(t){this._slotFactory=t}_clearSlotFactory(){this._slotFactory=null}_insertNodes(t,e,n){let i,s;if(i=n?Gc(t):t.parent.is("$text")?t.parent.parent:t.parent,!i)throw new H("view-writer-invalid-position-container",this.document);s=n?this._breakAttributes(t,!0):t.parent.is("$text")?$u(t):t;const l=i._insertChild(s.offset,e);for(const g of e)this._addToClonedElementsGroup(g);const d=s.getShiftedBy(l),u=this.mergeAttributes(s);u.isEqual(s)||d.offset--;const m=this.mergeAttributes(d);return new Lt(u,m)}_wrapChildren(t,e,n,i){let s=e;const l=[];for(;s<n;){const u=t.getChild(s),m=u.is("$text"),g=u.is("attributeElement");if(g&&this._wrapAttributeElement(i,u))l.push(new bt(t,s));else if(m||!g||zf(i,u)){const k=i._clone();u._remove(),k._appendChild(u),t._insertChild(s,k),this._addToClonedElementsGroup(k),l.push(new bt(t,s))}else this._wrapChildren(u,0,u.childCount,i);s++}let d=0;for(const u of l)u.offset-=d,u.offset!=e&&(this.mergeAttributes(u).isEqual(u)||(d++,n--));return Lt._createFromParentsAndOffsets(t,e,t,n)}_unwrapChildren(t,e,n,i){let s=e;const l=[];for(;s<n;){const u=t.getChild(s);if(u.is("attributeElement"))if(u.isSimilar(i)){const m=u.getChildren(),g=u.childCount;u._remove(),t._insertChild(s,m),this._removeFromClonedElementsGroup(u),l.push(new bt(t,s),new bt(t,s+g)),s+=g,n+=g-1}else this._unwrapAttributeElement(i,u)?(l.push(new bt(t,s),new bt(t,s+1)),s++):(this._unwrapChildren(u,0,u.childCount,i),s++);else s++}let d=0;for(const u of l)u.offset-=d,!(u.offset==e||u.offset==n)&&(this.mergeAttributes(u).isEqual(u)||(d++,n--));return Lt._createFromParentsAndOffsets(t,e,t,n)}_wrapRange(t,e){const{start:n,end:i}=this._breakAttributesRange(t,!0),s=n.parent,l=this._wrapChildren(s,n.offset,i.offset,e),d=this.mergeAttributes(l.start);d.isEqual(l.start)||l.end.offset--;const u=this.mergeAttributes(l.end);return new Lt(d,u)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return Of(t.clone());t.parent.is("$text")&&(t=$u(t));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,t.parent._insertChild(t.offset,n);const i=new Lt(t,t.getShiftedBy(1));this.wrap(i,e);const s=new bt(n.parent,n.index);n._remove();const l=s.nodeBefore,d=s.nodeAfter;return l instanceof ue&&d instanceof ue?Zu(l,d):Of(s)}_wrapAttributeElement(t,e){if(!Ju(t,e)||t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if(n!=="class"&&n!=="style"&&e.hasAttribute(n)&&e.getAttribute(n)!==t.getAttribute(n))return!1;for(const n of t.getStyleNames())if(e.hasStyle(n)&&e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())n!=="class"&&n!=="style"&&(e.hasAttribute(n)||this.setAttribute(n,t.getAttribute(n),e));for(const n of t.getStyleNames())e.hasStyle(n)||this.setStyle(n,t.getStyle(n),e);for(const n of t.getClassNames())e.hasClass(n)||this.addClass(n,e);return!0}_unwrapAttributeElement(t,e){if(!Ju(t,e)||t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if(n!=="class"&&n!=="style"&&(!e.hasAttribute(n)||e.getAttribute(n)!==t.getAttribute(n)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const n of t.getStyleNames())if(!e.hasStyle(n)||e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())n!=="class"&&n!=="style"&&this.removeAttribute(n,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const n=t.start,i=t.end;if(ca(t,this.document),t.isCollapsed){const u=this._breakAttributes(t.start,e);return new Lt(u,u)}const s=this._breakAttributes(i,e),l=s.parent.childCount,d=this._breakAttributes(n,e);return s.offset+=s.parent.childCount-l,new Lt(d,s)}_breakAttributes(t,e=!1){const n=t.offset,i=t.parent;if(t.parent.is("emptyElement"))throw new H("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new H("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new H("view-writer-cannot-break-raw-element",this.document);if(!e&&i.is("$text")&&la(i.parent)||la(i))return t.clone();if(i.is("$text"))return this._breakAttributes($u(t),e);if(n==i.childCount){const s=new bt(i.parent,i.index+1);return this._breakAttributes(s,e)}if(n===0){const s=new bt(i.parent,i.index);return this._breakAttributes(s,e)}{const s=i.index+1,l=i._clone();i.parent._insertChild(s,l),this._addToClonedElementsGroup(l);const d=i.childCount-n,u=i._removeChildren(n,d);l._appendChild(u);const m=new bt(i.parent,s);return this._breakAttributes(m,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const i of t.getChildren())this._addToClonedElementsGroup(i);const e=t.id;if(!e)return;let n=this._cloneGroups.get(e);n||(n=new Set,this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const i of t.getChildren())this._removeFromClonedElementsGroup(i);const e=t.id;if(!e)return;const n=this._cloneGroups.get(e);n&&n.delete(t)}}function Gc(o){let t=o.parent;for(;!la(t);){if(!t)return;t=t.parent}return t}function zf(o,t){return o.priority<t.priority||!(o.priority>t.priority)&&o.getIdentity()<t.getIdentity()}function Of(o){const t=o.nodeBefore;if(t&&t.is("$text"))return new bt(t,t.data.length);const e=o.nodeAfter;return e&&e.is("$text")?new bt(e,0):o}function $u(o){if(o.offset==o.parent.data.length)return new bt(o.parent.parent,o.parent.index+1);if(o.offset===0)return new bt(o.parent.parent,o.parent.index);const t=o.parent.data.slice(o.offset);return o.parent._data=o.parent.data.slice(0,o.offset),o.parent.parent._insertChild(o.parent.index+1,new ue(o.root.document,t)),new bt(o.parent.parent,o.parent.index+1)}function Zu(o,t){const e=o.data.length;return o._data+=t.data,t._remove(),new bt(o,e)}const Tl=[ue,ls,ss,Hc,Sl,Dl];function Kc(o,t){for(const e of o){if(!Tl.some((n=>e instanceof n)))throw new H("view-writer-insert-invalid-node-type",t);e.is("$text")||Kc(e.getChildren(),t)}}function la(o){return o&&(o.is("containerElement")||o.is("documentFragment"))}function ca(o,t){const e=Gc(o.start),n=Gc(o.end);if(!e||!n||e!==n)throw new H("view-writer-invalid-range-container",t)}function Ju(o,t){return o.id===null&&t.id===null}const da=o=>o.createTextNode(" "),Xu=o=>{const t=o.createElement("span");return t.dataset.ckeFiller="true",t.innerText=" ",t},Yc=o=>{const t=o.createElement("br");return t.dataset.ckeFiller="true",t},yi=7,cs="⁠".repeat(yi);function In(o){return typeof o=="string"?o.substr(0,yi)===cs:Me(o)&&o.data.substr(0,yi)===cs}function ds(o){return o.data.length==yi&&In(o)}function th(o){const t=typeof o=="string"?o:o.data;return In(o)?t.slice(yi):t}function us(o,t){if(t.keyCode==$t.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(e.rangeCount==1&&e.getRangeAt(0).collapsed){const n=e.getRangeAt(0).startContainer,i=e.getRangeAt(0).startOffset;In(n)&&i<=yi&&e.collapse(n,0)}}}var eh=D(8264),Lf={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(eh.A,Lf),eh.A.locals;class Rf extends ge(){domDocuments=new Set;domConverter;markedAttributes=new Set;markedChildren=new Set;markedTexts=new Set;selection;_inlineFiller=null;_fakeSelectionContainer=null;constructor(t,e){super(),this.domConverter=t,this.selection=e,this.set("isFocused",!1),this.set("isSelecting",!1),N.isBlink&&!N.isAndroid&&this.on("change:isSelecting",(()=>{this.isSelecting||this.render()})),this.set("isComposing",!1),this.on("change:isComposing",(()=>{this.isComposing||this.render()}))}markToSync(t,e){if(t==="text")this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if(t==="attributes")this.markedAttributes.add(e);else{if(t!=="children")throw new H("view-renderer-unknown-type",this);this.markedChildren.add(e)}}}render(){if(this.isComposing&&!N.isAndroid)return;let t=null;const e=!(N.isBlink&&!N.isAndroid)||!this.isSelecting;for(const n of this.markedChildren)this._updateChildrenMappings(n);e?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(t=this.domConverter.domPositionToView(this._inlineFiller),t&&t.parent.is("$text")&&(t=bt._createBefore(t.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:t});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:t});if(e)if(t){const n=this.domConverter.viewPositionToDom(t),i=n.parent.ownerDocument;In(n.parent)?this._inlineFiller=n.parent:this._inlineFiller=Ml(i,n.parent,n.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(e.childNodes),i=Array.from(this.domConverter.viewChildrenToDom(t,{withChildren:!1})),s=this._diffNodeLists(n,i),l=this._findUpdateActions(s,n,i,jf);if(l.indexOf("update")!==-1){const d={equal:0,insert:0,delete:0};for(const u of l)if(u==="update"){const m=d.equal+d.insert,g=d.equal+d.delete,k=t.getChild(m);!k||k.is("uiElement")||k.is("rawElement")||this._updateElementMappings(k,n[g]),Eu(i[m]),d.equal++}else d[u]++}}_updateElementMappings(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("$text")?bt._createBefore(t.parent):t}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&Me(e.parent)&&In(e.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!In(t))throw new H("view-renderer-filler-was-lost",this);ds(t)?t.remove():t.data=t.data.substr(yi),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;if(!this.domConverter.mapViewToDom(e.root)||!e.is("element")||!(function(l){if(l.getAttribute("contenteditable")=="false")return!1;const d=l.findAncestor((u=>u.hasAttribute("contenteditable")));return!d||d.getAttribute("contenteditable")=="true"})(e))return!1;const i=t.nodeBefore,s=t.nodeAfter;return!(i instanceof ue||s instanceof ue)&&!!(n!==e.getFillerOffset()||i&&i.is("element","br"))&&(!N.isAndroid||!i&&!s)}_updateText(t,e){const n=this.domConverter.findCorrespondingDomText(t);let i=this.domConverter.viewToDom(t).data;const s=e.inlineFillerPosition;s&&s.parent==t.parent&&s.offset==t.index&&(i=cs+i),ih(n,i)}_updateAttrs(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(e.attributes).map((s=>s.name)),i=t.getAttributeKeys();for(const s of i)this.domConverter.setDomElementAttribute(e,s,t.getAttribute(s),t);for(const s of n)t.hasAttribute(s)||this.domConverter.removeDomElementAttribute(e,s)}_updateChildren(t,e){const n=this.domConverter.mapViewToDom(t);if(!n)return;if(N.isAndroid){let k=null;for(const _ of Array.from(n.childNodes)){if(k&&Me(k)&&Me(_)){n.normalize();break}k=_}}const i=e.inlineFillerPosition,s=n.childNodes,l=Array.from(this.domConverter.viewChildrenToDom(t,{bind:!0}));i&&i.parent===t&&Ml(n.ownerDocument,l,i.offset);const d=this._diffNodeLists(s,l),u=this._findUpdateActions(d,s,l,nh);let m=0;const g=new Set;for(const k of u)k==="delete"?(g.add(s[m]),Eu(s[m])):k!=="equal"&&k!=="update"||m++;m=0;for(const k of u)k==="insert"?(yu(n,m,l[m]),m++):k==="update"?(ih(s[m],l[m].data),m++):k==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(l[m])),m++);for(const k of g)k.parentNode||this.domConverter.unbindDomElement(k)}_diffNodeLists(t,e){return t=(function(n,i){const s=Array.from(n);return s.length==0||!i||s[s.length-1]==i&&s.pop(),s})(t,this._fakeSelectionContainer),Dt(t,e,Pf.bind(null,this.domConverter))}_findUpdateActions(t,e,n,i){if(t.indexOf("insert")===-1||t.indexOf("delete")===-1)return t;let s=[],l=[],d=[];const u={equal:0,insert:0,delete:0};for(const m of t)m==="insert"?d.push(n[u.equal+u.insert]):m==="delete"?l.push(e[u.equal+u.delete]):(s=s.concat(Dt(l,d,i).map((g=>g==="equal"?"update":g))),s.push("equal"),l=[],d=[]),u[m]++;return s.concat(Dt(l,d,i).map((m=>m==="equal"?"update":m)))}_markDescendantTextToSync(t){if(t){if(t.is("$text"))this.markedTexts.add(t);else if(t.is("element"))for(const e of t.getChildren())this._markDescendantTextToSync(e)}}_updateSelection(){if(N.isBlink&&!N.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(t)):this.isComposing&&N.isAndroid||this._updateDomSelection(t))}_updateFakeSelection(t){const e=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=(function(l){const d=l.createElement("div");return d.className="ck-fake-selection-container",Object.assign(d.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),d.textContent=" ",d})(e));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(t))return;n.parentElement&&n.parentElement==t||t.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||" ";const i=e.getSelection(),s=e.createRange();i.removeAllRanges(),s.selectNodeContents(n),i.addRange(s)}_updateDomSelection(t){const e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);e.setBaseAndExtent(n.parent,n.offset,i.parent,i.offset),N.isGecko&&(function(s,l){let d=s.parent,u=s.offset;if(Me(d)&&ds(d)&&(u=ii(d)+1,d=d.parentNode),d.nodeType!=Node.ELEMENT_NODE||u!=d.childNodes.length-1)return;const m=d.childNodes[u];m&&m.tagName=="BR"&&l.addRange(l.getRangeAt(0))})(i,e)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const e=t&&this.domConverter.domSelectionToView(t);return(!e||!this.selection.isEqual(e))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(e))}_fakeSelectionNeedsUpdate(t){const e=this._fakeSelectionContainer,n=t.ownerDocument.getSelection();return!e||e.parentElement!==t||n.anchorNode!==e&&!e.contains(n.anchorNode)||e.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const t of this.domDocuments){const e=t.getSelection();if(e.rangeCount){const n=t.activeElement,i=this.domConverter.mapDomToView(n);n&&i&&e.removeAllRanges()}}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function Ml(o,t,e){const n=t instanceof Array?t:t.childNodes,i=n[e];if(Me(i))return i.data=cs+i.data,i;{const s=o.createTextNode(cs);return Array.isArray(t)?n.splice(e,0,s):yu(t,e,s),s}}function jf(o,t){return Xo(o)&&Xo(t)&&!Me(o)&&!Me(t)&&!tr(o)&&!tr(t)&&o.tagName.toLowerCase()===t.tagName.toLowerCase()}function nh(o,t){return Xo(o)&&Xo(t)&&Me(o)&&Me(t)}function Pf(o,t,e){return t===e||(Me(t)&&Me(e)?t.data===e.data:!(!o.isBlockFiller(t)||!o.isBlockFiller(e)))}function ih(o,t){const e=o.data;if(e==t)return;const n=it(e,t);for(const i of n)i.type==="insert"?o.insertData(i.index,i.values.join("")):o.deleteData(i.index,i.howMany)}const hk=Yc(S.document),oh=da(S.document),We=Xu(S.document),$e="data-ck-unsafe-attribute-",rh="data-ck-unsafe-element";class Bl{document;renderingMode;blockFillerMode;preElements;blockElements;inlineObjectElements;unsafeElements;_domDocument;_domToViewMapping=new WeakMap;_viewToDomMapping=new WeakMap;_fakeSelectionMapping=new WeakMap;_rawContentElementMatcher=new xn;_inlineObjectElementMatcher=new xn;_elementsWithTemporaryCustomProperties=new Set;constructor(t,{blockFillerMode:e,renderingMode:n="editing"}={}){this.document=t,this.renderingMode=n,this.blockFillerMode=e||(n==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?S.document:S.document.implementation.createHTMLDocument("")}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new vi(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const n of Array.from(t.children))this.unbindDomElement(n)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}shouldRenderAttribute(t,e,n){return this.renderingMode==="data"||!(t=t.toLowerCase()).startsWith("on")&&(t!=="srcdoc"||!e.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(n==="img"&&(t==="src"||t==="srcset")||n==="source"&&t==="srcset"||!e.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(t,e){if(this.renderingMode==="data")return void(t.innerHTML=e);const n=new DOMParser().parseFromString(e,"text/html"),i=n.createDocumentFragment(),s=n.body.childNodes;for(;s.length>0;)i.appendChild(s[0]);const l=n.createTreeWalker(i,NodeFilter.SHOW_ELEMENT),d=[];let u;for(;u=l.nextNode();)d.push(u);for(const m of d){for(const k of m.getAttributeNames())this.setDomElementAttribute(m,k,m.getAttribute(k));const g=m.tagName.toLowerCase();this._shouldRenameElement(g)&&(ua(g),m.replaceWith(this._createReplacementDomElement(g,m)))}for(;t.firstChild;)t.firstChild.remove();t.append(i)}viewToDom(t,e={}){if(t.is("$text")){const n=this._processDataFromViewText(t);return this._domDocument.createTextNode(n)}{const n=t;if(this.mapViewToDom(n)){if(!n.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(n);this._elementsWithTemporaryCustomProperties.add(n)}let i;if(n.is("documentFragment"))i=this._domDocument.createDocumentFragment(),e.bind&&this.bindDocumentFragments(i,n);else{if(n.is("uiElement"))return i=n.name==="$comment"?this._domDocument.createComment(n.getCustomProperty("$rawContent")):n.render(this._domDocument,this),e.bind&&this.bindElements(i,n),i;this._shouldRenameElement(n.name)?(ua(n.name),i=this._createReplacementDomElement(n.name)):i=n.hasAttribute("xmlns")?this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name):this._domDocument.createElement(n.name),n.is("rawElement")&&n.render(i,this),e.bind&&this.bindElements(i,n);for(const s of n.getAttributeKeys())this.setDomElementAttribute(i,s,n.getAttribute(s),n)}if(e.withChildren!==!1)for(const s of this.viewChildrenToDom(n,e))i instanceof HTMLTemplateElement?i.content.appendChild(s):i.appendChild(s);return i}}setDomElementAttribute(t,e,n,i){const s=this.shouldRenderAttribute(e,n,t.tagName.toLowerCase())||i&&i.shouldRenderUnsafeAttribute(e);s||Bt("domconverter-unsafe-attribute-detected",{domElement:t,key:e,value:n}),(function(l){try{S.document.createAttribute(l)}catch{return!1}return!0})(e)?(t.hasAttribute(e)&&!s?t.removeAttribute(e):t.hasAttribute($e+e)&&s&&t.removeAttribute($e+e),t.setAttribute(s?e:$e+e,n)):Bt("domconverter-invalid-attribute-detected",{domElement:t,key:e,value:n})}removeDomElementAttribute(t,e){e!=rh&&(t.removeAttribute(e),t.removeAttribute($e+e))}*viewChildrenToDom(t,e={}){const n=t.getFillerOffset&&t.getFillerOffset();let i=0;for(const s of t.getChildren()){n===i&&(yield this._getBlockFiller());const l=s.is("element")&&!!s.getCustomProperty("dataPipeline:transparentRendering")&&!Ye(s.getAttributes());l&&this.renderingMode=="data"?yield*this.viewChildrenToDom(s,e):(l&&Bt("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:s}),yield this.viewToDom(s,e)),i++}n===i&&(yield this._getBlockFiller())}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),i=this._domDocument.createRange();return i.setStart(e.parent,e.offset),i.setEnd(n.parent,n.offset),i}viewPositionToDom(t){const e=t.parent;if(e.is("$text")){const n=this.findCorrespondingDomText(e);if(!n)return null;let i=t.offset;return In(n)&&(i+=yi),{parent:n,offset:i}}{let n,i,s;if(t.offset===0){if(n=this.mapViewToDom(e),!n)return null;s=n.childNodes[0]}else{const l=t.nodeBefore;if(i=l.is("$text")?this.findCorrespondingDomText(l):this.mapViewToDom(l),!i)return null;n=i.parentNode,s=i.nextSibling}return Me(s)&&In(s)?{parent:s,offset:yi}:{parent:n,offset:i?ii(i)+1:0}}}domToView(t,e={}){const n=[],i=this._domToView(t,e,n),s=i.next().value;return s?(i.next(),this._processDomInlineNodes(null,n,e),s.is("$text")&&s.data.length==0?null:s):null}*domChildrenToView(t,e={},n=[]){let i=[];i=t instanceof HTMLTemplateElement?[...t.content.childNodes]:[...t.childNodes];for(let s=0;s<i.length;s++){const l=i[s],d=this._domToView(l,e,n),u=d.next().value;u!==null&&(this._isBlockViewElement(u)&&this._processDomInlineNodes(t,n,e),yield u,d.next())}this._processDomInlineNodes(t,n,e)}domSelectionToView(t){if((function(i){if(!N.isGecko||!i.rangeCount)return!1;const s=i.getRangeAt(0).startContainer;try{Object.prototype.toString.call(s)}catch{return!0}return!1})(t))return new vi([]);if(t.rangeCount===1){let i=t.getRangeAt(0).startContainer;Me(i)&&(i=i.parentNode);const s=this.fakeSelectionToView(i);if(s)return s}const e=this.isDomSelectionBackward(t),n=[];for(let i=0;i<t.rangeCount;i++){const s=t.getRangeAt(i),l=this.domRangeToView(s);l&&n.push(l)}return new vi(n,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new Lt(e,n):null}domPositionToView(t,e=0){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,ii(t));const n=this.mapDomToView(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return bt._createBefore(n);if(Me(t)){if(ds(t))return this.domPositionToView(t.parentNode,ii(t));const i=this.findCorrespondingViewText(t);let s=e;return i?(In(t)&&(s-=yi,s=s<0?0:s),new bt(i,s)):null}if(e===0){const i=this.mapDomToView(t);if(i)return new bt(i,0)}else{const i=t.childNodes[e-1];if(Me(i)&&ds(i)||i&&this.isBlockFiller(i))return this.domPositionToView(i.parentNode,ii(i));const s=Me(i)?this.findCorrespondingViewText(i):this.mapDomToView(i);if(s&&s.parent)return new bt(s.parent,s.index+1)}return null}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(ds(t))return null;const e=this.getHostViewElement(t);if(e)return e;const n=t.previousSibling;if(n){if(!this.isElement(n))return null;const i=this.mapDomToView(n);if(i){const s=i.nextSibling;return s instanceof ue?s:null}}else{const i=this.mapDomToView(t.parentNode);if(i){const s=i.getChild(0);return s instanceof ue?s:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:n,scrollY:i}=S.window,s=[];sh(e,(l=>{const{scrollLeft:d,scrollTop:u}=l;s.push([d,u])})),e.focus(),sh(e,(l=>{const[d,u]=s.shift();l.scrollLeft=d,l.scrollTop=u})),S.window.scrollTo(n,i)}}_clearDomSelection(){const t=this.mapViewToDom(this.document.selection.editableElement);if(!t)return;const e=t.ownerDocument.defaultView.getSelection(),n=this.domSelectionToView(e);n&&n.rangeCount>0&&e.removeAllRanges()}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(t){return this.blockFillerMode=="br"?t.isEqualNode(hk):!(t.tagName!=="BR"||!ah(t,this.blockElements)||t.parentNode.childNodes.length!==1)||t.isEqualNode(We)||(function(e,n){return e.isEqualNode(oh)&&ah(e,n)&&e.parentNode.childNodes.length===1})(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=this._domDocument.createRange();try{e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset)}catch{return!1}const n=e.collapsed;return e.detach(),n}getHostViewElement(t){const e=(function(n){const i=[];let s=n;for(;s&&s.nodeType!=Node.DOCUMENT_NODE;)i.unshift(s),s=s.parentNode;return i})(t);for(e.pop();e.length;){const n=e.pop(),i=this._domToViewMapping.get(n);if(i&&(i.is("uiElement")||i.is("rawElement")))return i}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}registerInlineObjectMatcher(t){this._inlineObjectElementMatcher.add(t)}_clearTemporaryCustomProperties(){for(const t of this._elementsWithTemporaryCustomProperties)t._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return da(this._domDocument);case"markedNbsp":return Xu(this._domDocument);case"br":return Yc(this._domDocument)}}_isDomSelectionPositionCorrect(t,e){if(Me(t)&&In(t)&&e<yi||this.isElement(t)&&In(t.childNodes[e]))return!1;const n=this.mapDomToView(t);return!n||!n.is("uiElement")&&!n.is("rawElement")}*_domToView(t,e,n){if(this.isBlockFiller(t))return null;const i=this.getHostViewElement(t);if(i)return i;if(tr(t)&&e.skipComments)return null;if(Me(t)){if(ds(t))return null;{const s=t.data;if(s==="")return null;const l=new ue(this.document,s);return n.push(l),l}}{let s=this.mapDomToView(t);if(s)return this._isInlineObjectElement(s)&&n.push(s),s;if(this.isDocumentFragment(t))s=new kr(this.document),e.bind&&this.bindDocumentFragments(t,s);else{s=this._createViewElement(t,e),e.bind&&this.bindElements(t,s);const d=t.attributes;if(d)for(let u=d.length,m=0;m<u;m++)s._setAttribute(d[m].name,d[m].value);if(this._isViewElementWithRawContent(s,e))return s._setCustomProperty("$rawContent",t.innerHTML),this._isBlockViewElement(s)||n.push(s),s;if(tr(t))return s._setCustomProperty("$rawContent",t.data),s}yield s;const l=[];if(e.withChildren!==!1)for(const d of this.domChildrenToView(t,e,l))s._appendChild(d);if(this._isInlineObjectElement(s))n.push(s);else for(const d of l)n.push(d)}}_processDomInlineNodes(t,e,n){if(!e.length||t&&!this.isDocumentFragment(t)&&!this._isBlockDomElement(t))return;let i=!1;for(let s=0;s<e.length;s++){const l=e[s];if(!l.is("$text")){i=!1;continue}let d,u=!1;if(this._isPreFormatted(l))d=th(l.data);else{d=l.data.replace(/[ \n\t\r]{1,}/g," "),u=/[^\S\u00A0]/.test(d.charAt(d.length-1));const m=s>0?e[s-1]:null,g=s+1<e.length?e[s+1]:null,k=!m||m.is("element")&&m.name=="br"||i,_=!g&&!In(l.data);n.withChildren!==!1&&(k&&(d=d.replace(/^ /,"")),_&&(d=d.replace(/ $/,""))),d=th(d),d=d.replace(/ \u00A0/g,"  ");const v=g&&g.is("element")&&g.name!="br",E=g&&g.is("$text")&&g.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(d)||!g||v||E)&&(d=d.replace(/\u00A0$/," ")),(k||m&&m.is("element")&&m.name!="br")&&(d=d.replace(/^\u00A0/," "))}d.length==0&&l.parent?(l._remove(),e.splice(s,1),s--):(l._data=d,i=u)}e.length=0}_processDataFromViewText(t){let e=t.data;if(this._isPreFormatted(t))return e;if(e.charAt(0)==" "){const n=this._getTouchingInlineViewNode(t,!1);!(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n))&&n||(e=" "+e.substr(1))}if(e.charAt(e.length-1)==" "){const n=this._getTouchingInlineViewNode(t,!0),i=n&&n.is("$textProxy")&&n.data.charAt(0)==" ";e.charAt(e.length-2)!=" "&&n&&!i||(e=e.substr(0,e.length-1)+" ")}return e.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(t){if(this._isPreFormatted(t))return!1;const e=this._processDataFromViewText(t);return e.charAt(e.length-1)==" "}_isPreFormatted(t){if((function(e,n){return e.getAncestors().some((i=>i.is("element")&&n.includes(i.name)))})(t,this.preElements))return!0;for(const e of t.getAncestors({parentFirst:!0}))if(e.is("element")&&e.hasStyle("white-space")&&e.getStyle("white-space")!=="inherit")return["pre","pre-wrap","break-spaces"].includes(e.getStyle("white-space"));return!1}_getTouchingInlineViewNode(t,e){const n=new pr({startPosition:e?bt._createAfter(t):bt._createBefore(t),direction:e?"forward":"backward"});for(const i of n){if(i.item.is("element","br"))return null;if(this._isInlineObjectElement(i.item))return i.item;if(i.item.is("containerElement"))return null;if(i.item.is("$textProxy"))return i.item}return null}_isBlockDomElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isBlockViewElement(t){return t.is("element")&&this.blockElements.includes(t.name)}_isInlineObjectElement(t){return!!t.is("element")&&(t.name=="br"||this.inlineObjectElements.includes(t.name)||!!this._inlineObjectElementMatcher.match(t))}_createViewElement(t,e){if(tr(t))return new Dl(this.document,"$comment");const n=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new qn(this.document,n)}_isViewElementWithRawContent(t,e){return e.withChildren!==!1&&t.is("element")&&!!this._rawContentElementMatcher.match(t)}_shouldRenameElement(t){const e=t.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(e)}_createReplacementDomElement(t,e){const n=this._domDocument.createElement("span");if(n.setAttribute(rh,t),e){for(;e.firstChild;)n.appendChild(e.firstChild);for(const i of e.getAttributeNames())n.setAttribute(i,e.getAttribute(i))}return n}}function sh(o,t){let e=o;for(;e;)t(e),e=e.parentElement}function ah(o,t){const e=o.parentNode;return!!e&&!!e.tagName&&t.includes(e.tagName.toLowerCase())}function ua(o){o==="script"&&Bt("domconverter-unsafe-script-element-detected"),o==="style"&&Bt("domconverter-unsafe-style-element-detected")}class Ri extends Vn(){view;document;_isEnabled=!1;constructor(t){super(),this.view=t,this.document=t.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(t){return t&&t.nodeType===3&&(t=t.parentNode),!(!t||t.nodeType!==1)&&t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const Il=ln((function(o,t){Yo(t,Wo(t),o)}));class hs{view;document;domEvent;domTarget;constructor(t,e,n){this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,Il(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class br extends Ri{useCapture=!1;observe(t){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach((e=>{this.listenTo(t,e,((n,i)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(i.target)&&this.onDomEvent(i)}),{useCapture:this.useCapture})}))}stopObserving(t){this.stopListening(t)}fire(t,e,n){this.isEnabled&&this.document.fire(t,new hs(this.view,e,n))}}class Qc extends br{domEventType=["keydown","keyup"];onDomEvent(t){const e={keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,get keystroke(){return Xr(this)}};this.fire(t.type,t,e)}}const Nl=function(){return Ii.Date.now()};var Ff=/\s/;const Vf=function(o){for(var t=o.length;t--&&Ff.test(o.charAt(t)););return t};var Uf=/^\s+/;const lh=function(o){return o&&o.slice(0,Vf(o)+1).replace(Uf,"")};var ch=/^[-+]0x[0-9a-f]+$/i,dh=/^0b[01]+$/i,Hf=/^0o[0-7]+$/i,uh=parseInt;const zl=function(o){if(typeof o=="number")return o;if(vo(o))return NaN;if(xe(o)){var t=typeof o.valueOf=="function"?o.valueOf():o;o=xe(t)?t+"":t}if(typeof o!="string")return o===0?o:+o;o=lh(o);var e=dh.test(o);return e||Hf.test(o)?uh(o.slice(2),e?2:8):ch.test(o)?NaN:+o};var hh=Math.max,qf=Math.min;const wr=function(o,t,e){var n,i,s,l,d,u,m=0,g=!1,k=!1,_=!0;if(typeof o!="function")throw new TypeError("Expected a function");function v(G){var X=n,lt=i;return n=i=void 0,m=G,l=o.apply(lt,X)}function E(G){var X=G-u;return u===void 0||X>=t||X<0||k&&G-m>=s}function z(){var G=Nl();if(E(G))return L(G);d=setTimeout(z,(function(X){var lt=t-(X-u);return k?qf(lt,s-(X-m)):lt})(G))}function L(G){return d=void 0,_&&n?v(G):(n=i=void 0,l)}function F(){var G=Nl(),X=E(G);if(n=arguments,i=this,u=G,X){if(d===void 0)return(function(lt){return m=lt,d=setTimeout(z,t),g?v(lt):l})(u);if(k)return clearTimeout(d),d=setTimeout(z,t),v(u)}return d===void 0&&(d=setTimeout(z,t)),l}return t=zl(t)||0,xe(e)&&(g=!!e.leading,s=(k="maxWait"in e)?hh(zl(e.maxWait)||0,t):s,_="trailing"in e?!!e.trailing:_),F.cancel=function(){d!==void 0&&clearTimeout(d),m=0,n=u=i=d=void 0},F.flush=function(){return d===void 0?l:L(Nl())},F};class Gf extends Ri{_fireSelectionChangeDoneDebounced;constructor(t){super(t),this._fireSelectionChangeDoneDebounced=wr((e=>{this.document.fire("selectionChangeDone",e)}),200)}observe(){const t=this.document;t.on("arrowKey",((e,n)=>{t.selection.isFake&&this.isEnabled&&n.preventDefault()}),{context:"$capture"}),t.on("arrowKey",((e,n)=>{t.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)}),{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection,n=new vi(e.getRanges(),{backward:e.isBackward,fake:!1});t!=$t.arrowleft&&t!=$t.arrowup||n.setTo(n.getFirstPosition()),t!=$t.arrowright&&t!=$t.arrowdown||n.setTo(n.getLastPosition());const i={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}const So=function(o){return this.__data__.set(o,"__lodash_hash_undefined__"),this},mh=function(o){return this.__data__.has(o)};function Wc(o){var t=-1,e=o==null?0:o.length;for(this.__data__=new wc;++t<e;)this.add(o[t])}Wc.prototype.add=Wc.prototype.push=So,Wc.prototype.has=mh;const Kf=Wc,To=function(o,t){for(var e=-1,n=o==null?0:o.length;++e<n;)if(t(o[e],e,o))return!0;return!1},fh=function(o,t){return o.has(t)},gh=function(o,t,e,n,i,s){var l=1&e,d=o.length,u=t.length;if(d!=u&&!(l&&u>d))return!1;var m=s.get(o),g=s.get(t);if(m&&g)return m==t&&g==o;var k=-1,_=!0,v=2&e?new Kf:void 0;for(s.set(o,t),s.set(t,o);++k<d;){var E=o[k],z=t[k];if(n)var L=l?n(z,E,k,t,o,s):n(E,z,k,o,t,s);if(L!==void 0){if(L)continue;_=!1;break}if(v){if(!To(t,(function(F,G){if(!fh(v,G)&&(E===F||i(E,F,e,n,s)))return v.push(G)}))){_=!1;break}}else if(E!==z&&!i(E,z,e,n,s)){_=!1;break}}return s.delete(o),s.delete(t),_},$c=function(o){var t=-1,e=Array(o.size);return o.forEach((function(n,i){e[++t]=[i,n]})),e},Ol=function(o){var t=-1,e=Array(o.size);return o.forEach((function(n){e[++t]=n})),e};var Ie=Ln?Ln.prototype:void 0,ph=Ie?Ie.valueOf:void 0;const mk=function(o,t,e,n,i,s,l){switch(e){case"[object DataView]":if(o.byteLength!=t.byteLength||o.byteOffset!=t.byteOffset)return!1;o=o.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(o.byteLength!=t.byteLength||!s(new el(o),new el(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Bs(+o,+t);case"[object Error]":return o.name==t.name&&o.message==t.message;case"[object RegExp]":case"[object String]":return o==t+"";case"[object Map]":var d=$c;case"[object Set]":var u=1&n;if(d||(d=Ol),o.size!=t.size&&!u)return!1;var m=l.get(o);if(m)return m==t;n|=2,l.set(o,t);var g=gh(d(o),d(t),n,i,s,l);return l.delete(o),g;case"[object Symbol]":if(ph)return ph.call(o)==ph.call(t)}return!1};var Yf=Object.prototype.hasOwnProperty;const Ll=function(o,t,e,n,i,s){var l=1&e,d=yc(o),u=d.length;if(u!=yc(t).length&&!l)return!1;for(var m=u;m--;){var g=d[m];if(!(l?g in t:Yf.call(t,g)))return!1}var k=s.get(o),_=s.get(t);if(k&&_)return k==t&&_==o;var v=!0;s.set(o,t),s.set(t,o);for(var E=l;++m<u;){var z=o[g=d[m]],L=t[g];if(n)var F=l?n(L,z,g,t,o,s):n(z,L,g,o,t,s);if(!(F===void 0?z===L||i(z,L,e,n,s):F)){v=!1;break}E||(E=g=="constructor")}if(v&&!E){var G=o.constructor,X=t.constructor;G==X||!("constructor"in o)||!("constructor"in t)||typeof G=="function"&&G instanceof G&&typeof X=="function"&&X instanceof X||(v=!1)}return s.delete(o),s.delete(t),v};var Mo="[object Arguments]",kh="[object Array]",Rl="[object Object]",ha=Object.prototype.hasOwnProperty;const Wi=function(o,t,e,n,i,s){var l=tn(o),d=tn(t),u=l?kh:Yr(o),m=d?kh:Yr(t),g=(u=u==Mo?Rl:u)==Rl,k=(m=m==Mo?Rl:m)==Rl,_=u==m;if(_&&Qo(o)){if(!Qo(t))return!1;l=!0,g=!1}if(_&&!g)return s||(s=new Pn),l||lu(o)?gh(o,t,e,n,i,s):mk(o,t,u,e,n,i,s);if(!(1&e)){var v=g&&ha.call(o,"__wrapped__"),E=k&&ha.call(t,"__wrapped__");if(v||E){var z=v?o.value():o,L=E?t.value():t;return s||(s=new Pn),i(z,L,e,n,s)}}return!!_&&(s||(s=new Pn),Ll(o,t,e,n,i,s))},jl=function o(t,e,n,i,s){return t===e||(t==null||e==null||!Dn(t)&&!Dn(e)?t!=t&&e!=e:Wi(t,e,n,i,o,s))},bh=function(o,t,e){var n=(e=typeof e=="function"?e:void 0)?e(o,t):void 0;return n===void 0?jl(o,t,void 0,e):!!n};class wh extends Ri{domConverter;renderer;_config;_domElements;_mutationObserver;constructor(t){super(t),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.add(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}stopObserving(t){if(this._domElements.delete(t),this.isEnabled){this._mutationObserver.disconnect();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(t.length===0)return;const e=this.domConverter,n=new Set,i=new Set;for(const l of t){const d=e.mapDomToView(l.target);d&&(d.is("uiElement")||d.is("rawElement")||l.type!=="childList"||this._isBogusBrMutation(l)||i.add(d))}for(const l of t){const d=e.mapDomToView(l.target);if((!d||!d.is("uiElement")&&!d.is("rawElement"))&&l.type==="characterData"){const u=e.findCorrespondingViewText(l.target);u&&!i.has(u.parent)?n.add(u):!u&&In(l.target)&&i.add(e.mapDomToView(l.target.parentNode))}}let s=!1;for(const l of n)s=!0,this.renderer.markToSync("text",l);for(const l of i){const d=e.mapViewToDom(l),u=Array.from(l.getChildren()),m=Array.from(e.domChildrenToView(d,{withChildren:!1}));bh(u,m,Ah)||(s=!0,this.renderer.markToSync("children",l))}s&&this.view.forceRender()}_isBogusBrMutation(t){let e=null;return t.nextSibling===null&&t.removedNodes.length===0&&t.addedNodes.length==1&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}function Ah(o,t){if(!Array.isArray(o))return o===t||!(!o.is("$text")||!t.is("$text"))&&o.data===t.data}class ma extends br{_renderTimeoutId;_isFocusChanging=!1;domEventType=["focus","blur"];constructor(t){super(t),this.useCapture=!0;const e=this.document;e.on("focus",(()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout((()=>{this.flush(),t.change((()=>{}))}),50)})),e.on("blur",((n,i)=>{const s=e.selection.editableElement;s!==null&&s!==i.target||(e.isFocused=!1,this._isFocusChanging=!1,t.change((()=>{})))}))}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Zc extends Ri{mutationObserver;focusObserver;selection;domConverter;_documents;_fireSelectionChangeDoneDebounced;_clearInfiniteLoopInterval;_documentIsSelectingInactivityTimeoutDebounced;_loopbackCounter;constructor(t){super(t),this.mutationObserver=t.getObserver(wh),this.focusObserver=t.getObserver(ma),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=wr((e=>{this.document.fire("selectionChangeDone",e)}),200),this._clearInfiniteLoopInterval=setInterval((()=>this._clearInfiniteLoop()),1e3),this._documentIsSelectingInactivityTimeoutDebounced=wr((()=>this.document.isSelecting=!1),5e3),this._loopbackCounter=0}observe(t){const e=t.ownerDocument,n=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,e),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(t,"selectstart",(()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()}),{priority:"highest"}),this.listenTo(t,"keydown",n,{priority:"highest",useCapture:!0}),this.listenTo(t,"keyup",n,{priority:"highest",useCapture:!0}),this._documents.has(e)||(this.listenTo(e,"mouseup",n,{priority:"highest",useCapture:!0}),this.listenTo(e,"selectionchange",((i,s)=>{this.document.isComposing&&!N.isAndroid||(this._handleSelectionChange(s,e),this._documentIsSelectingInactivityTimeoutDebounced())})),this._documents.add(e))}stopObserving(t){this.stopListening(t)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(t,e){if(!this.isEnabled)return;const n=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const i=this.domConverter.domSelectionToView(n);if(i.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(i)||!this.domConverter.isDomSelectionCorrect(n))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(i))this.view.forceRender();else{const s={oldSelection:this.selection,newSelection:i,domSelection:n};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Qf extends br{domEventType=["compositionstart","compositionupdate","compositionend"];constructor(t){super(t);const e=this.document;e.on("compositionstart",(()=>{e.isComposing=!0}),{priority:"low"}),e.on("compositionend",(()=>{e.isComposing=!1}),{priority:"low"})}onDomEvent(t){this.fire(t.type,t,{data:t.data})}}class $i{_files;_native;constructor(t,e={}){this._files=e.cacheFiles?Ue(t):null,this._native=t}get files(){return this._files||(this._files=Ue(this._native)),this._files}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}set effectAllowed(t){this._native.effectAllowed=t}get effectAllowed(){return this._native.effectAllowed}set dropEffect(t){this._native.dropEffect=t}get dropEffect(){return this._native.dropEffect}setDragImage(t,e,n){this._native.setDragImage(t,e,n)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Ue(o){const t=Array.from(o.files||[]),e=Array.from(o.items||[]);return t.length?t:e.filter((n=>n.kind==="file")).map((n=>n.getAsFile()))}class _h extends br{domEventType="beforeinput";onDomEvent(t){const e=t.getTargetRanges(),n=this.view,i=n.document;let s=null,l=null,d=[];if(t.dataTransfer&&(s=new $i(t.dataTransfer)),t.data!==null?l=t.data:s&&(l=s.getData("text/plain")),i.selection.isFake)d=Array.from(i.selection.getRanges());else if(e.length)d=e.map((u=>{const m=n.domConverter.domPositionToView(u.startContainer,u.startOffset),g=n.domConverter.domPositionToView(u.endContainer,u.endOffset);return m?n.createRange(m,g):g?n.createRange(g):void 0})).filter((u=>!!u));else if(N.isAndroid){const u=t.target.ownerDocument.defaultView.getSelection();d=Array.from(n.domConverter.domSelectionToView(u).getRanges())}if(N.isAndroid&&t.inputType=="insertCompositionText"&&l&&l.endsWith(`
`))this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:[n.createRange(d[0].end)]});else if(t.inputType=="insertText"&&l&&l.includes(`
`)){const u=l.split(/\n{1,2}/g);let m=d;for(let g=0;g<u.length;g++){const k=u[g];k!=""&&(this.fire(t.type,t,{data:k,dataTransfer:s,targetRanges:m,inputType:t.inputType,isComposing:t.isComposing}),m=[i.selection.getFirstRange()]),g+1<u.length&&(this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:m}),m=[i.selection.getFirstRange()])}}else this.fire(t.type,t,{data:l,dataTransfer:s,targetRanges:d,inputType:t.inputType,isComposing:t.isComposing})}}class Wf extends Ri{constructor(t){super(t),this.document.on("keydown",((e,n)=>{if(this.isEnabled&&((i=n.keyCode)==$t.arrowright||i==$t.arrowleft||i==$t.arrowup||i==$t.arrowdown)){const s=new Do(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(s,n),s.stop.called&&e.stop()}var i}))}observe(){}stopObserving(){}}class dn extends Ri{constructor(t){super(t);const e=this.document;e.on("keydown",((n,i)=>{if(!this.isEnabled||i.keyCode!=$t.tab||i.ctrlKey)return;const s=new Do(e,"tab",e.selection.getFirstRange());e.fire(s,i),s.stop.called&&n.stop()}))}observe(){}stopObserving(){}}const ji=function(o){return go(o,5)};class $f extends ge(){document;domConverter;domRoots=new Map;_renderer;_initialDomRootAttributes=new WeakMap;_observers=new Map;_writer;_ongoingChange=!1;_postFixersInProgress=!1;_renderingDisabled=!1;_hasChangedSinceTheLastRendering=!1;constructor(t){super(),this.document=new El(t),this.domConverter=new Bl(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Rf(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new qc(this.document),this.addObserver(wh),this.addObserver(ma),this.addObserver(Zc),this.addObserver(Qc),this.addObserver(Gf),this.addObserver(Qf),this.addObserver(Wf),this.addObserver(_h),this.addObserver(dn),this.document.on("arrowKey",us,{priority:"low"}),If(this),this.on("render",(()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1})),this.listenTo(this.document.selection,"change",(()=>{this._hasChangedSinceTheLastRendering=!0})),this.listenTo(this.document,"change:isFocused",(()=>{this._hasChangedSinceTheLastRendering=!0})),N.isiOS&&this.listenTo(this.document,"blur",((e,n)=>{this.domConverter.mapDomToView(n.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}))}attachDomRoot(t,e="main"){const n=this.document.getRoot(e);n._name=t.tagName.toLowerCase();const i={};for(const{name:l,value:d}of Array.from(t.attributes))i[l]=d,l==="class"?this._writer.addClass(d.split(" "),n):this._writer.setAttribute(l,d,n);this._initialDomRootAttributes.set(t,i);const s=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};s(),this.domRoots.set(e,t),this.domConverter.bindElements(t,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(t.ownerDocument),n.on("change:children",((l,d)=>this._renderer.markToSync("children",d))),n.on("change:attributes",((l,d)=>this._renderer.markToSync("attributes",d))),n.on("change:text",((l,d)=>this._renderer.markToSync("text",d))),n.on("change:isReadOnly",(()=>this.change(s))),n.on("change",(()=>{this._hasChangedSinceTheLastRendering=!0}));for(const l of this._observers.values())l.observe(t,e)}detachDomRoot(t){const e=this.domRoots.get(t);Array.from(e.attributes).forEach((({name:i})=>e.removeAttribute(i)));const n=this._initialDomRootAttributes.get(e);for(const i in n)e.setAttribute(i,n[i]);this.domRoots.delete(t),this.domConverter.unbindDomElement(e);for(const i of this._observers.values())i.stopObserving(e)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);for(const[n,i]of this.domRoots)e.observe(i,n);return e.enable(),e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection({alignToTop:t,forceScroll:e,viewportOffset:n=20,ancestorOffset:i=20}={}){const s=this.document.selection.getFirstRange();if(!s)return;const l=ji({alignToTop:t,forceScroll:e,viewportOffset:n,ancestorOffset:i});typeof n=="number"&&(n={top:n,bottom:n,left:n,right:n});const d={target:this.domConverter.viewRangeToDom(s),viewportOffset:n,ancestorOffset:i,alignToTop:t,forceScroll:e};this.fire("scrollToTheSelection",d,l),(function({target:u,viewportOffset:m=0,ancestorOffset:g=0,alignToTop:k,forceScroll:_}){const v=Hn(u);let E=v,z=null;for(m=(function(L){return typeof L=="number"?{top:L,bottom:L,left:L,right:L}:L})(m);E;){let L;L=er(E==v?u:z),Ys({parent:L,getRect:()=>Li(u,E),alignToTop:k,ancestorOffset:g,forceScroll:_});const F=Li(u,E);if(Ai({window:E,rect:F,viewportOffset:m,alignToTop:k,forceScroll:_}),E.parent!=E){if(z=E.frameElement,E=E.parent,!z)return}else E=null}})(d)}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new H("cannot-change-view-tree",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const e=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e}catch(e){H.rethrowUnexpectedError(e,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(ma).flush(),this.change((()=>{}))}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,e){return bt._createAt(t,e)}createPositionAfter(t){return bt._createAfter(t)}createPositionBefore(t){return bt._createBefore(t)}createRange(t,e){return new Lt(t,e)}createRangeOn(t){return Lt._createOn(t)}createRangeIn(t){return Lt._createIn(t)}createSelection(...t){return new vi(...t)}_disableRendering(t){this._renderingDisabled=t,t==0&&this.change((()=>{}))}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Bo{is(){throw new Error("is() method is abstract")}}class ke extends Bo{parent=null;_attrs;constructor(t){super(),this._attrs=Ci(t)}get document(){return null}get index(){let t;if(!this.parent)return null;if((t=this.parent.getChildIndex(this))===null)throw new H("model-node-not-found-in-parent",this);return t}get startOffset(){let t;if(!this.parent)return null;if((t=this.parent.getChildStartOffset(this))===null)throw new H("model-node-not-found-in-parent",this);return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return t!==null&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return t!==null&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}getAncestors(t={}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let s=0;for(;n[s]==i[s]&&n[s];)s++;return s===0?null:n[s-1]}isBefore(t){if(this==t||this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=sn(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce(((e,n)=>(e[n[0]]=n[1],e)),{})),t}_clone(t){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,e){this._attrs.set(t,e)}_setAttributesTo(t){this._attrs=Ci(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}ke.prototype.is=function(o){return o==="node"||o==="model:node"};class un{_nodes=[];constructor(t){t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce(((t,e)=>t+e.offsetSize),0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const e=this._nodes.indexOf(t);return e==-1?null:e}getNodeStartOffset(t){const e=this.getNodeIndex(t);return e===null?null:this._nodes.slice(0,e).reduce(((n,i)=>n+i.offsetSize),0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new H("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}offsetToIndex(t){let e=0;for(const n of this._nodes){if(t>=e&&t<e+n.offsetSize)return this.getNodeIndex(n);e+=n.offsetSize}if(e!=t)throw new H("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.length}_insertNodes(t,e){for(const n of e)if(!(n instanceof ke))throw new H("model-nodelist-insertnodes-not-node",this);this._nodes=(function(n,i,s,l){if(Math.max(i.length,n.length)>1e4)return n.slice(0,s).concat(i).concat(n.slice(s+l,n.length));{const d=Array.from(n);return d.splice(s,l,...i),d}})(this._nodes,Array.from(e),t,0)}_removeNodes(t,e=1){return this._nodes.splice(t,e)}toJSON(){return this._nodes.map((t=>t.toJSON()))}}class Xt extends ke{_data;constructor(t,e){super(e),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new Xt(this.data,this.getAttributes())}static fromJSON(t){return new Xt(t.data,t.attributes)}}Xt.prototype.is=function(o){return o==="$text"||o==="model:$text"||o==="text"||o==="model:text"||o==="node"||o==="model:node"};class xi extends Bo{textNode;data;offsetInText;constructor(t,e,n){if(super(),this.textNode=t,e<0||e>t.offsetSize)throw new H("model-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.offsetSize)throw new H("model-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}xi.prototype.is=function(o){return o==="$textProxy"||o==="model:$textProxy"||o==="textProxy"||o==="model:textProxy"};class be extends ke{name;_children=new un;constructor(t,e,n){super(e),this.name=t,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}findAncestor(t,e={}){let n=e.includeSelf?this:this.parent;for(;n;){if(n.name===t)return n;n=n.parent}return null}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const e of this._children)t.children.push(e.toJSON())}return t}_clone(t=!1){const e=t?Array.from(this._children).map((n=>n._clone(!0))):void 0;return new be(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=(function(i){return typeof i=="string"?[new Xt(i)]:(ti(i)||(i=[i]),Array.from(i).map((s=>typeof s=="string"?new Xt(s):s instanceof xi?new Xt(s.data,s.getAttributes()):s)))})(e);for(const i of n)i.parent!==null&&i._remove(),i.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const i of n)i.parent=null;return n}static fromJSON(t){let e;if(t.children){e=[];for(const n of t.children)n.name?e.push(be.fromJSON(n)):e.push(Xt.fromJSON(n))}return new be(t.name,t.attributes,e)}}be.prototype.is=function(o,t){return t?t===this.name&&(o==="element"||o==="model:element"):o==="element"||o==="model:element"||o==="node"||o==="model:node"};class Zi{direction;boundaries;singleCharacters;shallow;ignoreElementEnd;_position;_boundaryStartParent;_boundaryEndParent;_visitedParent;constructor(t){if(!t||!t.boundaries&&!t.startPosition)throw new H("model-tree-walker-no-start-position",null);const e=t.direction||"forward";if(e!="forward"&&e!="backward")throw new H("model-tree-walker-unknown-direction",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this._position=t.startPosition.clone():this._position=mt._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,n,i,s;do i=this.position,s=this._visitedParent,{done:e,value:n}=this.next();while(!e&&t(n));e||(this._position=i,this._visitedParent=s)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(n.parent===null&&e.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const i=hn(e,n),s=i||Ei(e,n,i);if(s instanceof be){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e.path.push(0),this._visitedParent=s;return this._position=e,ms("elementStart",s,t,e,1)}if(s instanceof Xt){let l;if(this.singleCharacters)l=1;else{let m=s.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<m&&(m=this.boundaries.end.offset),l=m-e.offset}const d=e.offset-s.startOffset,u=new xi(s,d,l);return e.offset+=l,this._position=e,ms("text",u,t,e,l)}return e.path.pop(),e.offset++,this._position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():ms("elementEnd",n,t,e)}_previous(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(n.parent===null&&e.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const i=e.parent,s=hn(e,i),l=s||Ch(e,i,s);if(l instanceof be)return e.offset--,this.shallow?(this._position=e,ms("elementStart",l,t,e,1)):(e.path.push(l.maxOffset),this._position=e,this._visitedParent=l,this.ignoreElementEnd?this._previous():ms("elementEnd",l,t,e));if(l instanceof Xt){let d;if(this.singleCharacters)d=1;else{let g=l.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>g&&(g=this.boundaries.start.offset),d=e.offset-g}const u=e.offset-l.startOffset,m=new xi(l,u-d,d);return e.offset-=d,this._position=e,ms("text",m,t,e,d)}return e.path.pop(),this._position=e,this._visitedParent=n.parent,ms("elementStart",n,t,e,1)}}function ms(o,t,e,n,i){return{done:!1,value:{type:o,item:t,previousPosition:e,nextPosition:n,length:i}}}class mt extends Bo{root;path;stickiness;constructor(t,e,n="toNone"){if(super(),!t.is("element")&&!t.is("documentFragment"))throw new H("model-position-root-invalid",t);if(!(e instanceof Array)||e.length===0)throw new H("model-position-path-incorrect-format",t,{path:e});t.is("rootElement")?e=e.slice():(e=[...t.getPath(),...e],t=t.root),this.root=t,this.path=e,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)if(t=t.getChild(t.offsetToIndex(this.path[e])),!t)throw new H("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new H("model-position-path-incorrect",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return hn(this,this.parent)}get nodeAfter(){const t=this.parent;return Ei(this,t,hn(this,t))}get nodeBefore(){const t=this.parent;return Ch(this,t,hn(this,t))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const e=sn(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new Zi(e);return n.skip(t),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}findAncestor(t){const e=this.parent;return e.is("element")?e.findAncestor(t,{includeSelf:!0}):null}getCommonPath(t){if(this.root!=t.root)return[];const e=sn(this.path,t.path),n=typeof e=="string"?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;for(;e[i]==n[i]&&e[i];)i++;return i===0?null:e[i-1]}getShiftedBy(t){const e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e}isAfter(t){return this.compareWith(t)=="after"}isBefore(t){return this.compareWith(t)=="before"}isEqual(t){return this.compareWith(t)=="same"}isTouching(t){if(this.root!==t.root)return!1;const e=Math.min(this.path.length,t.path.length);for(let n=0;n<e;n++){const i=this.path[n]-t.path[n];if(i<-1||i>1)return!1;if(i===1)return Nn(t,this,n);if(i===-1)return Nn(this,t,n)}return this.path.length===t.path.length||(this.path.length>t.path.length?Jc(this.path,e):Jc(t.path,e))}hasSameParentAs(t){return this.root!==t.root?!1:sn(this.getParentPath(),t.getParentPath())=="same"}getTransformedByOperation(t){let e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=mt._createAt(this)}return e}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const e=t.movedRange;let n;return e.containsPosition(this)||e.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?mt._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}_getTransformedByDeletion(t,e){const n=mt._createAt(this);if(this.root!=t.root)return n;if(sn(t.getParentPath(),this.getParentPath())=="same"){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;n.offset-=e}}else if(sn(t.getParentPath(),this.getParentPath())=="prefix"){const i=t.path.length-1;if(t.offset<=this.path[i]){if(t.offset+e>this.path[i])return null;n.path[i]-=e}}return n}_getTransformedByInsertion(t,e){const n=mt._createAt(this);if(this.root!=t.root)return n;if(sn(t.getParentPath(),this.getParentPath())=="same")(t.offset<this.offset||t.offset==this.offset&&this.stickiness!="toPrevious")&&(n.offset+=e);else if(sn(t.getParentPath(),this.getParentPath())=="prefix"){const i=t.path.length-1;t.offset<=this.path[i]&&(n.path[i]+=e)}return n}_getTransformedByMove(t,e,n){if(e=e._getTransformedByDeletion(t,n),t.isEqual(e))return mt._createAt(this);const i=this._getTransformedByDeletion(t,n);return i===null||t.isEqual(this)&&this.stickiness=="toNext"||t.getShiftedBy(n).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(t,e):i._getTransformedByInsertion(e,n)}_getCombined(t,e){const n=t.path.length-1,i=mt._createAt(e);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[n]-t.offset,i.path=[...i.path,...this.path.slice(n+1)],i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,e,n="toNone"){if(t instanceof mt)return new mt(t.root,t.path,t.stickiness);{const i=t;if(e=="end")e=i.maxOffset;else{if(e=="before")return this._createBefore(i,n);if(e=="after")return this._createAfter(i,n);if(e!==0&&!e)throw new H("model-createpositionat-offset-required",[this,t])}if(!i.is("element")&&!i.is("documentFragment"))throw new H("model-position-parent-incorrect",[this,t]);const s=i.getPath();return s.push(e),new this(i.root,s,n)}}static _createAfter(t,e){if(!t.parent)throw new H("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}static _createBefore(t,e){if(!t.parent)throw new H("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}static fromJSON(t,e){if(t.root==="$graveyard"){const n=new mt(e.graveyard,t.path);return n.stickiness=t.stickiness,n}if(!e.getRoot(t.root))throw new H("model-position-fromjson-no-root",e,{rootName:t.root});return new mt(e.getRoot(t.root),t.path,t.stickiness)}}function hn(o,t){const e=t.getChild(t.offsetToIndex(o.offset));return e&&e.is("$text")&&e.startOffset<o.offset?e:null}function Ei(o,t,e){return e!==null?null:t.getChild(t.offsetToIndex(o.offset))}function Ch(o,t,e){return e!==null?null:t.getChild(t.offsetToIndex(o.offset)-1)}function Nn(o,t,e){return e+1!==o.path.length&&!!Jc(t.path,e+1)&&!!(function(n,i){let s=n.parent,l=n.path.length-1,d=0;for(;l>=i;){if(n.path[l]+d!==s.maxOffset)return!1;d=1,l--,s=s.parent}return!0})(o,e+1)}function Jc(o,t){for(;t<o.length;){if(o[t]!==0)return!1;t++}return!0}mt.prototype.is=function(o){return o==="position"||o==="model:position"};class Z extends Bo{start;end;constructor(t,e){super(),this.start=mt._createAt(t),this.end=e?mt._createAt(e):mt._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Zi({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return sn(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}containsItem(t){const e=mt._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new Z(this.start,t.start)),this.containsPosition(t.end)&&e.push(new Z(t.end,this.end))):e.push(new Z(this.start,this.end)),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new Z(e,n)}return null}getJoined(t,e=!1){let n=this.isIntersecting(t);if(n||(n=this.start.isBefore(t.start)?e?this.end.isTouching(t.start):this.end.isEqual(t.start):e?t.end.isTouching(this.start):t.end.isEqual(this.start)),!n)return null;let i=this.start,s=this.end;return t.start.isBefore(i)&&(i=t.start),t.end.isAfter(s)&&(s=t.end),new Z(i,s)}getMinimalFlatRanges(){const t=[],e=this.start.getCommonPath(this.end).length,n=mt._createAt(this.start);let i=n.parent;for(;n.path.length>e+1;){const s=i.maxOffset-n.offset;s!==0&&t.push(new Z(n,n.getShiftedBy(s))),n.path=n.path.slice(0,-1),n.offset++,i=i.parent}for(;n.path.length<=this.end.path.length;){const s=this.end.path[n.path.length-1],l=s-n.offset;l!==0&&t.push(new Z(n,n.getShiftedBy(l))),n.offset=s,n.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new Zi(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new Zi(t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new Zi(t);yield e.position;for(const n of e)yield n.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new Z(this.start,this.end)]}getTransformedByOperations(t){const e=[new Z(this.start,this.end)];for(const n of t)for(let i=0;i<e.length;i++){const s=e[i].getTransformedByOperation(n);e.splice(i,1,...s),i+=s.length-1}for(let n=0;n<e.length;n++){const i=e[n];for(let s=n+1;s<e.length;s++){const l=e[s];(i.containsRange(l)||l.containsRange(i)||i.isEqual(l))&&e.splice(s,1)}}return e}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const t=this.start.nodeAfter,e=this.end.nodeBefore;return t&&t.is("element")&&t===e?t:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,e=!1){return this._getTransformedByInsertion(t.position,t.howMany,e)}_getTransformedByMoveOperation(t,e=!1){const n=t.sourcePosition,i=t.howMany,s=t.targetPosition;return this._getTransformedByMove(n,s,i,e)}_getTransformedBySplitOperation(t){const e=this.start._getTransformedBySplitOperation(t);let n=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(n=this.end.getShiftedBy(1)),e.root!=n.root&&(n=this.end.getShiftedBy(-1)),new Z(e,n)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new Z(this.start);let e=this.start._getTransformedByMergeOperation(t),n=this.end._getTransformedByMergeOperation(t);return e.root!=n.root&&(n=this.end.getShiftedBy(-1)),e.isAfter(n)?(t.sourcePosition.isBefore(t.targetPosition)?(e=mt._createAt(n),e.offset=0):(t.deletionPosition.isEqual(e)||(n=t.deletionPosition),e=t.targetPosition),new Z(e,n)):new Z(e,n)}_getTransformedByInsertion(t,e,n=!1){if(n&&this.containsPosition(t))return[new Z(this.start,t),new Z(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))];{const i=new Z(this.start,this.end);return i.start=i.start._getTransformedByInsertion(t,e),i.end=i.end._getTransformedByInsertion(t,e),[i]}}_getTransformedByMove(t,e,n,i=!1){if(this.isCollapsed){const k=this.start._getTransformedByMove(t,e,n);return[new Z(k)]}const s=Z._createFromPositionAndShift(t,n),l=e._getTransformedByDeletion(t,n);if(this.containsPosition(e)&&!i&&(s.containsPosition(this.start)||s.containsPosition(this.end))){const k=this.start._getTransformedByMove(t,e,n),_=this.end._getTransformedByMove(t,e,n);return[new Z(k,_)]}let d;const u=this.getDifference(s);let m=null;const g=this.getIntersection(s);if(u.length==1?m=new Z(u[0].start._getTransformedByDeletion(t,n),u[0].end._getTransformedByDeletion(t,n)):u.length==2&&(m=new Z(this.start,this.end._getTransformedByDeletion(t,n))),d=m?m._getTransformedByInsertion(l,n,g!==null||i):[],g){const k=new Z(g.start._getCombined(s.start,l),g.end._getCombined(s.start,l));d.length==2?d.splice(1,0,k):d.push(k)}return d}_getTransformedByDeletion(t,e){let n=this.start._getTransformedByDeletion(t,e),i=this.end._getTransformedByDeletion(t,e);return n==null&&i==null?null:(n==null&&(n=t),i==null&&(i=t),new Z(n,i))}static _createFromPositionAndShift(t,e){const n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}static _createIn(t){return new this(mt._createAt(t,0),mt._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift(mt._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(t.length===0)throw new H("range-create-from-ranges-empty-array",null);if(t.length==1)return t[0].clone();const e=t[0];t.sort(((s,l)=>s.start.isAfter(l.start)?1:-1));const n=t.indexOf(e),i=new this(e.start,e.end);if(n>0)for(let s=n-1;t[s].end.isEqual(i.start);s++)i.start=mt._createAt(t[s].start);for(let s=n+1;s<t.length&&t[s].start.isEqual(i.end);s++)i.end=mt._createAt(t[s].end);return i}static fromJSON(t,e){return new this(mt.fromJSON(t.start,e),mt.fromJSON(t.end,e))}}Z.prototype.is=function(o){return o==="range"||o==="model:range"};class Ar extends yt(){_modelToViewMapping=new WeakMap;_viewToModelMapping=new WeakMap;_viewToModelLengthCallbacks=new Map;_markerNameToElements=new Map;_elementToMarkerNames=new Map;_deferredBindingRemovals=new Map;_unboundMarkerNames=new Set;constructor(){super(),this.on("modelToViewPosition",((t,e)=>{if(e.viewPosition)return;const n=this._modelToViewMapping.get(e.modelPosition.parent);if(!n)throw new H("mapping-model-position-view-parent-not-found",this,{modelPosition:e.modelPosition});e.viewPosition=this.findPositionIn(n,e.modelPosition.offset)}),{priority:"low"}),this.on("viewToModelPosition",((t,e)=>{if(e.modelPosition)return;const n=this.findMappedViewAncestor(e.viewPosition),i=this._viewToModelMapping.get(n),s=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n);e.modelPosition=mt._createAt(i,s)}),{priority:"low"})}bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}unbindViewElement(t,e={}){const n=this.toModelElement(t);if(this._elementToMarkerNames.has(t))for(const i of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(i);e.defer?this._deferredBindingRemovals.set(t,t.root):(this._viewToModelMapping.delete(t),this._modelToViewMapping.get(n)==t&&this._modelToViewMapping.delete(n))}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}bindElementToMarker(t,e){const n=this._markerNameToElements.get(e)||new Set;n.add(t);const i=this._elementToMarkerNames.get(t)||new Set;i.add(e),this._markerNameToElements.set(e,n),this._elementToMarkerNames.set(t,i)}unbindElementFromMarkerName(t,e){const n=this._markerNameToElements.get(e);n&&(n.delete(t),n.size==0&&this._markerNameToElements.delete(e));const i=this._elementToMarkerNames.get(t);i&&(i.delete(e),i.size==0&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}flushDeferredBindings(){for(const[t,e]of this._deferredBindingRemovals)t.root==e&&this.unbindViewElement(t);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new Z(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new Lt(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}toViewPosition(t,e={}){const n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e)return null;const n=new Set;for(const i of e)if(i.is("attributeElement"))for(const s of i.getElementsWithSameId())n.add(s);else n.add(i);return n}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}findMappedViewAncestor(t){let e=t.parent;for(;!this._viewToModelMapping.has(e);)e=e.parent;return e}_toModelOffset(t,e,n){if(n!=t)return this._toModelOffset(t.parent,t.index,n)+this._toModelOffset(t,e,t);if(t.is("$text"))return e;let i=0;for(let s=0;s<e;s++)i+=this.getModelLength(t.getChild(s));return i}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("$text"))return t.data.length;if(t.is("uiElement"))return 0;{let e=0;for(const n of t.getChildren())e+=this.getModelLength(n);return e}}findPositionIn(t,e){let n,i=0,s=0,l=0;if(t.is("$text"))return new bt(t,e);for(;s<e;)n=t.getChild(l),i=this.getModelLength(n),s+=i,l++;return s==e?this._moveViewPositionToTextNode(new bt(t,l)):this.findPositionIn(n,e-(s-i))}_moveViewPositionToTextNode(t){const e=t.nodeBefore,n=t.nodeAfter;return e instanceof ue?new bt(e,e.data.length):n instanceof ue?new bt(n,0):t}}class Io{_consumable=new Map;_textProxyRegistry=new Map;add(t,e){e=fa(e),t instanceof xi&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=fa(e),t instanceof xi&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}test(t,e){e=fa(e),t instanceof xi&&(t=this._getSymbolForTextProxy(t));const n=this._consumable.get(t);if(n===void 0)return null;const i=n.get(e);return i===void 0?null:i}revert(t,e){e=fa(e),t instanceof xi&&(t=this._getSymbolForTextProxy(t));const n=this.test(t,e);return n===!1?(this._consumable.get(t).set(e,!0),!0):n!==!0&&null}verifyAllConsumed(t){const e=[];for(const[n,i]of this._consumable)for(const[s,l]of i){const d=s.split(":")[0];l&&t==d&&e.push({event:s,item:n.name||n.description})}if(e.length)throw new H("conversion-model-consumable-not-consumed",null,{items:e})}_getSymbolForTextProxy(t){let e=null;const n=this._textProxyRegistry.get(t.startOffset);if(n){const i=n.get(t.endOffset);i&&(e=i.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t)),e}_addSymbolForTextProxy(t){const e=t.startOffset,n=t.endOffset,i=t.parent,s=Symbol("$textProxy:"+t.data);let l,d;return l=this._textProxyRegistry.get(e),l||(l=new Map,this._textProxyRegistry.set(e,l)),d=l.get(n),d||(d=new Map,l.set(n,d)),d.set(i,s),s}}function fa(o){const t=o.split(":");return t[0]=="insert"?t[0]:t[0]=="addMarker"||t[0]=="removeMarker"?o:t.length>1?t[0]+":"+t[1]:t[0]}class Xc extends yt(){_conversionApi;_firedEventsMap;constructor(t){super(),this._conversionApi={dispatcher:this,...t},this._firedEventsMap=new WeakMap}convertChanges(t,e,n){const i=this._createConversionApi(n,t.getRefreshedItems());for(const l of t.getMarkersToRemove())this._convertMarkerRemove(l.name,l.range,i);const s=this._reduceChanges(t.getChanges());for(const l of s)l.type==="insert"?this._convertInsert(Z._createFromPositionAndShift(l.position,l.length),i):l.type==="reinsert"?this._convertReinsert(Z._createFromPositionAndShift(l.position,l.length),i):l.type==="remove"?this._convertRemove(l.position,l.length,l.name,i):this._convertAttribute(l.range,l.attributeKey,l.attributeOldValue,l.attributeNewValue,i);i.mapper.flushDeferredBindings();for(const l of i.mapper.flushUnboundMarkerNames()){const d=e.get(l).getRange();this._convertMarkerRemove(l,d,i),this._convertMarkerAdd(l,d,i)}for(const l of t.getMarkersToAdd())this._convertMarkerAdd(l.name,l.range,i);i.consumable.verifyAllConsumed("insert")}convert(t,e,n,i={}){const s=this._createConversionApi(n,void 0,i);this._convertInsert(t,s);for(const[l,d]of e)this._convertMarkerAdd(l,d,s);s.consumable.verifyAllConsumed("insert")}convertSelection(t,e,n){const i=this._createConversionApi(n);this.fire("cleanSelection",{selection:t},i);const s=t.getFirstPosition().root;if(!i.mapper.toViewElement(s))return;const l=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));if(this._addConsumablesForSelection(i.consumable,t,l),this.fire("selection",{selection:t},i),t.isCollapsed){for(const d of l)if(i.consumable.test(t,"addMarker:"+d.name)){const u=d.getRange();if(!Pi(t.getFirstPosition(),d,i.mapper))continue;const m={item:t,markerName:d.name,markerRange:u};this.fire(`addMarker:${d.name}`,m,i)}for(const d of t.getAttributeKeys())if(i.consumable.test(t,"attribute:"+d)){const u={item:t,range:t.getFirstRange(),attributeKey:d,attributeOldValue:null,attributeNewValue:t.getAttribute(d)};this.fire(`attribute:${d}:$text`,u,i)}}}_convertInsert(t,e,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(e.consumable,t);for(const i of Array.from(t.getWalker({shallow:!0})).map(vh))this._testAndFire("insert",i,e)}_convertRemove(t,e,n,i){this.fire(`remove:${n}`,{position:t,length:e},i)}_convertAttribute(t,e,n,i,s){this._addConsumablesForRange(s.consumable,t,`attribute:${e}`);for(const l of t){const d={item:l.item,range:Z._createFromPositionAndShift(l.previousPosition,l.length),attributeKey:e,attributeOldValue:n,attributeNewValue:i};this._testAndFire(`attribute:${e}`,d,s)}}_convertReinsert(t,e){const n=Array.from(t.getWalker({shallow:!0}));this._addConsumablesForInsert(e.consumable,n);for(const i of n.map(vh))this._testAndFire("insert",{...i,reconversion:!0},e)}_convertMarkerAdd(t,e,n){if(e.root.rootName=="$graveyard")return;const i=`addMarker:${t}`;if(n.consumable.add(e,i),this.fire(i,{markerName:t,markerRange:e},n),n.consumable.consume(e,i)){this._addConsumablesForRange(n.consumable,e,i);for(const s of e.getItems()){if(!n.consumable.test(s,i))continue;const l={item:s,range:Z._createOn(s),markerName:t,markerRange:e};this.fire(i,l,n)}}}_convertMarkerRemove(t,e,n){e.root.rootName!="$graveyard"&&this.fire(`removeMarker:${t}`,{markerName:t,markerRange:e},n)}_reduceChanges(t){const e={changes:t};return this.fire("reduceChanges",e),e.changes}_addConsumablesForInsert(t,e){for(const n of e){const i=n.item;if(t.test(i,"insert")===null){t.add(i,"insert");for(const s of i.getAttributeKeys())t.add(i,"attribute:"+s)}}return t}_addConsumablesForRange(t,e,n){for(const i of e.getItems())t.add(i,n);return t}_addConsumablesForSelection(t,e,n){t.add(e,"selection");for(const i of n)t.add(e,"addMarker:"+i.name);for(const i of e.getAttributeKeys())t.add(e,"attribute:"+i);return t}_testAndFire(t,e,n){const i=(function(u,m){const g=m.item.is("element")?m.item.name:"$text";return`${u}:${g}`})(t,e),s=e.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(e.item):e.item,l=this._firedEventsMap.get(n),d=l.get(s);if(d){if(d.has(i))return;d.add(i)}else l.set(s,new Set([i]));this.fire(i,e,n)}_testAndFireAddAttributes(t,e){const n={item:t,range:Z._createOn(t)};for(const i of n.item.getAttributeKeys())n.attributeKey=i,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(i),this._testAndFire(`attribute:${i}`,n,e)}_createConversionApi(t,e=new Set,n={}){const i={...this._conversionApi,consumable:new Io,writer:t,options:n,convertItem:s=>this._convertInsert(Z._createOn(s),i),convertChildren:s=>this._convertInsert(Z._createIn(s),i,{doNotAddConsumables:!0}),convertAttributes:s=>this._testAndFireAddAttributes(s,i),canReuseView:s=>!e.has(i.mapper.toModelElement(s))};return this._firedEventsMap.set(i,new Map),i}}function Pi(o,t,e){const n=t.getRange(),i=Array.from(o.getAncestors());return i.shift(),i.reverse(),!i.some((s=>{if(n.containsItem(s))return!!e.toViewElement(s).getCustomProperty("addHighlight")}))}function vh(o){return{item:o.item,range:Z._createFromPositionAndShift(o.previousPosition,o.length)}}class mn extends yt(Bo){_lastRangeBackward=!1;_attrs=new Map;_ranges=[];constructor(...t){super(),t.length&&this.setTo(...t)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new Z(t.start,t.end)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?new Z(t.start,t.end):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?new Z(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(...t){let[e,n,i]=t;if(typeof n=="object"&&(i=n,n=void 0),e===null)this._setRanges([]);else if(e instanceof mn)this._setRanges(e.getRanges(),e.isBackward);else if(e&&typeof e.getRanges=="function")this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof Z)this._setRanges([e],!!i&&!!i.backward);else if(e instanceof mt)this._setRanges([new Z(e)]);else if(e instanceof ke){const s=!!i&&!!i.backward;let l;if(n=="in")l=Z._createIn(e);else if(n=="on")l=Z._createOn(e);else{if(n===void 0)throw new H("model-selection-setto-required-second-parameter",[this,e]);l=new Z(mt._createAt(e,n))}this._setRanges([l],s)}else{if(!ti(e))throw new H("model-selection-setto-not-selectable",[this,e]);this._setRanges(e,i&&!!i.backward)}}_setRanges(t,e=!1){const n=Array.from(t),i=n.some((s=>{if(!(s instanceof Z))throw new H("model-selection-set-ranges-not-range",[this,t]);return this._ranges.every((l=>!l.isEqual(s)))}));(n.length!==this._ranges.length||i)&&(this._replaceAllRanges(n),this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0}))}setFocus(t,e){if(this.anchor===null)throw new H("model-selection-setfocus-no-ranges",[this,t]);const n=mt._createAt(t,e);if(n.compareWith(this.focus)=="same")return;const i=this.anchor;this._ranges.length&&this._popRange(),n.compareWith(i)=="before"?(this._pushRange(new Z(n,i)),this._lastRangeBackward=!0):(this._pushRange(new Z(i,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const n=fs(e.start,t);Zf(n,e)&&(yield n);for(const s of e.getWalker()){const l=s.item;s.type=="elementEnd"&&Pl(l,t,e)&&(yield l)}const i=fs(e.end,t);Fl(i,e)&&(yield i)}}containsEntireContent(t=this.anchor.root){const e=mt._createAt(t,0),n=mt._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new Z(t.start,t.end))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new H("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}_replaceAllRanges(t){this._removeAllRanges();for(const e of t)this._pushRange(e)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function ga(o,t){return!t.has(o)&&(t.add(o),o.root.document.model.schema.isBlock(o)&&!!o.parent)}function Pl(o,t,e){return ga(o,t)&&td(o,e)}function fs(o,t){const e=o.parent.root.document.model.schema,n=o.parent.getAncestors({parentFirst:!0,includeSelf:!0});let i=!1;const s=n.find((l=>!i&&(i=e.isLimit(l),!i&&ga(l,t))));return n.forEach((l=>t.add(l))),s}function td(o,t){const e=(function(n){const i=n.root.document.model.schema;let s=n.parent;for(;s;){if(i.isBlock(s))return s;s=s.parent}})(o);return e?!t.containsRange(Z._createOn(e),!0):!0}function Zf(o,t){return!!o&&(!(!t.isCollapsed&&!o.isEmpty)||!t.start.isTouching(mt._createAt(o,o.maxOffset))&&td(o,t))}function Fl(o,t){return!!o&&(!(!t.isCollapsed&&!o.isEmpty)||!t.end.isTouching(mt._createAt(o,0))&&td(o,t))}mn.prototype.is=function(o){return o==="selection"||o==="model:selection"};class Gn extends yt(Z){constructor(t,e){super(t,e),ed.call(this)}detach(){this.stopListening()}toRange(){return new Z(this.start,this.end)}static fromRange(t){return new Gn(t.start,t.end)}}function ed(){this.listenTo(this.root.document.model,"applyOperation",((o,t)=>{const e=t[0];e.isDocumentOperation&&Jf.call(this,e)}),{priority:"low"})}function Jf(o){const t=this.getTransformedByOperation(o),e=Z._createFromRanges(t),n=!e.isEqual(this),i=(function(l,d){switch(d.type){case"insert":return l.containsPosition(d.position);case"move":case"remove":case"reinsert":case"merge":return l.containsPosition(d.sourcePosition)||l.start.isEqual(d.sourcePosition)||l.containsPosition(d.targetPosition);case"split":return l.containsPosition(d.splitPosition)||l.containsPosition(d.insertionPosition)}return!1})(this,o);let s=null;if(n){e.root.rootName=="$graveyard"&&(s=o.type=="remove"?o.sourcePosition:o.deletionPosition);const l=this.toRange();this.start=e.start,this.end=e.end,this.fire("change:range",l,{deletionPosition:s})}else i&&this.fire("change:content",this.toRange(),{deletionPosition:s})}Gn.prototype.is=function(o){return o==="liveRange"||o==="model:liveRange"||o=="range"||o==="model:range"};const nd="selection:";class Fi extends yt(Bo){_selection;constructor(t){super(),this._selection=new he(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(t){this._selection.observeMarkers(t)}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(...t){this._selection.setTo(...t)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return nd+t}static _isStoreAttributeKey(t){return t.startsWith(nd)}}Fi.prototype.is=function(o){return o==="selection"||o=="model:selection"||o=="documentSelection"||o=="model:documentSelection"};class he extends mn{markers=new pe({idProperty:"name"});_model;_document;_attributePriority=new Map;_selectionRestorePosition=null;_hasChangedRange=!1;_overriddenGravityRegister=new Set;_observedMarkers=new Set;constructor(t){super(),this._model=t.model,this._document=t,this.listenTo(this._model,"applyOperation",((e,n)=>{const i=n[0];i.isDocumentOperation&&i.type!="marker"&&i.type!="rename"&&i.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))}),{priority:"lowest"}),this.on("change:range",(()=>{this._validateSelectionRanges(this.getRanges())})),this.listenTo(this._model.markers,"update",((e,n,i,s)=>{this._updateMarker(n,s)})),this.listenTo(this._document,"change",((e,n)=>{(function(i,s){const l=i.document.differ;for(const d of l.getChanges()){if(d.type!="insert")continue;const u=d.position.parent;d.length===u.maxOffset&&i.enqueueChange(s,(m=>{const g=Array.from(u.getAttributeKeys()).filter((k=>k.startsWith(nd)));for(const k of g)m.removeAttribute(k,u)}))}})(this._model,n)}))}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...t){super.setTo(...t),this._updateAttributes(!0),this.updateMarkers()}setFocus(t,e){super.setFocus(t,e),this._updateAttributes(!0),this.updateMarkers()}setAttribute(t,e){if(this._setAttribute(t,e)){const n=[t];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}removeAttribute(t){if(this._removeAttribute(t)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}overrideGravity(){const t=Mt();return this._overriddenGravityRegister.add(t),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new H("document-selection-gravity-wrong-restore",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(t){this._observedMarkers.add(t),this.updateMarkers()}_replaceAllRanges(t){this._validateSelectionRanges(t),super._replaceAllRanges(t)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);e&&this._ranges.push(e)}_validateSelectionRanges(t){for(const e of t)if(!this._document._validateSelectionRange(e))throw new H("document-selection-wrong-position",this,{range:e})}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;const e=Gn.fromRange(t);return e.on("change:range",((n,i,s)=>{if(this._hasChangedRange=!0,e.root==this._document.graveyard){this._selectionRestorePosition=s.deletionPosition;const l=this._ranges.indexOf(e);this._ranges.splice(l,1),e.detach()}})),e}updateMarkers(){if(!this._observedMarkers.size)return;const t=[];let e=!1;for(const i of this._model.markers){const s=i.name.split(":",1)[0];if(!this._observedMarkers.has(s))continue;const l=i.getRange();for(const d of this.getRanges())l.containsRange(d,!d.isCollapsed)&&t.push(i)}const n=Array.from(this.markers);for(const i of t)this.markers.has(i)||(this.markers.add(i),e=!0);for(const i of Array.from(this.markers))t.includes(i)||(this.markers.remove(i),e=!0);e&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(t,e){const n=t.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let i=!1;const s=Array.from(this.markers),l=this.markers.has(t);if(e){let d=!1;for(const u of this.getRanges())if(e.containsRange(u,!u.isCollapsed)){d=!0;break}d&&!l?(this.markers.add(t),i=!0):!d&&l&&(this.markers.remove(t),i=!0)}else l&&(this.markers.remove(t),i=!0);i&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateAttributes(t){const e=Ci(this._getSurroundingAttributes()),n=Ci(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[s,l]of this._attributePriority)l=="low"&&(this._attrs.delete(s),this._attributePriority.delete(s));this._setAttributesTo(e);const i=[];for(const[s,l]of this.getAttributes())n.has(s)&&n.get(s)===l||i.push(s);for(const[s]of n)this.hasAttribute(s)||i.push(s);i.length>0&&this.fire("change:attribute",{attributeKeys:i,directChange:!1})}_setAttribute(t,e,n=!0){const i=n?"normal":"low";return i=="low"&&this._attributePriority.get(t)=="normal"?!1:super.getAttribute(t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,i),!0)}_removeAttribute(t,e=!0){const n=e?"normal":"low";return(n!="low"||this._attributePriority.get(t)!="normal")&&(this._attributePriority.set(t,n),!!super.hasAttribute(t)&&(this._attrs.delete(t),!0))}_setAttributesTo(t){const e=new Set;for(const[n,i]of this.getAttributes())t.get(n)!==i&&this._removeAttribute(n,!1);for(const[n,i]of t)this._setAttribute(n,i,!1)&&e.add(n);return e}*getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const e of t.getAttributeKeys())e.startsWith(nd)&&(yield[e.substr(10),t.getAttribute(e)])}_getSurroundingAttributes(){const t=this.getFirstPosition(),e=this._model.schema;if(t.root.rootName=="$graveyard")return null;let n=null;if(this.isCollapsed){const i=t.textNode?t.textNode:t.nodeBefore,s=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=me(i,e)),n||(n=me(s,e)),!this.isGravityOverridden&&!n){let l=i;for(;l&&!n;)l=l.previousSibling,n=me(l,e)}if(!n){let l=s;for(;l&&!n;)l=l.nextSibling,n=me(l,e)}n||(n=this.getStoredAttributes())}else{const i=this.getFirstRange();for(const s of i){if(s.item.is("element")&&e.isObject(s.item)){n=me(s.item,e);break}if(s.type=="text"){n=s.item.getAttributes();break}}}return n}_fixGraveyardSelection(t){const e=this._model.schema.getNearestSelectionRange(t);e&&this._pushRange(e)}}function me(o,t){if(!o)return null;if(o instanceof xi||o instanceof Xt)return o.getAttributes();if(!t.isInline(o))return null;if(!t.isObject(o))return[];const e=[];for(const[n,i]of o.getAttributes())t.checkAttribute("$text",n)&&t.getAttributeProperties(n).copyFromObject!==!1&&e.push([n,i]);return e}class Qt{_dispatchers;constructor(t){this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}class te extends Qt{elementToElement(t){return this.add((function(e){const n=Ji(e.model),i=Ne(e.view,"container");return n.attributes.length&&(n.children=!0),s=>{s.on(`insert:${n.name}`,_r(i,gs(n)),{priority:e.converterPriority||"normal"}),(n.children||n.attributes.length)&&s.on("reduceChanges",Kn(n),{priority:"low"})}})(t))}elementToStructure(t){return this.add((function(e){const n=Ji(e.model),i=Ne(e.view,"container");return n.children=!0,s=>{if(s._conversionApi.schema.checkChild(n.name,"$text"))throw new H("conversion-element-to-structure-disallowed-text",s,{elementName:n.name});var l,d;s.on(`insert:${n.name}`,(l=i,d=gs(n),(u,m,g)=>{if(!d(m.item,g.consumable,{preflight:!0}))return;const k=new Map;g.writer._registerSlotFactory((function(E,z,L){return(F,G)=>{const X=F.createContainerElement("$slot");let lt=null;if(G==="children")lt=Array.from(E.getChildren());else{if(typeof G!="function")throw new H("conversion-slot-mode-unknown",L.dispatcher,{modeOrFilter:G});lt=Array.from(E.getChildren()).filter((vt=>G(vt)))}return z.set(X,lt),X}})(m.item,k,g));const _=l(m.item,g,m);if(g.writer._clearSlotFactory(),!_)return;(function(E,z,L){const F=Array.from(z.values()).flat(),G=new Set(F);if(G.size!=F.length)throw new H("conversion-slot-filter-overlap",L.dispatcher,{element:E});if(G.size!=E.childCount)throw new H("conversion-slot-filter-incomplete",L.dispatcher,{element:E})})(m.item,k,g),d(m.item,g.consumable);const v=g.mapper.toViewPosition(m.range.start);g.mapper.bindElements(m.item,_),g.writer.insert(v,_),g.convertAttributes(m.item),(function(E,z,L,F){L.mapper.on("modelToViewPosition",lt,{priority:"highest"});let G=null,X=null;for([G,X]of z)ka(E,X,L,F),L.writer.move(L.writer.createRangeIn(G),L.writer.createPositionBefore(G)),L.writer.remove(G);function lt(vt,jt){const Gt=jt.modelPosition.nodeAfter,Oe=X.indexOf(Gt);Oe<0||(jt.viewPosition=jt.mapper.findPositionIn(G,Oe))}L.mapper.off("modelToViewPosition",lt)})(_,k,g,{reconversion:m.reconversion})}),{priority:e.converterPriority||"normal"}),s.on("reduceChanges",Kn(n),{priority:"low"})}})(t))}attributeToElement(t){return this.add((function(e){e=ji(e);let n=e.model;typeof n=="string"&&(n={key:n});let i=`attribute:${n.key}`;if(n.name&&(i+=":"+n.name),n.values)for(const l of n.values)e.view[l]=Ne(e.view[l],"attribute");else e.view=Ne(e.view,"attribute");const s=No(e);return l=>{l.on(i,di(s),{priority:e.converterPriority||"normal"})}})(t))}attributeToAttribute(t){return this.add((function(e){e=ji(e);let n=e.model;typeof n=="string"&&(n={key:n});let i=`attribute:${n.key}`;if(n.name&&(i+=":"+n.name),n.values)for(const l of n.values)e.view[l]=Cr(e.view[l]);else e.view=Cr(e.view);const s=No(e);return l=>{var d;l.on(i,(d=s,(u,m,g)=>{if(!g.consumable.test(m.item,u.name))return;const k=d(m.attributeOldValue,g,m),_=d(m.attributeNewValue,g,m);if(!k&&!_)return;g.consumable.consume(m.item,u.name);const v=g.mapper.toViewElement(m.item),E=g.writer;if(!v)throw new H("conversion-attribute-to-attribute-on-text",g.dispatcher,m);if(m.attributeOldValue!==null&&k)if(k.key=="class"){const z=typeof k.value=="string"?k.value.split(/\s+/):k.value;for(const L of z)E.removeClass(L,v)}else if(k.key=="style")if(typeof k.value=="string"){const z=new Cl(E.document.stylesProcessor);z.setTo(k.value);for(const[L]of z.getStylesEntries())E.removeStyle(L,v)}else{const z=Object.keys(k.value);for(const L of z)E.removeStyle(L,v)}else E.removeAttribute(k.key,v);if(m.attributeNewValue!==null&&_)if(_.key=="class"){const z=typeof _.value=="string"?_.value.split(/\s+/):_.value;for(const L of z)E.addClass(L,v)}else if(_.key=="style")if(typeof _.value=="string"){const z=new Cl(E.document.stylesProcessor);z.setTo(_.value);for(const[L,F]of z.getStylesEntries())E.setStyle(L,F,v)}else{const z=Object.keys(_.value);for(const L of z)E.setStyle(L,_.value[L],v)}else E.setAttribute(_.key,_.value,v)}),{priority:e.converterPriority||"normal"})}})(t))}markerToElement(t){return this.add((function(e){const n=Ne(e.view,"ui");return i=>{i.on(`addMarker:${e.model}`,pa(n),{priority:e.converterPriority||"normal"}),i.on(`removeMarker:${e.model}`,((s,l,d)=>{const u=d.mapper.markerNameToElements(l.markerName);if(u){for(const m of u)d.mapper.unbindElementFromMarkerName(m,l.markerName),d.writer.clear(d.writer.createRangeOn(m),m);d.writer.clearClonedElementsGroup(l.markerName),s.stop()}}),{priority:e.converterPriority||"normal"})}})(t))}markerToHighlight(t){return this.add((function(e){return n=>{var i;n.on(`addMarker:${e.model}`,(i=e.view,(s,l,d)=>{if(!l.item||!(l.item instanceof mn||l.item instanceof Fi||l.item.is("$textProxy")))return;const u=Vl(i,l,d);if(!u||!d.consumable.consume(l.item,s.name))return;const m=d.writer,g=we(m,u),k=m.document.selection;if(l.item instanceof mn||l.item instanceof Fi)m.wrap(k.getFirstRange(),g);else{const _=d.mapper.toViewRange(l.range),v=m.wrap(_,g);for(const E of v.getItems())if(E.is("attributeElement")&&E.isSimilar(g)){d.mapper.bindElementToMarker(E,l.markerName);break}}}),{priority:e.converterPriority||"normal"}),n.on(`addMarker:${e.model}`,(function(s){return(l,d,u)=>{if(!d.item||!(d.item instanceof be))return;const m=Vl(s,d,u);if(!m||!u.consumable.test(d.item,l.name))return;const g=u.mapper.toViewElement(d.item);if(g&&g.getCustomProperty("addHighlight")){u.consumable.consume(d.item,l.name);for(const k of Z._createIn(d.item))u.consumable.consume(k.item,l.name);g.getCustomProperty("addHighlight")(g,m,u.writer),u.mapper.bindElementToMarker(g,d.markerName)}}})(e.view),{priority:e.converterPriority||"normal"}),n.on(`removeMarker:${e.model}`,(function(s){return(l,d,u)=>{if(d.markerRange.isCollapsed)return;const m=Vl(s,d,u);if(!m)return;const g=we(u.writer,m),k=u.mapper.markerNameToElements(d.markerName);if(k){for(const _ of k)u.mapper.unbindElementFromMarkerName(_,d.markerName),_.is("attributeElement")?u.writer.unwrap(u.writer.createRangeOn(_),g):_.getCustomProperty("removeHighlight")(_,m.id,u.writer);u.writer.clearClonedElementsGroup(d.markerName),l.stop()}}})(e.view),{priority:e.converterPriority||"normal"})}})(t))}markerToData(t){return this.add((function(e){e=ji(e);const n=e.model;let i=e.view;return i||(i=s=>({group:n,name:s.substr(e.model.length+1)})),s=>{var l;s.on(`addMarker:${n}`,(l=i,(d,u,m)=>{const g=l(u.markerName,m);if(!g)return;const k=u.markerRange;m.consumable.consume(k,d.name)&&(id(k,!1,m,u,g),id(k,!0,m,u,g),d.stop())}),{priority:e.converterPriority||"normal"}),s.on(`removeMarker:${n}`,(function(d){return(u,m,g)=>{const k=d(m.markerName,g);if(!k)return;const _=g.mapper.markerNameToElements(m.markerName);if(_){for(const E of _)g.mapper.unbindElementFromMarkerName(E,m.markerName),E.is("containerElement")?(v(`data-${k.group}-start-before`,E),v(`data-${k.group}-start-after`,E),v(`data-${k.group}-end-before`,E),v(`data-${k.group}-end-after`,E)):g.writer.clear(g.writer.createRangeOn(E),E);g.writer.clearClonedElementsGroup(m.markerName),u.stop()}function v(E,z){if(z.hasAttribute(E)){const L=new Set(z.getAttribute(E).split(","));L.delete(k.name),L.size==0?g.writer.removeAttribute(E,z):g.writer.setAttribute(E,Array.from(L).join(","),z)}}}})(i),{priority:e.converterPriority||"normal"})}})(t))}}function we(o,t){const e=o.createAttributeElement("span",t.attributes);return t.classes&&e._addClass(t.classes),typeof t.priority=="number"&&(e._priority=t.priority),e._id=t.id,e}function di(o){return(t,e,n)=>{if(!n.consumable.test(e.item,t.name))return;const i=o(e.attributeOldValue,n,e),s=o(e.attributeNewValue,n,e);if(!i&&!s)return;n.consumable.consume(e.item,t.name);const l=n.writer,d=l.document.selection;if(e.item instanceof mn||e.item instanceof Fi)l.wrap(d.getFirstRange(),s);else{let u=n.mapper.toViewRange(e.range);e.attributeOldValue!==null&&i&&(u=l.unwrap(u,i)),e.attributeNewValue!==null&&s&&l.wrap(u,s)}}}function _r(o,t=yh){return(e,n,i)=>{if(!t(n.item,i.consumable,{preflight:!0}))return;const s=o(n.item,i,n);if(!s)return;t(n.item,i.consumable);const l=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(n.item,s),i.writer.insert(l,s),i.convertAttributes(n.item),ka(s,n.item.getChildren(),i,{reconversion:n.reconversion})}}function pa(o){return(t,e,n)=>{e.isOpening=!0;const i=o(e,n);e.isOpening=!1;const s=o(e,n);if(!i||!s)return;const l=e.markerRange;if(l.isCollapsed&&!n.consumable.consume(l,t.name))return;for(const m of l)if(!n.consumable.consume(m.item,t.name))return;const d=n.mapper,u=n.writer;u.insert(d.toViewPosition(l.start),i),n.mapper.bindElementToMarker(i,e.markerName),l.isCollapsed||(u.insert(d.toViewPosition(l.end),s),n.mapper.bindElementToMarker(s,e.markerName)),t.stop()}}function id(o,t,e,n,i){const s=t?o.start:o.end,l=s.nodeAfter&&s.nodeAfter.is("element")?s.nodeAfter:null,d=s.nodeBefore&&s.nodeBefore.is("element")?s.nodeBefore:null;if(l||d){let u,m;t&&l||!t&&!d?(u=l,m=!0):(u=d,m=!1);const g=e.mapper.toViewElement(u);if(g)return void(function(k,_,v,E,z,L){const F=`data-${L.group}-${_?"start":"end"}-${v?"before":"after"}`,G=k.hasAttribute(F)?k.getAttribute(F).split(","):[];G.unshift(L.name),E.writer.setAttribute(F,G.join(","),k),E.mapper.bindElementToMarker(k,z.markerName)})(g,t,m,e,n,i)}(function(u,m,g,k,_){const v=`${_.group}-${m?"start":"end"}`,E=_.name?{name:_.name}:null,z=g.writer.createUIElement(v,E);g.writer.insert(u,z),g.mapper.bindElementToMarker(z,k.markerName)})(e.mapper.toViewPosition(s),t,e,n,i)}function Ji(o){return typeof o=="string"&&(o={name:o}),{name:o.name,attributes:o.attributes?Yt(o.attributes):[],children:!!o.children}}function Ne(o,t){return typeof o=="function"?o:(e,n)=>(function(i,s,l){typeof i=="string"&&(i={name:i});let d;const u=s.writer,m=Object.assign({},i.attributes);if(l=="container")d=u.createContainerElement(i.name,m);else if(l=="attribute"){const g={priority:i.priority||ls.DEFAULT_PRIORITY};d=u.createAttributeElement(i.name,m,g)}else d=u.createUIElement(i.name,m);if(i.styles){const g=Object.keys(i.styles);for(const k of g)u.setStyle(k,i.styles[k],d)}if(i.classes){const g=i.classes;if(typeof g=="string")u.addClass(g,d);else for(const k of g)u.addClass(k,d)}return d})(o,n,t)}function No(o){return o.model.values?(t,e,n)=>{const i=o.view[t];return i?i(t,e,n):null}:o.view}function Cr(o){return typeof o=="string"?t=>({key:o,value:t}):typeof o=="object"?o.value?()=>o:t=>({key:o.key,value:t}):o}function Vl(o,t,e){const n=typeof o=="function"?o(t,e):o;return n?(n.priority||(n.priority=10),n.id||(n.id=t.markerName),n):null}function Kn(o){const t=(function(e){return(n,i)=>{if(!n.is("element",e.name))return!1;if(i.type=="attribute"){if(e.attributes.includes(i.attributeKey))return!0}else if(e.children)return!0;return!1}})(o);return(e,n)=>{const i=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const s of n.changes){const l=s.type=="attribute"?s.range.start.nodeAfter:s.position.parent;if(l&&t(l,s)){if(!n.reconvertedElements.has(l)){n.reconvertedElements.add(l);const d=mt._createBefore(l);let u=i.length;for(let m=i.length-1;m>=0;m--){const g=i[m],k=(g.type=="attribute"?g.range.start:g.position).compareWith(d);if(k=="before"||g.type=="remove"&&k=="same")break;u=m}i.splice(u,0,{type:"remove",name:l.name,position:d,length:1},{type:"reinsert",name:l.name,position:d,length:1})}}else i.push(s)}n.changes=i}}function gs(o){return(t,e,n={})=>{const i=["insert"];for(const s of o.attributes)t.hasAttribute(s)&&i.push(`attribute:${s}`);return!!i.every((s=>e.test(t,s)))&&(n.preflight||i.forEach((s=>e.consume(t,s))),!0)}}function ka(o,t,e,n){for(const i of t)Yn(o.root,i,e,n)||e.convertItem(i)}function Yn(o,t,e,n){const{writer:i,mapper:s}=e;if(!n.reconversion)return!1;const l=s.toViewElement(t);return!(!l||l.root==o)&&!!e.canReuseView(l)&&(i.move(i.createRangeOn(l),s.toViewPosition(mt._createBefore(t))),!0)}function yh(o,t,{preflight:e}={}){return e?t.test(o,"insert"):t.consume(o,"insert")}function Ul(o){const{schema:t,document:e}=o.model;for(const n of e.getRoots())if(n.isEmpty&&!t.checkChild(n,"$text")&&t.checkChild(n,"paragraph"))return o.insertElement("paragraph",n),!0;return!1}function xh(o,t,e){const n=e.createContext(o);return!!e.checkChild(n,"paragraph")&&!!e.checkChild(n.push("paragraph"),t)}function Hl(o,t){const e=t.createElement("paragraph");return t.insert(e,o),t.createPositionAt(e,0)}class od extends Qt{elementToElement(t){return this.add(zo(t))}elementToAttribute(t){return this.add((function(e){e=ji(e),ps(e);const n=to(e,!1),i=He(e.view),s=i?`element:${i}`:"element";return l=>{l.on(s,n,{priority:e.converterPriority||"low"})}})(t))}attributeToAttribute(t){return this.add((function(e){e=ji(e);let n=null;(typeof e.view=="string"||e.view.key)&&(n=(function(s){typeof s.view=="string"&&(s.view={key:s.view});const l=s.view.key,d=s.view.value===void 0?/[\s\S]*/:s.view.value;let u;return l=="class"||l=="style"?u={[l=="class"?"classes":"styles"]:d}:u={attributes:{[l]:d}},s.view.name&&(u.name=s.view.name),s.view=u,l})(e)),ps(e,n);const i=to(e,!0);return s=>{s.on("element",i,{priority:e.converterPriority||"low"})}})(t))}elementToMarker(t){return this.add((function(e){const n=(function(i){return(s,l)=>{const d=typeof i=="string"?i:i(s,l);return l.writer.createElement("$marker",{"data-name":d})}})(e.model);return zo({...e,model:n})})(t))}dataToMarker(t){return this.add((function(e){e=ji(e),e.model||(e.model=l=>l?e.view+":"+l:e.view);const n={view:e.view,model:e.model},i=Xi(rd(n,"start")),s=Xi(rd(n,"end"));return l=>{l.on(`element:${e.view}-start`,i,{priority:e.converterPriority||"normal"}),l.on(`element:${e.view}-end`,s,{priority:e.converterPriority||"normal"});const d=Rt.low,u=Rt.highest,m=Rt.get(e.converterPriority)/u;l.on("element",(function(g){return(k,_,v)=>{const E=`data-${g.view}`;function z(L,F){for(const G of F){const X=g.model(G,v),lt=v.writer.createElement("$marker",{"data-name":X});v.writer.insert(lt,L),_.modelCursor.isEqual(L)?_.modelCursor=_.modelCursor.getShiftedBy(1):_.modelCursor=_.modelCursor._getTransformedByInsertion(L,1),_.modelRange=_.modelRange._getTransformedByInsertion(L,1)[0]}}(v.consumable.test(_.viewItem,{attributes:E+"-end-after"})||v.consumable.test(_.viewItem,{attributes:E+"-start-after"})||v.consumable.test(_.viewItem,{attributes:E+"-end-before"})||v.consumable.test(_.viewItem,{attributes:E+"-start-before"}))&&(_.modelRange||Object.assign(_,v.convertChildren(_.viewItem,_.modelCursor)),v.consumable.consume(_.viewItem,{attributes:E+"-end-after"})&&z(_.modelRange.end,_.viewItem.getAttribute(E+"-end-after").split(",")),v.consumable.consume(_.viewItem,{attributes:E+"-start-after"})&&z(_.modelRange.end,_.viewItem.getAttribute(E+"-start-after").split(",")),v.consumable.consume(_.viewItem,{attributes:E+"-end-before"})&&z(_.modelRange.start,_.viewItem.getAttribute(E+"-end-before").split(",")),v.consumable.consume(_.viewItem,{attributes:E+"-start-before"})&&z(_.modelRange.start,_.viewItem.getAttribute(E+"-start-before").split(",")))}})(n),{priority:d+m})}})(t))}}function zo(o){const t=Xi(o=ji(o)),e=He(o.view),n=e?`element:${e}`:"element";return i=>{i.on(n,t,{priority:o.converterPriority||"normal"})}}function He(o){return typeof o=="string"?o:typeof o=="object"&&typeof o.name=="string"?o.name:null}function Xi(o){const t=new xn(o.view);return(e,n,i)=>{const s=t.match(n.viewItem);if(!s)return;const l=s.match;if(l.name=!0,!i.consumable.test(n.viewItem,l))return;const d=(function(u,m,g){return u instanceof Function?u(m,g):g.writer.createElement(u)})(o.model,n.viewItem,i);d&&i.safeInsert(d,n.modelCursor)&&(i.consumable.consume(n.viewItem,l),i.convertChildren(n.viewItem,d),i.updateConversionResult(d,n))}}function ps(o,t=null){const e=t===null||(s=>s.getAttribute(t)),n=typeof o.model!="object"?o.model:o.model.key,i=typeof o.model!="object"||o.model.value===void 0?e:o.model.value;o.model={key:n,value:i}}function to(o,t){const e=new xn(o.view);return(n,i,s)=>{if(!i.modelRange&&t)return;const l=e.match(i.viewItem);if(!l||((function(g,k){const _=typeof g=="function"?g(k):g;return typeof _=="object"&&!He(_)?!1:!_.classes&&!_.attributes&&!_.styles})(o.view,i.viewItem)?l.match.name=!0:delete l.match.name,!s.consumable.test(i.viewItem,l.match)))return;const d=o.model.key,u=typeof o.model.value=="function"?o.model.value(i.viewItem,s):o.model.value;if(u===null)return;i.modelRange||Object.assign(i,s.convertChildren(i.viewItem,i.modelCursor)),(function(g,k,_,v){let E=!1;for(const z of Array.from(g.getItems({shallow:_})))v.schema.checkAttribute(z,k.key)&&(E=!0,z.hasAttribute(k.key)||v.writer.setAttribute(k.key,k.value,z));return E})(i.modelRange,{key:d,value:u},t,s)&&(s.consumable.test(i.viewItem,{name:!0})&&(l.match.name=!0),s.consumable.consume(i.viewItem,l.match))}}function rd(o,t){return{view:`${o.view}-${t}`,model:(e,n)=>{const i=e.getAttribute("name"),s=o.model(i,n);return n.writer.createElement("$marker",{"data-name":s})}}}function Eh(o){o.document.registerPostFixer((t=>(function(e,n){const i=n.document.selection,s=n.schema,l=[];let d=!1;for(const u of i.getRanges()){const m=Dh(u,s);m&&!m.isEqual(u)?(l.push(m),d=!0):l.push(u)}return d&&e.setSelection((function(u){const m=[...u],g=new Set;let k=1;for(;k<m.length;){const _=m[k],v=m.slice(0,k);for(const[E,z]of v.entries())if(!g.has(E)){if(_.isEqual(z))g.add(E);else if(_.isIntersecting(z)){g.add(E),g.add(k);const L=_.getJoined(z);m.push(L)}}k++}return m.filter(((_,v)=>!g.has(v)))})(l),{backward:i.isBackward}),!1})(t,o)))}function Dh(o,t){return o.isCollapsed?(function(e,n){const i=e.start,s=n.getNearestSelectionRange(i);if(!s){const d=i.getAncestors().reverse().find((u=>n.isObject(u)));return d?Z._createOn(d):null}if(!s.isCollapsed)return s;const l=s.start;return i.isEqual(l)?null:new Z(l)})(o,t):(function(e,n){const{start:i,end:s}=e,l=n.checkChild(i,"$text"),d=n.checkChild(s,"$text"),u=n.getLimitElement(i),m=n.getLimitElement(s);if(u===m){if(l&&d)return null;if((function(_,v,E){const z=_.nodeAfter&&!E.isLimit(_.nodeAfter)||E.checkChild(_,"$text"),L=v.nodeBefore&&!E.isLimit(v.nodeBefore)||E.checkChild(v,"$text");return z||L})(i,s,n)){const _=i.nodeAfter&&n.isSelectable(i.nodeAfter)?null:n.getNearestSelectionRange(i,"forward"),v=s.nodeBefore&&n.isSelectable(s.nodeBefore)?null:n.getNearestSelectionRange(s,"backward"),E=_?_.start:i,z=v?v.end:s;return new Z(E,z)}}const g=u&&!u.is("rootElement"),k=m&&!m.is("rootElement");if(g||k){const _=i.nodeAfter&&s.nodeBefore&&i.nodeAfter.parent===s.nodeBefore.parent,v=g&&(!_||!sd(i.nodeAfter,n)),E=k&&(!_||!sd(s.nodeBefore,n));let z=i,L=s;return v&&(z=mt._createBefore(ba(u,n))),E&&(L=mt._createAfter(ba(m,n))),new Z(z,L)}return null})(o,t)}function ba(o,t){let e=o,n=e;for(;t.isLimit(n)&&n.parent;)e=n,n=n.parent;return e}function sd(o,t){return o&&t.isSelectable(o)}class ui extends ge(){model;view;mapper;downcastDispatcher;constructor(t,e){super(),this.model=t,this.view=new $f(e),this.mapper=new Ar,this.downcastDispatcher=new Xc({mapper:this.mapper,schema:t.schema});const n=this.model.document,i=n.selection,s=this.model.markers;var l,d,u;this.listenTo(this.model,"_beforeChanges",(()=>{this.view._disableRendering(!0)}),{priority:"highest"}),this.listenTo(this.model,"_afterChanges",(()=>{this.view._disableRendering(!1)}),{priority:"lowest"}),this.listenTo(n,"change",(()=>{this.view.change((m=>{this.downcastDispatcher.convertChanges(n.differ,s,m),this.downcastDispatcher.convertSelection(i,s,m)}))}),{priority:"low"}),this.listenTo(this.view.document,"selectionChange",(function(m,g){return(k,_)=>{const v=_.newSelection,E=[];for(const L of v.getRanges())E.push(g.toModelRange(L));const z=m.createSelection(E,{backward:v.isBackward});z.isEqual(m.document.selection)||m.change((L=>{L.setSelection(z)}))}})(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(l=this.mapper,d=this.model.schema,u=this.view,(m,g)=>{if(!u.document.isComposing||N.isAndroid)for(let k=0;k<g.targetRanges.length;k++){const _=g.targetRanges[k],v=l.toModelRange(_),E=Dh(v,d);E&&!E.isEqual(v)&&(g.targetRanges[k]=l.toViewRange(E))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",((m,g,k)=>{if(!k.consumable.consume(g.item,m.name))return;const _=k.writer,v=k.mapper.toViewPosition(g.range.start),E=_.createText(g.item.data);_.insert(v,E)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((m,g,k)=>{k.convertAttributes(g.item),g.reconversion||!g.item.is("element")||g.item.isEmpty||k.convertChildren(g.item)}),{priority:"lowest"}),this.downcastDispatcher.on("remove",((m,g,k)=>{const _=k.mapper.toViewPosition(g.position),v=g.position.getShiftedBy(g.length),E=k.mapper.toViewPosition(v,{isPhantom:!0}),z=k.writer.createRange(_,E),L=k.writer.remove(z.getTrimmed());for(const F of k.writer.createRangeIn(L).getItems())k.mapper.unbindViewElement(F,{defer:!0})}),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",((m,g,k)=>{const _=k.writer,v=_.document.selection;for(const E of v.getRanges())E.isCollapsed&&E.end.parent.isAttached()&&k.writer.mergeAttributes(E.start);_.setSelection(null)})),this.downcastDispatcher.on("selection",((m,g,k)=>{const _=g.selection;if(_.isCollapsed||!k.consumable.consume(_,"selection"))return;const v=[];for(const E of _.getRanges())v.push(k.mapper.toViewRange(E));k.writer.setSelection(v,{backward:_.isBackward})}),{priority:"low"}),this.downcastDispatcher.on("selection",((m,g,k)=>{const _=g.selection;if(!_.isCollapsed||!k.consumable.consume(_,"selection"))return;const v=k.writer,E=_.getFirstPosition(),z=k.mapper.toViewPosition(E),L=v.breakAttributes(z);v.setSelection(L)}),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using((m=>{if(m.rootName=="$graveyard")return null;const g=new Ku(this.view.document,m.name);return g.rootName=m.rootName,this.mapper.bindElements(m,g),g}))}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(t){const e=typeof t=="string"?t:t.name,n=this.model.markers.get(e);if(!n)throw new H("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:e});this.model.change((()=>{this.model.markers._refresh(n)}))}reconvertItem(t){this.model.change((()=>{this.model.document.differ._refreshItem(t)}))}}class wa{_consumables=new Map;add(t,e){let n;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new Xf(t),this._consumables.set(t,n)),n.add(e))}test(t,e){const n=this._consumables.get(t);return n===void 0?null:t.is("$text")||t.is("documentFragment")?n:n.test(e)}consume(t,e){return!!this.test(t,e)&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}revert(t,e){const n=this._consumables.get(t);n!==void 0&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}static consumablesFromElement(t){const e={element:t,name:!0,attributes:[],classes:[],styles:[]},n=t.getAttributeKeys();for(const l of n)l!="style"&&l!="class"&&e.attributes.push(l);const i=t.getClassNames();for(const l of i)e.classes.push(l);const s=t.getStyleNames();for(const l of s)e.styles.push(l);return e}static createFrom(t,e){if(e||(e=new wa),t.is("$text"))return e.add(t),e;t.is("element")&&e.add(t,wa.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);for(const n of t.getChildren())e=wa.createFrom(n,e);return e}}const bn=["attributes","classes","styles"];class Xf{element;_canConsumeName;_consumables;constructor(t){this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e of bn)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e of bn)if(e in t){const n=this._test(e,t[e]);if(n!==!0)return n}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e of bn)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e of bn)e in t&&this._revert(e,t[e])}_add(t,e){const n=Yt(e),i=this._consumables[t];for(const s of n){if(t==="attributes"&&(s==="class"||s==="style"))throw new H("viewconsumable-invalid-attribute",this);if(i.set(s,!0),t==="styles")for(const l of this.element.document.stylesProcessor.getRelatedStyles(s))i.set(l,!0)}}_test(t,e){const n=Yt(e),i=this._consumables[t];for(const s of n)if(t!=="attributes"||s!=="class"&&s!=="style"){const l=i.get(s);if(l===void 0)return null;if(!l)return!1}else{const l=s=="class"?"classes":"styles",d=this._test(l,[...this._consumables[l].keys()]);if(d!==!0)return d}return!0}_consume(t,e){const n=Yt(e),i=this._consumables[t];for(const s of n)if(t!=="attributes"||s!=="class"&&s!=="style"){if(i.set(s,!1),t=="styles")for(const l of this.element.document.stylesProcessor.getRelatedStyles(s))i.set(l,!1)}else{const l=s=="class"?"classes":"styles";this._consume(l,[...this._consumables[l].keys()])}}_revert(t,e){const n=Yt(e),i=this._consumables[t];for(const s of n)if(t!=="attributes"||s!=="class"&&s!=="style")i.get(s)===!1&&i.set(s,!0);else{const l=s=="class"?"classes":"styles";this._revert(l,[...this._consumables[l].keys()])}}}class tg extends ge(){_sourceDefinitions={};_attributeProperties={};_compiledDefinitions;constructor(){super(),this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",((t,e)=>{e[0]=new ks(e[0])}),{priority:"highest"}),this.on("checkChild",((t,e)=>{e[0]=new ks(e[0]),e[1]=this.getDefinition(e[1])}),{priority:"highest"})}register(t,e){if(this._sourceDefinitions[t])throw new H("schema-cannot-register-item-twice",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t])throw new H("schema-cannot-extend-missing-item",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let e;return e=typeof t=="string"?t:"is"in t&&(t.is("$text")||t.is("$textProxy"))?"$text":t.name,this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!(!e||!e.isBlock)}isLimit(t){const e=this.getDefinition(t);return!!e&&!(!e.isLimit&&!e.isObject)}isObject(t){const e=this.getDefinition(t);return!!e&&!!(e.isObject||e.isLimit&&e.isSelectable&&e.isContent)}isInline(t){const e=this.getDefinition(t);return!(!e||!e.isInline)}isSelectable(t){const e=this.getDefinition(t);return!!e&&!(!e.isSelectable&&!e.isObject)}isContent(t){const e=this.getDefinition(t);return!!e&&!(!e.isContent&&!e.isObject)}checkChild(t,e){return!!e&&this._checkContextMatch(e,t)}checkAttribute(t,e){const n=this.getDefinition(t.last);return!!n&&n.allowAttributes.includes(e)}checkMerge(t,e){if(t instanceof mt){const n=t.nodeBefore,i=t.nodeAfter;if(!(n instanceof be))throw new H("schema-check-merge-no-element-before",this);if(!(i instanceof be))throw new H("schema-check-merge-no-element-after",this);return this.checkMerge(n,i)}for(const n of e.getChildren())if(!this.checkChild(t,n))return!1;return!0}addChildCheck(t){this.on("checkChild",((e,[n,i])=>{if(!i)return;const s=t(n,i);typeof s=="boolean"&&(e.stop(),e.return=s)}),{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",((e,[n,i])=>{const s=t(n,i);typeof s=="boolean"&&(e.stop(),e.return=s)}),{priority:"high"})}setAttributeProperties(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let e;for(t instanceof mt?e=t.parent:e=(t instanceof Z?[t]:Array.from(t.getRanges())).reduce(((n,i)=>{const s=i.getCommonAncestor();return n?n.getCommonAncestor(s,{includeSelf:!0}):s}),null);!this.isLimit(e)&&e.parent;)e=e.parent;return e}checkAttributeInSelection(t,e){if(t.isCollapsed){const n=[...t.getFirstPosition().getAncestors(),new Xt("",t.getAttributes())];return this.checkAttribute(n,e)}{const n=t.getRanges();for(const i of n)for(const s of i)if(this.checkAttribute(s.item,e))return!0}return!1}*getValidRanges(t,e){t=(function*(n){for(const i of n)yield*i.getMinimalFlatRanges()})(t);for(const n of t)yield*this._getValidRangesForRange(n,e)}getNearestSelectionRange(t,e="both"){if(t.root.rootName=="$graveyard")return null;if(this.checkChild(t,"$text"))return new Z(t);let n,i;const s=t.getAncestors().reverse().find((l=>this.isLimit(l)))||t.root;e!="both"&&e!="backward"||(n=new Zi({boundaries:Z._createIn(s),startPosition:t,direction:"backward"})),e!="both"&&e!="forward"||(i=new Zi({boundaries:Z._createIn(s),startPosition:t}));for(const l of(function*(d,u){let m=!1;for(;!m;){if(m=!0,d){const g=d.next();g.done||(m=!1,yield{walker:d,value:g.value})}if(u){const g=u.next();g.done||(m=!1,yield{walker:u,value:g.value})}}})(n,i)){const d=l.walker==n?"elementEnd":"elementStart",u=l.value;if(u.type==d&&this.isObject(u.item))return Z._createOn(u.item);if(this.checkChild(u.nextPosition,"$text"))return new Z(u.nextPosition)}return null}findAllowedParent(t,e){let n=t.parent;for(;n;){if(this.checkChild(n,e))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(t,e,n){const i=n.model;for(const[s,l]of Object.entries(e))i.schema.checkAttribute(t,s)&&n.setAttribute(s,l,t)}removeDisallowedAttributes(t,e){for(const n of t)if(n.is("$text"))rg(this,n,e);else{const i=Z._createIn(n).getPositions();for(const s of i)rg(this,s.nodeBefore||s.parent,e)}}getAttributesWithProperty(t,e,n){const i={};for(const[s,l]of t.getAttributes()){const d=this.getAttributeProperties(s);d[e]!==void 0&&(n!==void 0&&n!==d[e]||(i[s]=l))}return i}createContext(t){return new ks(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},e=this._sourceDefinitions,n=Object.keys(e);for(const s of n)t[s]=vr(e[s],s);const i=Object.values(t);for(const s of i)ad(t,s),Sh(t,s),Aa(t,s),eg(t,s);for(const s of i)ng(t,s);for(const s of i)ig(t,s);for(const s of i)og(t,s);for(const s of i)ld(t,s);for(const s of i)Th(t,s);this._compiledDefinitions=(function(s){const l={};for(const d of Object.values(s))l[d.name]={name:d.name,isBlock:!!d.isBlock,isContent:!!d.isContent,isInline:!!d.isInline,isLimit:!!d.isLimit,isObject:!!d.isObject,isSelectable:!!d.isSelectable,allowIn:Array.from(d.allowIn).filter((u=>!!s[u])),allowChildren:Array.from(d.allowChildren).filter((u=>!!s[u])),allowAttributes:Array.from(d.allowAttributes)};return l})(t)}_checkContextMatch(t,e,n=e.length-1){const i=e.getItem(n);if(t.allowIn.includes(i.name)){if(n==0)return!0;{const s=this.getDefinition(i);return this._checkContextMatch(s,e,n-1)}}return!1}*_getValidRangesForRange(t,e){let n=t.start,i=t.start;for(const s of t.getItems({shallow:!0}))s.is("element")&&(yield*this._getValidRangesForRange(Z._createIn(s),e)),this.checkAttribute(s,e)||(n.isEqual(i)||(yield new Z(n,i)),n=mt._createAfter(s)),i=mt._createAfter(s);n.isEqual(i)||(yield new Z(n,i))}findOptimalInsertionRange(t,e){const n=t.getSelectedElement();if(n&&this.isObject(n)&&!this.isInline(n))return e=="before"||e=="after"?new Z(mt._createAt(n,e)):Z._createOn(n);const i=Ye(t.getSelectedBlocks());if(!i)return new Z(t.focus);if(i.isEmpty)return new Z(mt._createAt(i,0));const s=mt._createAfter(i);return t.focus.isTouching(s)?new Z(s):new Z(mt._createBefore(i))}}class ks{_items;constructor(t){if(t instanceof ks)return t;let e;e=typeof t=="string"?[t]:Array.isArray(t)?t:t.getAncestors({includeSelf:!0}),this._items=e.map(fk)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new ks([t]);return e._items=[...this._items,...e._items],e}getItem(t){return this._items[t]}*getNames(){yield*this._items.map((t=>t.name))}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function vr(o,t){const e={name:t,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return(function(n,i){for(const s of n){const l=Object.keys(s).filter((d=>d.startsWith("is")));for(const d of l)i[d]=!!s[d]}})(o,e),eo(o,e,"allowIn"),eo(o,e,"allowChildren"),eo(o,e,"disallowIn"),eo(o,e,"disallowChildren"),eo(o,e,"allowContentOf"),eo(o,e,"allowWhere"),eo(o,e,"allowAttributes"),eo(o,e,"disallowAttributes"),eo(o,e,"allowAttributesOf"),eo(o,e,"inheritTypesFrom"),(function(n,i){for(const s of n){const l=s.inheritAllFrom;l&&(i.allowContentOf.add(l),i.allowWhere.add(l),i.allowAttributesOf.add(l),i.inheritTypesFrom.add(l))}})(o,e),e}function ad(o,t){for(const e of t.allowIn){const n=o[e];n?n.allowChildren.add(t.name):t.allowIn.delete(e)}}function Sh(o,t){for(const e of t.allowChildren){const n=o[e];n?n.allowIn.add(t.name):t.allowChildren.delete(e)}}function Aa(o,t){for(const e of t.disallowIn){const n=o[e];n?n.disallowChildren.add(t.name):t.disallowIn.delete(e)}}function eg(o,t){for(const e of t.disallowChildren){const n=o[e];n?n.disallowIn.add(t.name):t.disallowChildren.delete(e)}}function ng(o,t){for(const e of t.disallowChildren)t.allowChildren.delete(e);for(const e of t.disallowIn)t.allowIn.delete(e);for(const e of t.disallowAttributes)t.allowAttributes.delete(e)}function ig(o,t){for(const e of t.allowContentOf){const n=o[e];n&&(n.disallowChildren.forEach((i=>{t.allowChildren.has(i)||(t.disallowChildren.add(i),o[i].disallowIn.add(t.name))})),n.allowChildren.forEach((i=>{t.disallowChildren.has(i)||(t.allowChildren.add(i),o[i].allowIn.add(t.name))})))}}function og(o,t){for(const e of t.allowWhere){const n=o[e];n&&(n.disallowIn.forEach((i=>{t.allowIn.has(i)||(t.disallowIn.add(i),o[i].disallowChildren.add(t.name))})),n.allowIn.forEach((i=>{t.disallowIn.has(i)||(t.allowIn.add(i),o[i].allowChildren.add(t.name))})))}}function ld(o,t){for(const e of t.allowAttributesOf){const n=o[e];if(!n)return;n.allowAttributes.forEach((i=>{t.disallowAttributes.has(i)||t.allowAttributes.add(i)}))}}function Th(o,t){for(const e of t.inheritTypesFrom){const n=o[e];if(n){const i=Object.keys(n).filter((s=>s.startsWith("is")));for(const s of i)s in t||(t[s]=n[s])}}}function eo(o,t,e){for(const n of o){let i=n[e];typeof i=="string"&&(i=[i]),Array.isArray(i)&&i.forEach((s=>t[e].add(s)))}}function fk(o){return typeof o=="string"||o.is("documentFragment")?{name:typeof o=="string"?o:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:o.is("element")?o.name:"$text",*getAttributeKeys(){yield*o.getAttributeKeys()},getAttribute:t=>o.getAttribute(t)}}function rg(o,t,e){for(const n of t.getAttributeKeys())o.checkAttribute(t,n)||e.removeAttribute(n,t)}class sg extends yt(){conversionApi;_splitParts=new Map;_cursorParents=new Map;_modelCursor=null;_emptyElementsToKeep=new Set;constructor(t){super(),this.conversionApi={...t,consumable:null,writer:null,store:null,convertItem:(e,n)=>this._convertItem(e,n),convertChildren:(e,n)=>this._convertChildren(e,n),safeInsert:(e,n)=>this._safeInsert(e,n),updateConversionResult:(e,n)=>this._updateConversionResult(e,n),splitToAllowedParent:(e,n)=>this._splitToAllowedParent(e,n),getSplitParts:e=>this._getSplitParts(e),keepEmptyElement:e=>this._keepEmptyElement(e)}}convert(t,e,n=["$root"]){this.fire("viewCleanup",t),this._modelCursor=(function(l,d){let u;for(const m of new ks(l)){const g={};for(const _ of m.getAttributeKeys())g[_]=m.getAttribute(_);const k=d.createElement(m.name,g);u&&d.insert(k,u),u=mt._createAt(k,0)}return u})(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=wa.createFrom(t),this.conversionApi.store={};const{modelRange:i}=this._convertItem(t,this._modelCursor),s=e.createDocumentFragment();if(i){this._removeEmptyElements();for(const l of Array.from(this._modelCursor.parent.getChildren()))e.append(l,s);s.markers=(function(l,d){const u=new Set,m=new Map,g=Z._createIn(l).getItems();for(const k of g)k.is("element","$marker")&&u.add(k);for(const k of u){const _=k.getAttribute("data-name"),v=d.createPositionBefore(k);m.has(_)?m.get(_).end=v.clone():m.set(_,new Z(v.clone())),d.remove(k)}return m})(s,e)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,s}_convertItem(t,e){const n={viewItem:t,modelCursor:e,modelRange:null};if(t.is("element")?this.fire(`element:${t.name}`,n,this.conversionApi):t.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof Z))throw new H("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(t,e){let n=e.is("position")?e:mt._createAt(e,0);const i=new Z(n);for(const s of Array.from(t.getChildren())){const l=this._convertItem(s,n);l.modelRange instanceof Z&&(i.end=l.modelRange.end,n=l.modelCursor)}return{modelRange:i,modelCursor:n}}_safeInsert(t,e){const n=this._splitToAllowedParent(t,e);return!!n&&(this.conversionApi.writer.insert(t,n.position),!0)}_updateConversionResult(t,e){const n=this._getSplitParts(t),i=this.conversionApi.writer;e.modelRange||(e.modelRange=i.createRange(i.createPositionBefore(t),i.createPositionAfter(n[n.length-1])));const s=this._cursorParents.get(t);e.modelCursor=s?i.createPositionAt(s,0):e.modelRange.end}_splitToAllowedParent(t,e){const{schema:n,writer:i}=this.conversionApi;let s=n.findAllowedParent(e,t);if(s){if(s===e.parent)return{position:e};this._modelCursor.parent.getAncestors().includes(s)&&(s=null)}if(!s)return xh(e,t,n)?{position:Hl(e,i)}:null;const l=this.conversionApi.writer.split(e,s),d=[];for(const m of l.range.getWalker())if(m.type=="elementEnd")d.push(m.item);else{const g=d.pop(),k=m.item;this._registerSplitPair(g,k)}const u=l.range.end.parent;return this._cursorParents.set(t,u),{position:l.position,cursorParent:u}}_registerSplitPair(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);const n=this._splitParts.get(t);this._splitParts.set(e,n),n.push(e)}_getSplitParts(t){let e;return e=this._splitParts.has(t)?this._splitParts.get(t):[t],e}_keepEmptyElement(t){this._emptyElementsToKeep.add(t)}_removeEmptyElements(){let t=!1;for(const e of this._splitParts.keys())e.isEmpty&&!this._emptyElementsToKeep.has(e)&&(this.conversionApi.writer.remove(e),this._splitParts.delete(e),t=!0);t&&this._removeEmptyElements()}}class ag{getHtml(t){const e=S.document.implementation.createHTMLDocument("").createElement("div");return e.appendChild(t),e.innerHTML}}class _a{domParser;domConverter;htmlWriter;skipComments=!0;constructor(t){this.domParser=new DOMParser,this.domConverter=new Bl(t,{renderingMode:"data"}),this.htmlWriter=new ag}toData(t){const e=this.domConverter.viewToDom(t);return this.htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this.domConverter.domToView(e,{skipComments:this.skipComments})}registerRawContentMatcher(t){this.domConverter.registerRawContentMatcher(t)}useFillerType(t){this.domConverter.blockFillerMode=t=="marked"?"markedNbsp":"nbsp"}_toDom(t){t.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(t=`<body>${t}</body>`);const e=this.domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),i=e.body.childNodes;for(;i.length>0;)n.appendChild(i[0]);return n}}class cd extends yt(){model;mapper;downcastDispatcher;upcastDispatcher;viewDocument;stylesProcessor;htmlProcessor;processor;_viewWriter;constructor(t,e){super(),this.model=t,this.mapper=new Ar,this.downcastDispatcher=new Xc({mapper:this.mapper,schema:t.schema}),this.downcastDispatcher.on("insert:$text",((n,i,s)=>{if(!s.consumable.consume(i.item,n.name))return;const l=s.writer,d=s.mapper.toViewPosition(i.range.start),u=l.createText(i.item.data);l.insert(d,u)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((n,i,s)=>{s.convertAttributes(i.item),i.reconversion||!i.item.is("element")||i.item.isEmpty||s.convertChildren(i.item)}),{priority:"lowest"}),this.upcastDispatcher=new sg({schema:t.schema}),this.viewDocument=new El(e),this.stylesProcessor=e,this.htmlProcessor=new _a(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new qc(this.viewDocument),this.upcastDispatcher.on("text",((n,i,{schema:s,consumable:l,writer:d})=>{let u=i.modelCursor;if(!l.test(i.viewItem))return;if(!s.checkChild(u,"$text")){if(!xh(u,"$text",s)||i.viewItem.data.trim().length==0)return;const g=u.nodeBefore;u=Hl(u,d),g&&g.is("element","$marker")&&(d.move(d.createRangeOn(g),u),u=d.createPositionAfter(g))}l.consume(i.viewItem);const m=d.createText(i.viewItem.data);d.insert(m,u),i.modelRange=d.createRange(u,u.getShiftedBy(m.offsetSize)),i.modelCursor=i.modelRange.end}),{priority:"lowest"}),this.upcastDispatcher.on("element",((n,i,s)=>{if(!i.modelRange&&s.consumable.consume(i.viewItem,{name:!0})){const{modelRange:l,modelCursor:d}=s.convertChildren(i.viewItem,i.modelCursor);i.modelRange=l,i.modelCursor=d}}),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",((n,i,s)=>{if(!i.modelRange&&s.consumable.consume(i.viewItem,{name:!0})){const{modelRange:l,modelCursor:d}=s.convertChildren(i.viewItem,i.modelCursor);i.modelRange=l,i.modelCursor=d}}),{priority:"lowest"}),ge().prototype.decorate.call(this,"init"),ge().prototype.decorate.call(this,"set"),ge().prototype.decorate.call(this,"get"),ge().prototype.decorate.call(this,"toView"),ge().prototype.decorate.call(this,"toModel"),this.on("init",(()=>{this.fire("ready")}),{priority:"lowest"}),this.on("ready",(()=>{this.model.enqueueChange({isUndoable:!1},Ul)}),{priority:"lowest"})}get(t={}){const{rootName:e="main",trim:n="empty"}=t;if(!this._checkIfRootsExists([e]))throw new H("datacontroller-get-non-existent-root",this);const i=this.model.document.getRoot(e);return i.isAttached()||Bt("datacontroller-get-detached-root",this),n!=="empty"||this.model.hasContent(i,{ignoreWhitespaces:!0})?this.stringify(i,t):""}stringify(t,e={}){const n=this.toView(t,e);return this.processor.toData(n)}toView(t,e={}){const n=this.viewDocument,i=this._viewWriter;this.mapper.clearBindings();const s=Z._createIn(t),l=new kr(n);this.mapper.bindElements(t,l);const d=t.is("documentFragment")?t.markers:(function(u){const m=[],g=u.root.document;if(!g)return new Map;const k=Z._createIn(u);for(const _ of g.model.markers){const v=_.getRange(),E=v.isCollapsed,z=v.start.isEqual(k.start)||v.end.isEqual(k.end);if(E&&z)m.push([_.name,v]);else{const L=k.getIntersection(v);L&&m.push([_.name,L])}}return m.sort((([_,v],[E,z])=>{if(v.end.compareWith(z.start)!=="after")return 1;if(v.start.compareWith(z.end)!=="before")return-1;switch(v.start.compareWith(z.start)){case"before":return 1;case"after":return-1;default:switch(v.end.compareWith(z.end)){case"before":return 1;case"after":return-1;default:return E.localeCompare(_)}}})),new Map(m)})(t);return this.downcastDispatcher.convert(s,d,i,e),l}init(t){if(this.model.document.version)throw new H("datacontroller-init-document-not-empty",this);let e={};if(typeof t=="string"?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new H("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},(n=>{for(const i of Object.keys(e)){const s=this.model.document.getRoot(i);n.insert(this.parse(e[i],s),s,0)}})),Promise.resolve()}set(t,e={}){let n={};if(typeof t=="string"?n.main=t:n=t,!this._checkIfRootsExists(Object.keys(n)))throw new H("datacontroller-set-non-existent-root",this);this.model.enqueueChange(e.batchType||{},(i=>{i.setSelection(null),i.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const s of Object.keys(n)){const l=this.model.document.getRoot(s);i.remove(i.createRangeIn(l)),i.insert(this.parse(n[s],l),l,0)}}))}parse(t,e="$root"){const n=this.processor.toView(t);return this.toModel(n,e)}toModel(t,e="$root"){return this.model.change((n=>this.upcastDispatcher.convert(t,n,e)))}addStyleProcessorRules(t){t(this.stylesProcessor)}registerRawContentMatcher(t){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(t),this.htmlProcessor.registerRawContentMatcher(t)}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const e of t)if(!this.model.document.getRoot(e))return!1;return!0}}class lg{_helpers=new Map;_downcast;_upcast;constructor(t,e){this._downcast=Yt(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Yt(e),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const n=this._downcast.includes(e);if(!this._upcast.includes(e)&&!n)throw new H("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:n})}for(t){if(!this._helpers.has(t))throw new H("conversion-for-unknown-group",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:n}of dd(t))this.for("upcast").elementToElement({model:e,view:n,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:n}of dd(t))this.for("upcast").elementToAttribute({view:n,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:n}of dd(t))this.for("upcast").attributeToAttribute({view:n,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:n}){if(this._helpers.has(t))throw new H("conversion-group-exists",this);const i=n?new te(e):new od(e);this._helpers.set(t,i)}}function*dd(o){if(o.model.values)for(const t of o.model.values){const e={key:o.model.key,value:t},n=o.view[t],i=o.upcastAlso?o.upcastAlso[t]:void 0;yield*Mh(e,n,i)}else yield*Mh(o.model,o.view,o.upcastAlso)}function*Mh(o,t,e){if(yield{model:o,view:t},e)for(const n of Yt(e))yield{model:o,view:n}}class Qn{baseVersion;isDocumentOperation;batch;constructor(t){this.baseVersion=t,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t,e){return new this(t.baseVersion)}}function ud(o,t){const e=Ih(t),n=e.reduce(((l,d)=>l+d.offsetSize),0),i=o.parent;oe(o);const s=o.index;return i._insertChild(s,e),Ca(i,s+e.length),Ca(i,s),new Z(o,o.getShiftedBy(n))}function Bh(o){if(!o.isFlat)throw new H("operation-utils-remove-range-not-flat",this);const t=o.start.parent;oe(o.start),oe(o.end);const e=t._removeChildren(o.start.index,o.end.index-o.start.index);return Ca(t,o.start.index),e}function yr(o,t){if(!o.isFlat)throw new H("operation-utils-move-range-not-flat",this);const e=Bh(o);return ud(t=t._getTransformedByDeletion(o.start,o.end.offset-o.start.offset),e)}function Ih(o){const t=[];(function e(n){if(typeof n=="string")t.push(new Xt(n));else if(n instanceof xi)t.push(new Xt(n.data,n.getAttributes()));else if(n instanceof ke)t.push(n);else if(ti(n))for(const i of n)e(i)})(o);for(let e=1;e<t.length;e++){const n=t[e],i=t[e-1];n instanceof Xt&&i instanceof Xt&&hd(n,i)&&(t.splice(e-1,2,new Xt(i.data+n.data,i.getAttributes())),e--)}return t}function Ca(o,t){const e=o.getChild(t-1),n=o.getChild(t);if(e&&n&&e.is("$text")&&n.is("$text")&&hd(e,n)){const i=new Xt(e.data+n.data,e.getAttributes());o._removeChildren(t-1,2),o._insertChild(t-1,i)}}function oe(o){const t=o.textNode,e=o.parent;if(t){const n=o.offset-t.startOffset,i=t.index;e._removeChildren(i,1);const s=new Xt(t.data.substr(0,n),t.getAttributes()),l=new Xt(t.data.substr(n),t.getAttributes());e._insertChild(i,[s,l])}}function hd(o,t){const e=o.getAttributes(),n=t.getAttributes();for(const i of e){if(i[1]!==t.getAttribute(i[0]))return!1;n.next()}return n.next().done}class re extends Qn{sourcePosition;howMany;targetPosition;constructor(t,e,n,i){super(i),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Z._createFromPositionAndShift(this.sourcePosition,this.howMany),Z._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new re(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new re(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,i=this.targetPosition.offset;if(n+this.howMany>t.maxOffset)throw new H("move-operation-nodes-do-not-exist",this);if(t===e&&n<i&&i<n+this.howMany)throw new H("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&sn(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const s=this.sourcePosition.path.length-1;if(this.targetPosition.path[s]>=n&&this.targetPosition.path[s]<n+this.howMany)throw new H("move-operation-node-into-itself",this)}}_execute(){yr(Z._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,e){const n=mt.fromJSON(t.sourcePosition,e),i=mt.fromJSON(t.targetPosition,e);return new this(n,t.howMany,i,t.baseVersion)}}class nn extends Qn{position;nodes;shouldReceiveAttributes;constructor(t,e,n){super(n),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new un(Ih(e)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const t=new un([...this.nodes].map((n=>n._clone(!0)))),e=new nn(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}getReversed(){const t=this.position.root.document.graveyard,e=new mt(t,[0]);return new re(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new H("insert-operation-position-invalid",this)}_execute(){const t=this.nodes;this.nodes=new un([...t].map((e=>e._clone(!0)))),ud(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,e){const n=[];for(const s of t.nodes)s.name?n.push(be.fromJSON(s)):n.push(Xt.fromJSON(s));const i=new nn(mt.fromJSON(t.position,e),n,t.baseVersion);return i.shouldReceiveAttributes=t.shouldReceiveAttributes,i}}class ye extends Qn{splitPosition;howMany;insertionPosition;graveyardPosition;constructor(t,e,n,i,s){super(s),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=e,this.insertionPosition=n,this.graveyardPosition=i?i.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new mt(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Z(this.splitPosition,t)}get affectedSelectable(){const t=[Z._createFromPositionAndShift(this.splitPosition,0),Z._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&t.push(Z._createFromPositionAndShift(this.graveyardPosition,0)),t}clone(){return new ye(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.splitPosition.root.document.graveyard,e=new mt(t,[0]);return new Ve(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent,e=this.splitPosition.offset;if(!t||t.maxOffset<e)throw new H("split-operation-position-invalid",this);if(!t.parent)throw new H("split-operation-split-in-root",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new H("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new H("split-operation-graveyard-position-invalid",this)}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)yr(Z._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const e=t._clone();ud(this.insertionPosition,e)}yr(new Z(mt._createAt(t,this.splitPosition.offset),mt._createAt(t,t.maxOffset)),this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const e=t.path.slice(0,-1);return e[e.length-1]++,new mt(t.root,e,"toPrevious")}static fromJSON(t,e){const n=mt.fromJSON(t.splitPosition,e),i=mt.fromJSON(t.insertionPosition,e),s=t.graveyardPosition?mt.fromJSON(t.graveyardPosition,e):null;return new this(n,t.howMany,i,s,t.baseVersion)}}class Ve extends Qn{sourcePosition;howMany;targetPosition;graveyardPosition;constructor(t,e,n,i,s){super(s),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=i.clone()}get type(){return"merge"}get deletionPosition(){return new mt(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Z(this.sourcePosition,t)}get affectedSelectable(){const t=this.sourcePosition.parent;return[Z._createOn(t),Z._createFromPositionAndShift(this.targetPosition,0),Z._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Ve(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new mt(this.sourcePosition.root,e)._getTransformedByMergeOperation(this);return new ye(t,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!t.parent)throw new H("merge-operation-source-position-invalid",this);if(!e.parent)throw new H("merge-operation-target-position-invalid",this);if(this.howMany!=t.maxOffset)throw new H("merge-operation-how-many-invalid",this)}_execute(){const t=this.sourcePosition.parent;yr(Z._createIn(t),this.targetPosition),yr(Z._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,e){const n=mt.fromJSON(t.sourcePosition,e),i=mt.fromJSON(t.targetPosition,e),s=mt.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,i,s,t.baseVersion)}}class Wn extends Qn{name;oldRange;newRange;affectsData;_markers;constructor(t,e,n,i,s,l){super(l),this.name=t,this.oldRange=e?e.clone():null,this.newRange=n?n.clone():null,this.affectsData=s,this._markers=i}get type(){return"marker"}get affectedSelectable(){const t=[];return this.oldRange&&t.push(this.oldRange.clone()),this.newRange&&(this.oldRange?t.push(...this.newRange.getDifference(this.oldRange)):t.push(this.newRange.clone())),t}clone(){return new Wn(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Wn(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,e){return new Wn(t.name,t.oldRange?Z.fromJSON(t.oldRange,e):null,t.newRange?Z.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}const ql=function(o,t){return jl(o,t)};class ze extends Qn{range;key;oldValue;newValue;constructor(t,e,n,i,s){super(s),this.range=t.clone(),this.key=e,this.oldValue=n===void 0?null:n,this.newValue=i===void 0?null:i}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new ze(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ze(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new H("attribute-operation-range-not-flat",this);for(const t of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!ql(t.getAttribute(this.key),this.oldValue))throw new H("attribute-operation-wrong-old-value",this,{item:t,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&t.hasAttribute(this.key))throw new H("attribute-operation-attribute-exists",this,{node:t,key:this.key})}}_execute(){ql(this.oldValue,this.newValue)||(function(t,e,n){oe(t.start),oe(t.end);for(const i of t.getItems({shallow:!0})){const s=i.is("$textProxy")?i.textNode:i;n!==null?s._setAttribute(e,n):s._removeAttribute(e),Ca(s.parent,s.index)}Ca(t.end.parent,t.end.index)})(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,e){return new ze(Z.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}class qe extends Qn{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new qe(this.baseVersion)}getReversed(){return new qe(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class wn extends Qn{position;oldName;newName;constructor(t,e,n,i){super(i),this.position=t,this.position.stickiness="toNext",this.oldName=e,this.newName=n}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new wn(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new wn(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof be))throw new H("rename-operation-wrong-position",this);if(t.name!==this.oldName)throw new H("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,e){return new wn(mt.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}class Vi extends Qn{root;key;oldValue;newValue;constructor(t,e,n,i,s){super(s),this.root=t,this.key=e,this.oldValue=n===void 0?null:n,this.newValue=i===void 0?null:i}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Vi(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Vi(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new H("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new H("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new H("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,e){if(!e.getRoot(t.root))throw new H("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new Vi(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class An extends Qn{rootName;elementName;isAdd;_document;constructor(t,e,n,i,s){super(s),this.rootName=t,this.elementName=e,this.isAdd=n,this._document=i,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new An(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new An(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const t=super.toJSON();return delete t._document,t}static get className(){return"RootOperation"}static fromJSON(t,e){return new An(t.rootName,t.elementName,t.isAdd,e,t.baseVersion)}}const Ge={};Ge[ze.className]=ze,Ge[nn.className]=nn,Ge[Wn.className]=Wn,Ge[re.className]=re,Ge[qe.className]=qe,Ge[Qn.className]=Qn,Ge[wn.className]=wn,Ge[Vi.className]=Vi,Ge[An.className]=An,Ge[ye.className]=ye,Ge[Ve.className]=Ve;class Gl{static fromJSON(t,e){return Ge[t.__className].fromJSON(t,e)}}const Nh=new Map;function ie(o,t,e){let n=Nh.get(o);n||(n=new Map,Nh.set(o,n)),n.set(t,e)}function cg(o){return[o]}function zh(o,t,e={}){const n=(function(i,s){const l=Nh.get(i);return l&&l.has(s)?l.get(s):cg})(o.constructor,t.constructor);try{return n(o=o.clone(),t,e)}catch(i){throw i}}function dg(o,t,e){o=o.slice(),t=t.slice();const n=new gk(e.document,e.useRelations,e.forceWeakRemove);n.setOriginalOperations(o),n.setOriginalOperations(t);const i=n.originalOperations;if(o.length==0||t.length==0)return{operationsA:o,operationsB:t,originalOperations:i};const s=new WeakMap;for(const u of o)s.set(u,0);const l={nextBaseVersionA:o[o.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:o.length,originalOperationsBCount:t.length};let d=0;for(;d<o.length;){const u=o[d],m=s.get(u);if(m==t.length){d++;continue}const g=t[m],k=zh(u,g,n.getContext(u,g,!0)),_=zh(g,u,n.getContext(g,u,!1));n.updateRelation(u,g),n.setOriginalOperations(k,u),n.setOriginalOperations(_,g);for(const v of k)s.set(v,m+_.length);o.splice(d,1,...k),t.splice(m,1,..._)}return md(o,l.nextBaseVersionB),md(t,l.nextBaseVersionA),{operationsA:o,operationsB:t,originalOperations:i}}class gk{originalOperations;_history;_useRelations;_forceWeakRemove;_relations;constructor(t,e,n=!1){this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(t,e=null){const n=e?this.originalOperations.get(e):null;for(const i of t)this.originalOperations.set(i,n||i)}updateRelation(t,e){if(t instanceof re)e instanceof Ve?t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter"):e instanceof re&&(t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter"));else if(t instanceof ye){if(e instanceof Ve)t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");else if(e instanceof re)if(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))this._setRelation(t,e,"splitBefore");else{const n=Z._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.splitPosition)){const i=n.end.offset-t.splitPosition.offset,s=t.splitPosition.offset-n.start.offset;this._setRelation(t,e,{howMany:i,offset:s})}}}else if(t instanceof Ve)e instanceof Ve?(t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement")):e instanceof ye?t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource"):e instanceof re&&e.howMany>0&&(t.sourcePosition.isEqual(e.sourcePosition.getShiftedBy(e.howMany))&&this._setRelation(t,e,"mergeSourceAffected"),t.targetPosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeTargetWasBefore"));else if(t instanceof Wn){const n=t.newRange;if(!n)return;if(e instanceof re){const i=Z._createFromPositionAndShift(e.sourcePosition,e.howMany),s=i.containsPosition(n.start)||i.start.isEqual(n.start),l=i.containsPosition(n.end)||i.end.isEqual(n.end);!s&&!l||i.containsRange(n)||this._setRelation(t,e,{side:s?"left":"right",path:s?n.start.path.slice():n.end.path.slice()})}else if(e instanceof Ve){const i=n.start.isEqual(e.targetPosition),s=n.start.isEqual(e.deletionPosition),l=n.end.isEqual(e.deletionPosition),d=n.end.isEqual(e.sourcePosition);(i||s||l||d)&&this._setRelation(t,e,{wasInLeftElement:i,wasStartBeforeMergedElement:s,wasEndBeforeMergedElement:l,wasInRightElement:d})}}}getContext(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const n=this.originalOperations.get(e),i=this._history.getUndoneOperation(n);if(!i)return null;const s=this.originalOperations.get(t),l=this._relations.get(s);return l&&l.get(i)||null}_setRelation(t,e,n){const i=this.originalOperations.get(t),s=this.originalOperations.get(e);let l=this._relations.get(i);l||(l=new Map,this._relations.set(i,l)),l.set(s,n)}}function md(o,t){for(const e of o)e.baseVersion=t++}function Oh(o,t,e){const n=o.nodes.getNode(0).getAttribute(t);if(n==e)return null;const i=new Z(o.position,o.position.getShiftedBy(o.howMany));return new ze(i,t,n,e,0)}function Lh(o,t){return o.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)===null}function va(o,t){const e=[];for(let n=0;n<o.length;n++){const i=o[n],s=new re(i.start,i.end.offset-i.start.offset,t,0);e.push(s);for(let l=n+1;l<o.length;l++)o[l]=o[l]._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)[0];t=t._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)}return e}ie(ze,ze,((o,t,e)=>{if(o.key===t.key&&o.range.start.hasSameParentAs(t.range.start)){const n=o.range.getDifference(t.range).map((s=>new ze(s,o.key,o.oldValue,o.newValue,0))),i=o.range.getIntersection(t.range);return i&&e.aIsStrong&&n.push(new ze(i,t.key,t.newValue,o.newValue,0)),n.length==0?[new qe(0)]:n}return[o]})),ie(ze,nn,((o,t)=>{if(o.range.start.hasSameParentAs(t.position)&&o.range.containsPosition(t.position)){const e=o.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map((n=>new ze(n,o.key,o.oldValue,o.newValue,o.baseVersion)));if(t.shouldReceiveAttributes){const n=Oh(t,o.key,o.oldValue);n&&e.unshift(n)}return e}return o.range=o.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[o]})),ie(ze,Ve,((o,t)=>{const e=[];o.range.start.hasSameParentAs(t.deletionPosition)&&(o.range.containsPosition(t.deletionPosition)||o.range.start.isEqual(t.deletionPosition))&&e.push(Z._createFromPositionAndShift(t.graveyardPosition,1));const n=o.range._getTransformedByMergeOperation(t);return n.isCollapsed||e.push(n),e.map((i=>new ze(i,o.key,o.oldValue,o.newValue,o.baseVersion)))})),ie(ze,re,((o,t)=>(function(n,i){const s=Z._createFromPositionAndShift(i.sourcePosition,i.howMany);let l=null,d=[];s.containsRange(n,!0)?l=n:n.start.hasSameParentAs(s.start)?(d=n.getDifference(s),l=n.getIntersection(s)):d=[n];const u=[];for(let m of d){m=m._getTransformedByDeletion(i.sourcePosition,i.howMany);const g=i.getMovedRangeStart(),k=m.start.hasSameParentAs(g),_=m._getTransformedByInsertion(g,i.howMany,k);u.push(..._)}return l&&u.push(l._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany,!1)[0]),u})(o.range,t).map((n=>new ze(n,o.key,o.oldValue,o.newValue,o.baseVersion))))),ie(ze,ye,((o,t)=>{if(o.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||o.range.end.offset++,[o];if(o.range.start.hasSameParentAs(t.splitPosition)&&o.range.containsPosition(t.splitPosition)){const e=o.clone();return e.range=new Z(t.moveTargetPosition.clone(),o.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),o.range.end=t.splitPosition.clone(),o.range.end.stickiness="toPrevious",[o,e]}return o.range=o.range._getTransformedBySplitOperation(t),[o]})),ie(nn,ze,((o,t)=>{const e=[o];if(o.shouldReceiveAttributes&&o.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(o.position)){const n=Oh(o,t.key,t.newValue);n&&e.push(n)}return e})),ie(nn,nn,((o,t,e)=>(o.position.isEqual(t.position)&&e.aIsStrong||(o.position=o.position._getTransformedByInsertOperation(t)),[o]))),ie(nn,re,((o,t)=>(o.position=o.position._getTransformedByMoveOperation(t),[o]))),ie(nn,ye,((o,t)=>(o.position=o.position._getTransformedBySplitOperation(t),[o]))),ie(nn,Ve,((o,t)=>(o.position=o.position._getTransformedByMergeOperation(t),[o]))),ie(Wn,nn,((o,t)=>(o.oldRange&&(o.oldRange=o.oldRange._getTransformedByInsertOperation(t)[0]),o.newRange&&(o.newRange=o.newRange._getTransformedByInsertOperation(t)[0]),[o]))),ie(Wn,Wn,((o,t,e)=>{if(o.name==t.name){if(!e.aIsStrong)return[new qe(0)];o.oldRange=t.newRange?t.newRange.clone():null}return[o]})),ie(Wn,Ve,((o,t)=>(o.oldRange&&(o.oldRange=o.oldRange._getTransformedByMergeOperation(t)),o.newRange&&(o.newRange=o.newRange._getTransformedByMergeOperation(t)),[o]))),ie(Wn,re,((o,t,e)=>{if(o.oldRange&&(o.oldRange=Z._createFromRanges(o.oldRange._getTransformedByMoveOperation(t))),o.newRange){if(e.abRelation){const n=Z._createFromRanges(o.newRange._getTransformedByMoveOperation(t));if(e.abRelation.side=="left"&&t.targetPosition.isEqual(o.newRange.start))return o.newRange.end=n.end,o.newRange.start.path=e.abRelation.path,[o];if(e.abRelation.side=="right"&&t.targetPosition.isEqual(o.newRange.end))return o.newRange.start=n.start,o.newRange.end.path=e.abRelation.path,[o]}o.newRange=Z._createFromRanges(o.newRange._getTransformedByMoveOperation(t))}return[o]})),ie(Wn,ye,((o,t,e)=>{if(o.oldRange&&(o.oldRange=o.oldRange._getTransformedBySplitOperation(t)),o.newRange){if(e.abRelation){const n=o.newRange._getTransformedBySplitOperation(t);return o.newRange.start.isEqual(t.splitPosition)&&e.abRelation.wasStartBeforeMergedElement?o.newRange.start=mt._createAt(t.insertionPosition):o.newRange.start.isEqual(t.splitPosition)&&!e.abRelation.wasInLeftElement&&(o.newRange.start=mt._createAt(t.moveTargetPosition)),o.newRange.end.isEqual(t.splitPosition)&&e.abRelation.wasInRightElement?o.newRange.end=mt._createAt(t.moveTargetPosition):o.newRange.end.isEqual(t.splitPosition)&&e.abRelation.wasEndBeforeMergedElement?o.newRange.end=mt._createAt(t.insertionPosition):o.newRange.end=n.end,[o]}o.newRange=o.newRange._getTransformedBySplitOperation(t)}return[o]})),ie(Ve,nn,((o,t)=>(o.sourcePosition.hasSameParentAs(t.position)&&(o.howMany+=t.howMany),o.sourcePosition=o.sourcePosition._getTransformedByInsertOperation(t),o.targetPosition=o.targetPosition._getTransformedByInsertOperation(t),[o]))),ie(Ve,Ve,((o,t,e)=>{if(o.sourcePosition.isEqual(t.sourcePosition)&&o.targetPosition.isEqual(t.targetPosition)){if(e.bWasUndone){const n=t.graveyardPosition.path.slice();return n.push(0),o.sourcePosition=new mt(t.graveyardPosition.root,n),o.howMany=0,[o]}return[new qe(0)]}if(o.sourcePosition.isEqual(t.sourcePosition)&&!o.targetPosition.isEqual(t.targetPosition)&&!e.bWasUndone&&e.abRelation!="splitAtSource"){const n=o.targetPosition.root.rootName=="$graveyard",i=t.targetPosition.root.rootName=="$graveyard";if(i&&!n||!(n&&!i)&&e.aIsStrong){const s=t.targetPosition._getTransformedByMergeOperation(t),l=o.targetPosition._getTransformedByMergeOperation(t);return[new re(s,o.howMany,l,0)]}return[new qe(0)]}return o.sourcePosition.hasSameParentAs(t.targetPosition)&&(o.howMany+=t.howMany),o.sourcePosition=o.sourcePosition._getTransformedByMergeOperation(t),o.targetPosition=o.targetPosition._getTransformedByMergeOperation(t),o.graveyardPosition.isEqual(t.graveyardPosition)&&e.aIsStrong||(o.graveyardPosition=o.graveyardPosition._getTransformedByMergeOperation(t)),[o]})),ie(Ve,re,((o,t,e)=>{const n=Z._createFromPositionAndShift(t.sourcePosition,t.howMany);return t.type=="remove"&&!e.bWasUndone&&!e.forceWeakRemove&&o.deletionPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(o.sourcePosition)?[new qe(0)]:(t.sourcePosition.getShiftedBy(t.howMany).isEqual(o.sourcePosition)?o.sourcePosition.stickiness="toNone":t.targetPosition.isEqual(o.sourcePosition)&&e.abRelation=="mergeSourceAffected"?o.sourcePosition.stickiness="toNext":t.sourcePosition.isEqual(o.targetPosition)?(o.targetPosition.stickiness="toNone",o.howMany-=t.howMany):t.targetPosition.isEqual(o.targetPosition)&&e.abRelation=="mergeTargetWasBefore"?(o.targetPosition.stickiness="toPrevious",o.howMany+=t.howMany):(o.sourcePosition.hasSameParentAs(t.targetPosition)&&(o.howMany+=t.howMany),o.sourcePosition.hasSameParentAs(t.sourcePosition)&&(o.howMany-=t.howMany)),o.sourcePosition=o.sourcePosition._getTransformedByMoveOperation(t),o.targetPosition=o.targetPosition._getTransformedByMoveOperation(t),o.sourcePosition.stickiness="toPrevious",o.targetPosition.stickiness="toNext",o.graveyardPosition.isEqual(t.targetPosition)||(o.graveyardPosition=o.graveyardPosition._getTransformedByMoveOperation(t)),[o])})),ie(Ve,ye,((o,t,e)=>{if(t.graveyardPosition&&(o.graveyardPosition=o.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),o.deletionPosition.isEqual(t.graveyardPosition)&&(o.howMany=t.howMany)),o.targetPosition.isEqual(t.splitPosition)){const n=t.howMany!=0,i=t.graveyardPosition&&o.deletionPosition.isEqual(t.graveyardPosition);if(n||i||e.abRelation=="mergeTargetNotMoved")return o.sourcePosition=o.sourcePosition._getTransformedBySplitOperation(t),[o]}if(o.sourcePosition.isEqual(t.splitPosition)){if(e.abRelation=="mergeSourceNotMoved")return o.howMany=0,o.targetPosition=o.targetPosition._getTransformedBySplitOperation(t),[o];if(e.abRelation=="mergeSameElement"||o.sourcePosition.offset>0)return o.sourcePosition=t.moveTargetPosition.clone(),o.targetPosition=o.targetPosition._getTransformedBySplitOperation(t),[o]}return o.sourcePosition.hasSameParentAs(t.splitPosition)&&(o.howMany=t.splitPosition.offset),o.sourcePosition=o.sourcePosition._getTransformedBySplitOperation(t),o.targetPosition=o.targetPosition._getTransformedBySplitOperation(t),[o]})),ie(re,nn,((o,t)=>{const e=Z._createFromPositionAndShift(o.sourcePosition,o.howMany)._getTransformedByInsertOperation(t,!1)[0];return o.sourcePosition=e.start,o.howMany=e.end.offset-e.start.offset,o.targetPosition.isEqual(t.position)||(o.targetPosition=o.targetPosition._getTransformedByInsertOperation(t)),[o]})),ie(re,re,((o,t,e)=>{const n=Z._createFromPositionAndShift(o.sourcePosition,o.howMany),i=Z._createFromPositionAndShift(t.sourcePosition,t.howMany);let s,l=e.aIsStrong,d=!e.aIsStrong;if(e.abRelation=="insertBefore"||e.baRelation=="insertAfter"?d=!0:e.abRelation!="insertAfter"&&e.baRelation!="insertBefore"||(d=!1),s=o.targetPosition.isEqual(t.targetPosition)&&d?o.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):o.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),Lh(o,t)&&Lh(t,o))return[t.getReversed()];if(n.containsPosition(t.targetPosition)&&n.containsRange(i,!0))return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),va([n],s);if(i.containsPosition(o.targetPosition)&&i.containsRange(n,!0))return n.start=n.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),n.end=n.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),va([n],s);const u=sn(o.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if(u=="prefix"||u=="extension")return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),va([n],s);o.type!="remove"||t.type=="remove"||e.aWasUndone||e.forceWeakRemove?o.type=="remove"||t.type!="remove"||e.bWasUndone||e.forceWeakRemove||(l=!1):l=!0;const m=[],g=n.getDifference(i);for(const _ of g){_.start=_.start._getTransformedByDeletion(t.sourcePosition,t.howMany),_.end=_.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const v=sn(_.start.getParentPath(),t.getMovedRangeStart().getParentPath())=="same",E=_._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,v);m.push(...E)}const k=n.getIntersection(i);return k!==null&&l&&(k.start=k.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),k.end=k.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),m.length===0?m.push(k):m.length==1?i.start.isBefore(n.start)||i.start.isEqual(n.start)?m.unshift(k):m.push(k):m.splice(1,0,k)),m.length===0?[new qe(o.baseVersion)]:va(m,s)})),ie(re,ye,((o,t,e)=>{let n=o.targetPosition.clone();o.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&e.abRelation!="moveTargetAfter"||(n=o.targetPosition._getTransformedBySplitOperation(t));const i=Z._createFromPositionAndShift(o.sourcePosition,o.howMany);if(i.end.isEqual(t.insertionPosition))return t.graveyardPosition||o.howMany++,o.targetPosition=n,[o];if(i.start.hasSameParentAs(t.splitPosition)&&i.containsPosition(t.splitPosition)){let l=new Z(t.splitPosition,i.end);return l=l._getTransformedBySplitOperation(t),va([new Z(i.start,t.splitPosition),l],n)}o.targetPosition.isEqual(t.splitPosition)&&e.abRelation=="insertAtSource"&&(n=t.moveTargetPosition),o.targetPosition.isEqual(t.insertionPosition)&&e.abRelation=="insertBetween"&&(n=o.targetPosition);const s=[i._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const l=i.start.isEqual(t.graveyardPosition)||i.containsPosition(t.graveyardPosition);o.howMany>1&&l&&!e.aWasUndone&&s.push(Z._createFromPositionAndShift(t.insertionPosition,1))}return va(s,n)})),ie(re,Ve,((o,t,e)=>{const n=Z._createFromPositionAndShift(o.sourcePosition,o.howMany);if(t.deletionPosition.hasSameParentAs(o.sourcePosition)&&n.containsPosition(t.sourcePosition)){if(o.type!="remove"||e.forceWeakRemove){if(o.howMany==1)return e.bWasUndone?(o.sourcePosition=t.graveyardPosition.clone(),o.targetPosition=o.targetPosition._getTransformedByMergeOperation(t),[o]):[new qe(0)]}else if(!e.aWasUndone){const s=[];let l=t.graveyardPosition.clone(),d=t.targetPosition._getTransformedByMergeOperation(t);o.howMany>1&&(s.push(new re(o.sourcePosition,o.howMany-1,o.targetPosition,0)),l=l._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany-1),d=d._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany-1));const u=t.deletionPosition._getCombined(o.sourcePosition,o.targetPosition),m=new re(l,1,u,0),g=m.getMovedRangeStart().path.slice();g.push(0);const k=new mt(m.targetPosition.root,g);d=d._getTransformedByMove(l,u,1);const _=new re(d,t.howMany,k,0);return s.push(m),s.push(_),s}}const i=Z._createFromPositionAndShift(o.sourcePosition,o.howMany)._getTransformedByMergeOperation(t);return o.sourcePosition=i.start,o.howMany=i.end.offset-i.start.offset,o.targetPosition=o.targetPosition._getTransformedByMergeOperation(t),[o]})),ie(wn,nn,((o,t)=>(o.position=o.position._getTransformedByInsertOperation(t),[o]))),ie(wn,Ve,((o,t)=>o.position.isEqual(t.deletionPosition)?(o.position=t.graveyardPosition.clone(),o.position.stickiness="toNext",[o]):(o.position=o.position._getTransformedByMergeOperation(t),[o]))),ie(wn,re,((o,t)=>(o.position=o.position._getTransformedByMoveOperation(t),[o]))),ie(wn,wn,((o,t,e)=>{if(o.position.isEqual(t.position)){if(!e.aIsStrong)return[new qe(0)];o.oldName=t.newName}return[o]})),ie(wn,ye,((o,t)=>{if(sn(o.position.path,t.splitPosition.getParentPath())=="same"&&!t.graveyardPosition){const e=new wn(o.position.getShiftedBy(1),o.oldName,o.newName,0);return[o,e]}return o.position=o.position._getTransformedBySplitOperation(t),[o]})),ie(Vi,Vi,((o,t,e)=>{if(o.root===t.root&&o.key===t.key){if(!e.aIsStrong||o.newValue===t.newValue)return[new qe(0)];o.oldValue=t.newValue}return[o]})),ie(An,An,((o,t)=>o.rootName===t.rootName&&o.isAdd===t.isAdd?[new qe(0)]:[o])),ie(ye,nn,((o,t)=>(o.splitPosition.hasSameParentAs(t.position)&&o.splitPosition.offset<t.position.offset&&(o.howMany+=t.howMany),o.splitPosition=o.splitPosition._getTransformedByInsertOperation(t),o.insertionPosition=o.insertionPosition._getTransformedByInsertOperation(t),[o]))),ie(ye,Ve,((o,t,e)=>{if(!o.graveyardPosition&&!e.bWasUndone&&o.splitPosition.hasSameParentAs(t.sourcePosition)){const n=t.graveyardPosition.path.slice();n.push(0);const i=new mt(t.graveyardPosition.root,n),s=ye.getInsertionPosition(new mt(t.graveyardPosition.root,n)),l=new ye(i,0,s,null,0);return o.splitPosition=o.splitPosition._getTransformedByMergeOperation(t),o.insertionPosition=ye.getInsertionPosition(o.splitPosition),o.graveyardPosition=l.insertionPosition.clone(),o.graveyardPosition.stickiness="toNext",[l,o]}return o.splitPosition.hasSameParentAs(t.deletionPosition)&&!o.splitPosition.isAfter(t.deletionPosition)&&o.howMany--,o.splitPosition.hasSameParentAs(t.targetPosition)&&(o.howMany+=t.howMany),o.splitPosition=o.splitPosition._getTransformedByMergeOperation(t),o.insertionPosition=ye.getInsertionPosition(o.splitPosition),o.graveyardPosition&&(o.graveyardPosition=o.graveyardPosition._getTransformedByMergeOperation(t)),[o]})),ie(ye,re,((o,t,e)=>{const n=Z._createFromPositionAndShift(t.sourcePosition,t.howMany);if(o.graveyardPosition){const s=n.start.isEqual(o.graveyardPosition)||n.containsPosition(o.graveyardPosition);if(!e.bWasUndone&&s){const l=o.splitPosition._getTransformedByMoveOperation(t),d=o.graveyardPosition._getTransformedByMoveOperation(t),u=d.path.slice();u.push(0);const m=new mt(d.root,u);return[new re(l,o.howMany,m,0)]}o.graveyardPosition=o.graveyardPosition._getTransformedByMoveOperation(t)}const i=o.splitPosition.isEqual(t.targetPosition);if(i&&(e.baRelation=="insertAtSource"||e.abRelation=="splitBefore"))return o.howMany+=t.howMany,o.splitPosition=o.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),o.insertionPosition=ye.getInsertionPosition(o.splitPosition),[o];if(i&&e.abRelation&&e.abRelation.howMany){const{howMany:s,offset:l}=e.abRelation;return o.howMany+=s,o.splitPosition=o.splitPosition.getShiftedBy(l),[o]}if(o.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(o.splitPosition)){const s=t.howMany-(o.splitPosition.offset-t.sourcePosition.offset);return o.howMany-=s,o.splitPosition.hasSameParentAs(t.targetPosition)&&o.splitPosition.offset<t.targetPosition.offset&&(o.howMany+=t.howMany),o.splitPosition=t.sourcePosition.clone(),o.insertionPosition=ye.getInsertionPosition(o.splitPosition),[o]}return t.sourcePosition.isEqual(t.targetPosition)||(o.splitPosition.hasSameParentAs(t.sourcePosition)&&o.splitPosition.offset<=t.sourcePosition.offset&&(o.howMany-=t.howMany),o.splitPosition.hasSameParentAs(t.targetPosition)&&o.splitPosition.offset<t.targetPosition.offset&&(o.howMany+=t.howMany)),o.splitPosition.stickiness="toNone",o.splitPosition=o.splitPosition._getTransformedByMoveOperation(t),o.splitPosition.stickiness="toNext",o.graveyardPosition?o.insertionPosition=o.insertionPosition._getTransformedByMoveOperation(t):o.insertionPosition=ye.getInsertionPosition(o.splitPosition),[o]})),ie(ye,ye,((o,t,e)=>{if(o.splitPosition.isEqual(t.splitPosition)){if(!o.graveyardPosition&&!t.graveyardPosition)return[new qe(0)];if(o.graveyardPosition&&t.graveyardPosition&&o.graveyardPosition.isEqual(t.graveyardPosition))return[new qe(0)];if(e.abRelation=="splitBefore")return o.howMany=0,o.graveyardPosition=o.graveyardPosition._getTransformedBySplitOperation(t),[o]}if(o.graveyardPosition&&t.graveyardPosition&&o.graveyardPosition.isEqual(t.graveyardPosition)){const n=o.splitPosition.root.rootName=="$graveyard",i=t.splitPosition.root.rootName=="$graveyard";if(i&&!n||!(n&&!i)&&e.aIsStrong){const s=[];return t.howMany&&s.push(new re(t.moveTargetPosition,t.howMany,t.splitPosition,0)),o.howMany&&s.push(new re(o.splitPosition,o.howMany,o.moveTargetPosition,0)),s}return[new qe(0)]}if(o.graveyardPosition&&(o.graveyardPosition=o.graveyardPosition._getTransformedBySplitOperation(t)),o.splitPosition.isEqual(t.insertionPosition)&&e.abRelation=="splitBefore")return o.howMany++,[o];if(t.splitPosition.isEqual(o.insertionPosition)&&e.baRelation=="splitBefore"){const n=t.insertionPosition.path.slice();n.push(0);const i=new mt(t.insertionPosition.root,n);return[o,new re(o.insertionPosition,1,i,0)]}return o.splitPosition.hasSameParentAs(t.splitPosition)&&o.splitPosition.offset<t.splitPosition.offset&&(o.howMany-=t.howMany),o.splitPosition=o.splitPosition._getTransformedBySplitOperation(t),o.insertionPosition=ye.getInsertionPosition(o.splitPosition),[o]}));class on extends yt(mt){constructor(t,e,n="toNone"){if(super(t,e,n),!this.root.is("rootElement"))throw new H("model-liveposition-root-not-rootelement",t);Rh.call(this)}detach(){this.stopListening()}toPosition(){return new mt(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}function Rh(){this.listenTo(this.root.document.model,"applyOperation",((o,t)=>{const e=t[0];e.isDocumentOperation&&pk.call(this,e)}),{priority:"low"})}function pk(o){const t=this.getTransformedByOperation(o);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",e)}}on.prototype.is=function(o){return o==="livePosition"||o==="model:livePosition"||o=="position"||o==="model:position"};class ya{operations;isUndoable;isLocal;isUndo;isTyping;constructor(t={}){typeof t=="string"&&(t=t==="transparent"?{isUndoable:!1}:{},Bt("batch-constructor-deprecated-string-type"));const{isUndoable:e=!0,isLocal:n=!0,isUndo:i=!1,isTyping:s=!1}=t;this.operations=[],this.isUndoable=e,this.isLocal=n,this.isUndo=i,this.isTyping=s}get type(){return Bt("batch-type-deprecated"),"default"}get baseVersion(){for(const t of this.operations)if(t.baseVersion!==null)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}class xr{static _statesPriority=[void 0,"refresh","rename","move"];_markerCollection;_changesInElement=new Map;_elementsSnapshots=new Map;_elementChildrenSnapshots=new Map;_elementState=new Map;_changedMarkers=new Map;_changedRoots=new Map;_changeCount=0;_cachedChanges=null;_cachedChangesWithGraveyard=null;_refreshedItems=new Set;constructor(t){this._markerCollection=t}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(t){const e=t;switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const n of e.range.getItems({shallow:!0}))this._isInInsertedElement(n.parent)||this._markAttribute(n);break;case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;const n=this._isInInsertedElement(e.sourcePosition.parent),i=this._isInInsertedElement(e.targetPosition.parent);n||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),i||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);const s=Z._createFromPositionAndShift(e.sourcePosition,e.howMany);for(const l of s.getItems({shallow:!0}))this._setElementState(l,"move");break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const n=Z._createFromPositionAndShift(e.position,1);for(const i of this._markerCollection.getMarkersIntersectingRange(n)){const s=i.getData();this.bufferMarkerChange(i.name,s,s)}this._setElementState(e.position.nodeAfter,"rename");break}case"split":{const n=e.splitPosition.parent;if(!this._isInInsertedElement(n)){this._markRemove(n,e.splitPosition.offset,e.howMany);const i=Z._createFromPositionAndShift(e.splitPosition,e.howMany);for(const s of i.getItems({shallow:!0}))this._setElementState(s,"move")}this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&(this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1),this._setElementState(e.graveyardPosition.nodeAfter,"move"));break}case"merge":{const n=e.sourcePosition.parent;this._isInInsertedElement(n.parent)||this._markRemove(n.parent,n.startOffset,1);const i=e.graveyardPosition.parent;this._markInsert(i,e.graveyardPosition.offset,1),this._setElementState(n,"move");const s=e.targetPosition.parent;if(!this._isInInsertedElement(s)){this._markInsert(s,e.targetPosition.offset,n.maxOffset);const l=Z._createFromPositionAndShift(e.sourcePosition,e.howMany);for(const d of l.getItems({shallow:!0}))this._setElementState(d,"move")}break}case"detachRoot":case"addRoot":{const n=e.affectedSelectable;if(!n._isLoaded||n.isAttached()==e.isAdd)return;this._bufferRootStateChange(e.rootName,e.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!e.root._isLoaded)return;const n=e.root.rootName;this._bufferRootAttributeChange(n,e.key,e.oldValue,e.newValue);break}}this._cachedChanges=null}bufferMarkerChange(t,e,n){e.range&&e.range.root.is("rootElement")&&!e.range.root._isLoaded&&(e.range=null),n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null);let i=this._changedMarkers.get(t);i?i.newMarkerData=n:(i={newMarkerData:n,oldMarkerData:e},this._changedMarkers.set(t,i)),i.oldMarkerData.range==null&&n.range==null&&this._changedMarkers.delete(t)}getMarkersToRemove(){const t=[];for(const[e,n]of this._changedMarkers)n.oldMarkerData.range!=null&&t.push({name:e,range:n.oldMarkerData.range});return t}getMarkersToAdd(){const t=[];for(const[e,n]of this._changedMarkers)n.newMarkerData.range!=null&&t.push({name:e,range:n.newMarkerData.range});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map((([t,e])=>({name:t,data:{oldRange:e.oldMarkerData.range,newRange:e.newMarkerData.range}})))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:t,oldMarkerData:e}of this._changedMarkers.values()){if(t.affectsData!==e.affectsData)return!0;if(t.affectsData){const n=t.range&&!e.range,i=!t.range&&e.range,s=t.range&&e.range&&!t.range.isEqual(e.range);if(n||i||s)return!0}}return!1}getChanges(t={}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let e=[];for(const n of this._changesInElement.keys()){const i=this._changesInElement.get(n).sort(((g,k)=>g.offset===k.offset?g.type!=k.type?g.type=="remove"?-1:1:0:g.offset<k.offset?-1:1)),s=this._elementChildrenSnapshots.get(n),l=jh(n.getChildren()),d=Jt(s.length,i);let u=0,m=0;for(const g of d)if(g==="i"){const k=this._getDiffActionForNode(l[u].node,"insert"),_=this._elementsSnapshots.get(l[u].node),v=this._getInsertDiff(n,u,k,l[u],_);e.push(v),u++}else if(g==="r"){const k=this._getDiffActionForNode(s[m].node,"remove"),_=this._getRemoveDiff(n,u,k,s[m]);e.push(_),m++}else if(g==="a"){const k=s[m].attributes,_=l[u].attributes;let v;if(l[u].name=="$text")v=new Z(mt._createAt(n,u),mt._createAt(n,u+1));else{const z=n.offsetToIndex(u);v=new Z(mt._createAt(n,u),mt._createAt(n.getChild(z),0))}const E=this._getAttributesDiff(v,k,_);e.push(...E),u++,m++}else u++,m++}e.sort(((n,i)=>n.position.root!=i.position.root?n.position.root.rootName<i.position.root.rootName?-1:1:n.position.isEqual(i.position)?n.changeCount-i.changeCount:n.position.isBefore(i.position)?-1:1));for(let n=1,i=0;n<e.length;n++){const s=e[i],l=e[n],d=s.type=="remove"&&l.type=="remove"&&s.name=="$text"&&l.name=="$text"&&s.position.isEqual(l.position),u=s.type=="insert"&&l.type=="insert"&&s.name=="$text"&&l.name=="$text"&&s.position.parent==l.position.parent&&s.position.offset+s.length==l.position.offset,m=s.type=="attribute"&&l.type=="attribute"&&s.position.parent==l.position.parent&&s.range.isFlat&&l.range.isFlat&&s.position.offset+s.length==l.position.offset&&s.attributeKey==l.attributeKey&&s.attributeOldValue==l.attributeOldValue&&s.attributeNewValue==l.attributeNewValue;d||u||m?(s.length++,m&&(s.range.end=s.range.end.getShiftedBy(1)),e[n]=null):i=n}e=e.filter((n=>n));for(const n of e)delete n.changeCount,n.type=="attribute"&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e,this._cachedChanges=e.filter(Ph),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map((t=>{const e={...t};return e.state!==void 0&&delete e.attributes,e}))}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize),this._refreshedItems.add(t),this._setElementState(t,"refresh");const e=Z._createOn(t);for(const n of this._markerCollection.getMarkersIntersectingRange(e)){const i=n.getData();this.bufferMarkerChange(n.name,i,i)}this._cachedChanges=null}_bufferRootLoad(t){if(t.isAttached()){this._bufferRootStateChange(t.rootName,!0),this._markInsert(t,0,t.maxOffset);for(const e of t.getAttributeKeys())this._bufferRootAttributeChange(t.rootName,e,null,t.getAttribute(e));for(const e of this._markerCollection)if(e.getRange().root==t){const n=e.getData();this.bufferMarkerChange(e.name,{...n,range:null},n)}}}_bufferRootStateChange(t,e){if(!this._changedRoots.has(t))return void this._changedRoots.set(t,{name:t,state:e?"attached":"detached"});const n=this._changedRoots.get(t);n.state!==void 0?(delete n.state,n.attributes===void 0&&this._changedRoots.delete(t)):n.state=e?"attached":"detached"}_bufferRootAttributeChange(t,e,n,i){const s=this._changedRoots.get(t)||{name:t},l=s.attributes||{};if(l[e]){const d=l[e];i===d.oldValue?delete l[e]:d.newValue=i}else l[e]={oldValue:n,newValue:i};Object.entries(l).length===0?(delete s.attributes,s.state===void 0&&this._changedRoots.delete(t)):(s.attributes=l,this._changedRoots.set(t,s))}_markInsert(t,e,n){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const i={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i)}_markRemove(t,e,n){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const i={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i),this._removeAllNestedChanges(t,e,n)}_markAttribute(t){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshots(t);const n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(let i=0;i<n.length;i++)n[i].howMany<1&&(n.splice(i,1),i--)}_setElementState(t,e){if(!t.is("element"))return;const n=xr._statesPriority.indexOf(this._elementState.get(t));xr._statesPriority.indexOf(e)>n&&this._elementState.set(t,e)}_getDiffActionForNode(t,e){if(!t.is("element")||!this._elementsSnapshots.has(t))return e;const n=this._elementState.get(t);return n&&n!="move"?n:e}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshots(t){if(this._elementChildrenSnapshots.has(t))return;const e=jh(t.getChildren());this._elementChildrenSnapshots.set(t,e);for(const n of e)this._elementsSnapshots.set(n.node,n)}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const n of e){const i=t.offset+t.howMany,s=n.offset+n.howMany;if(t.type=="insert"&&(n.type=="insert"&&(t.offset<=n.offset?n.offset+=t.howMany:t.offset<s&&(n.howMany+=t.nodesToHandle,t.nodesToHandle=0)),n.type=="remove"&&t.offset<n.offset&&(n.offset+=t.howMany),n.type=="attribute")){if(t.offset<=n.offset)n.offset+=t.howMany;else if(t.offset<s){const l=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:i,howMany:l-n.howMany,count:this._changeCount++})}}if(t.type=="remove"){if(n.type=="insert"){if(i<=n.offset)n.offset-=t.howMany;else if(i<=s)if(t.offset<n.offset){const l=i-n.offset;n.offset=t.offset,n.howMany-=l,t.nodesToHandle-=l}else n.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=n.offset)t.nodesToHandle-=n.howMany,n.howMany=0;else if(t.offset<s){const l=s-t.offset;n.howMany-=l,t.nodesToHandle-=l}}if(n.type=="remove"&&(i<=n.offset?n.offset-=t.howMany:t.offset<n.offset&&(t.nodesToHandle+=n.howMany,n.howMany=0)),n.type=="attribute"){if(i<=n.offset)n.offset-=t.howMany;else if(t.offset<n.offset){const l=i-n.offset;n.offset=t.offset,n.howMany-=l}else if(t.offset<s)if(i<=s){const l=n.howMany;n.howMany=t.offset-n.offset;const d=l-n.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:d,count:this._changeCount++})}else n.howMany-=s-t.offset}}if(t.type=="attribute"){if(n.type=="insert")if(t.offset<n.offset&&i>n.offset){if(i>s){const l={type:"attribute",offset:s,howMany:i-s,count:this._changeCount++};this._handleChange(l,e),e.push(l)}t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=n.offset&&t.offset<s&&(i>s?(t.nodesToHandle=i-s,t.offset=s):t.nodesToHandle=0);if(n.type=="remove"&&t.offset<n.offset&&i>n.offset){const l={type:"attribute",offset:n.offset,howMany:i-n.offset,count:this._changeCount++};this._handleChange(l,e),e.push(l),t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}n.type=="attribute"&&(t.offset>=n.offset&&i<=s?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=n.offset&&i>=s&&(n.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,n,i,s){const l={type:"insert",position:mt._createAt(t,e),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++,action:n};return n!="insert"&&s&&(l.before={name:s.name,attributes:new Map(s.attributes)}),l}_getRemoveDiff(t,e,n,i){return{type:"remove",action:n,position:mt._createAt(t,e),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,n){const i=[];n=new Map(n);for(const[s,l]of e){const d=n.has(s)?n.get(s):null;d!==l&&i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:s,attributeOldValue:l,attributeNewValue:d,changeCount:this._changeCount++}),n.delete(s)}for(const[s,l]of n)i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:s,attributeOldValue:null,attributeNewValue:l,changeCount:this._changeCount++});return i}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const n=this._changesInElement.get(e),i=t.startOffset;if(n){for(const s of n)if(s.type=="insert"&&i>=s.offset&&i<s.offset+s.howMany)return!0}return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,n){const i=new Z(mt._createAt(t,e),mt._createAt(t,e+n));for(const s of i.getItems({shallow:!0}))s.is("element")&&(this._changesInElement.delete(s),this._removeAllNestedChanges(s,0,s.maxOffset))}}function ug(o){return{node:o,name:o.is("$text")?"$text":o.name,attributes:new Map(o.getAttributes())}}function jh(o){const t=[];for(const e of o)if(e.is("$text"))for(let n=0;n<e.data.length;++n)t.push(ug(e));else t.push(ug(e));return t}function Jt(o,t){const e=[];let n=0,i=0;for(const s of t){if(s.offset>n){for(let l=0;l<s.offset-n;l++)e.push("e");i+=s.offset-n}if(s.type=="insert"){for(let l=0;l<s.howMany;l++)e.push("i");n=s.offset+s.howMany}else if(s.type=="remove"){for(let l=0;l<s.howMany;l++)e.push("r");n=s.offset,i+=s.howMany}else e.push(..."a".repeat(s.howMany).split("")),n=s.offset+s.howMany,i+=s.howMany}if(i<o)for(let s=0;s<o-i-n;s++)e.push("e");return e}function Ph(o){const t="position"in o&&o.position.root.rootName=="$graveyard",e="range"in o&&o.range.root.rootName=="$graveyard";return!t&&!e}class fd{_operations=[];_undoPairs=new Map;_undoneOperations=new Set;_baseVersionToOperationIndex=new Map;_version=0;_gaps=new Map;get version(){return this._version}set version(t){this._operations.length&&t>this._version+1&&this._gaps.set(this._version,t),this._version=t}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(t){if(t.baseVersion!==this.version)throw new H("model-document-history-addoperation-incorrect-version",this,{operation:t,historyVersion:this.version});this._operations.push(t),this._version++,this._baseVersionToOperationIndex.set(t.baseVersion,this._operations.length-1)}getOperations(t,e=this.version){if(!this._operations.length)return[];const n=this._operations[0];t===void 0&&(t=n.baseVersion);let i=e-1;for(const[d,u]of this._gaps)t>d&&t<u&&(t=u),i>d&&i<u&&(i=d-1);if(i<n.baseVersion||t>this.lastOperation.baseVersion)return[];let s=this._baseVersionToOperationIndex.get(t);s===void 0&&(s=0);let l=this._baseVersionToOperationIndex.get(i);return l===void 0&&(l=this._operations.length-1),this._operations.slice(s,l+1)}getOperation(t){const e=this._baseVersionToOperationIndex.get(t);if(e!==void 0)return this._operations[e]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class xa extends be{rootName;_document;_isAttached=!0;_isLoaded=!0;constructor(t,e,n="main"){super(e),this._document=t,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}xa.prototype.is=function(o,t){return t?t===this.name&&(o==="rootElement"||o==="model:rootElement"||o==="element"||o==="model:element"):o==="rootElement"||o==="model:rootElement"||o==="element"||o==="model:element"||o==="node"||o==="model:node"};const Fh="$graveyard";class Vh extends yt(){model;history;selection;roots;differ;isReadOnly;_postFixers;_hasSelectionChangedFromTheLastChangeBlock;constructor(t){super(),this.model=t,this.history=new fd,this.selection=new Fi(this),this.roots=new pe({idProperty:"rootName"}),this.differ=new xr(t.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Fh),this.listenTo(t,"applyOperation",((e,n)=>{const i=n[0];i.isDocumentOperation&&this.differ.bufferOperation(i)}),{priority:"high"}),this.listenTo(t,"applyOperation",((e,n)=>{const i=n[0];i.isDocumentOperation&&this.history.addOperation(i)}),{priority:"low"}),this.listenTo(this.selection,"change",(()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0})),this.listenTo(t.markers,"update",((e,n,i,s,l)=>{const d={...n.getData(),range:s};this.differ.bufferMarkerChange(n.name,l,d),i===null&&n.on("change",((u,m)=>{const g=n.getData();this.differ.bufferMarkerChange(n.name,{...g,range:m},g)}))})),this.registerPostFixer((e=>{let n=!1;for(const i of this.roots)i.isAttached()||i.isEmpty||(e.remove(e.createRangeIn(i)),n=!0);for(const i of this.model.markers)i.getRange().root.isAttached()||(e.removeMarker(i),n=!0);return n}))}get version(){return this.history.version}set version(t){this.history.version=t}get graveyard(){return this.getRoot(Fh)}createRoot(t="$root",e="main"){if(this.roots.get(e))throw new H("model-document-createroot-name-exists",this,{name:e});const n=new xa(this,t,e);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(t=!1){return this.getRoots(t).map((e=>e.rootName))}getRoots(t=!1){return this.roots.filter((e=>e!=this.graveyard&&(t||e.isAttached())&&e._isLoaded))}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=Ae(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const t=this.getRoots();return t.length?t[0]:this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),e=this.model,n=e.schema,i=e.createPositionFromPath(t,[0]);return n.getNearestSelectionRange(i)||e.createRange(i)}_validateSelectionRange(t){return Ea(t.start)&&Ea(t.end)}_callPostFixers(t){let e=!1;do for(const n of this._postFixers)if(this.selection.refresh(),e=n(t),e)break;while(e)}}function Ea(o){const t=o.textNode;if(t){const e=t.data,n=o.offset-t.startOffset;return!sr(e,n)&&!Nu(e,n)}return!0}class gd extends yt(){_markers=new Map;[Symbol.iterator](){return this._markers.values()}has(t){const e=t instanceof Da?t.name:t;return this._markers.has(e)}get(t){return this._markers.get(t)||null}_set(t,e,n=!1,i=!1){const s=t instanceof Da?t.name:t;if(s.includes(","))throw new H("markercollection-incorrect-marker-name",this);const l=this._markers.get(s);if(l){const m=l.getData(),g=l.getRange();let k=!1;return g.isEqual(e)||(l._attachLiveRange(Gn.fromRange(e)),k=!0),n!=l.managedUsingOperations&&(l._managedUsingOperations=n,k=!0),typeof i=="boolean"&&i!=l.affectsData&&(l._affectsData=i,k=!0),k&&this.fire(`update:${s}`,l,g,e,m),l}const d=Gn.fromRange(e),u=new Da(s,d,n,i);return this._markers.set(s,u),this.fire(`update:${s}`,u,null,e,{...u.getData(),range:null}),u}_remove(t){const e=t instanceof Da?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire(`update:${e}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0)}_refresh(t){const e=t instanceof Da?t.name:t,n=this._markers.get(e);if(!n)throw new H("markercollection-refresh-marker-not-exists",this);const i=n.getRange();this.fire(`update:${e}`,n,i,i,n.getData())}*getMarkersAtPosition(t){for(const e of this)e.getRange().containsPosition(t)&&(yield e)}*getMarkersIntersectingRange(t){for(const e of this)e.getRange().getIntersection(t)!==null&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values())e.name.startsWith(t+":")&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}class Da extends yt(Bo){name;_managedUsingOperations;_affectsData;_liveRange;constructor(t,e,n,i){super(),this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=i}get managedUsingOperations(){if(!this._liveRange)throw new H("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new H("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new H("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new H("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new H("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Da.prototype.is=function(o){return o==="marker"||o==="model:marker"};class hg extends Qn{sourcePosition;howMany;constructor(t,e){super(null),this.sourcePosition=t.clone(),this.howMany=e}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new H("detach-operation-on-document-node",this)}_execute(){Bh(Z._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Oo extends Bo{markers=new Map;_children=new un;constructor(t){super(),t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children)t.push(e.toJSON());return t}static fromJSON(t){const e=[];for(const n of t)n.name?e.push(be.fromJSON(n)):e.push(Xt.fromJSON(n));return new Oo(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=(function(i){return typeof i=="string"?[new Xt(i)]:(ti(i)||(i=[i]),Array.from(i).map((s=>typeof s=="string"?new Xt(s):s instanceof xi?new Xt(s.data,s.getAttributes()):s)))})(e);for(const i of n)i.parent!==null&&i._remove(),i.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const i of n)i.parent=null;return n}}Oo.prototype.is=function(o){return o==="documentFragment"||o==="model:documentFragment"};class kk{model;batch;constructor(t,e){this.model=t,this.batch=e}createText(t,e){return new Xt(t,e)}createElement(t,e){return new be(t,e)}createDocumentFragment(){return new Oo}cloneElement(t,e=!0){return t._clone(e)}insert(t,e,n=0){if(this._assertWriterUsedCorrectly(),t instanceof Xt&&t.data=="")return;const i=mt._createAt(e,n);if(t.parent){if(fn(t.root,i.root))return void this.move(Z._createOn(t),i);if(t.root.document)throw new H("model-writer-insert-forbidden-move",this);this.remove(t)}const s=i.root.document?i.root.document.version:null,l=new nn(i,t,s);if(t instanceof Xt&&(l.shouldReceiveAttributes=!0),this.batch.addOperation(l),this.model.applyOperation(l),t instanceof Oo)for(const[d,u]of t.markers){const m=mt._createAt(u.root,0),g={range:new Z(u.start._getCombined(m,i),u.end._getCombined(m,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(d)?this.updateMarker(d,g):this.addMarker(d,g)}}insertText(t,e,n,i){e instanceof Oo||e instanceof be||e instanceof mt?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,i)}insertElement(t,e,n,i){e instanceof Oo||e instanceof be||e instanceof mt?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,i)}append(t,e){this.insert(t,e,"end")}appendText(t,e,n){e instanceof Oo||e instanceof be?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}appendElement(t,e,n){e instanceof Oo||e instanceof be?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}setAttribute(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof Z){const i=n.getMinimalFlatRanges();for(const s of i)Uh(this,t,e,s)}else Hh(this,t,e,n)}setAttributes(t,e){for(const[n,i]of Ci(t))this.setAttribute(n,i,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof Z){const n=e.getMinimalFlatRanges();for(const i of n)Uh(this,t,null,i)}else Hh(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=n=>{for(const i of n.getAttributeKeys())this.removeAttribute(i,n)};if(t instanceof Z)for(const n of t.getItems())e(n);else e(t)}move(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof Z))throw new H("writer-move-invalid-range",this);if(!t.isFlat)throw new H("writer-move-range-not-flat",this);const i=mt._createAt(e,n);if(i.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!fn(t.root,i.root))throw new H("writer-move-different-document",this);const s=t.root.document?t.root.document.version:null,l=new re(t.start,t.end.offset-t.start.offset,i,s);this.batch.addOperation(l),this.model.applyOperation(l)}remove(t){this._assertWriterUsedCorrectly();const e=(t instanceof Z?t:Z._createOn(t)).getMinimalFlatRanges().reverse();for(const n of e)this._addOperationForAffectedMarkers("move",n),qh(n.start,n.end.offset-n.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof be))throw new H("writer-merge-no-element-before",this);if(!(n instanceof be))throw new H("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,n){return this.model.createPositionFromPath(t,e,n)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(...t){return this.model.createSelection(...t)}_mergeDetached(t){const e=t.nodeBefore,n=t.nodeAfter;this.move(Z._createIn(n),mt._createAt(e,"end")),this.remove(n)}_merge(t){const e=mt._createAt(t.nodeBefore,"end"),n=mt._createAt(t.nodeAfter,0),i=t.root.document.graveyard,s=new mt(i,[0]),l=t.root.document.version,d=new Ve(n,t.nodeAfter.maxOffset,e,s,l);this.batch.addOperation(d),this.model.applyOperation(d)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof be))throw new H("writer-rename-not-element-instance",this);const n=t.root.document?t.root.document.version:null,i=new wn(mt._createBefore(t),t.name,e,n);this.batch.addOperation(i),this.model.applyOperation(i)}split(t,e){this._assertWriterUsedCorrectly();let n,i,s=t.parent;if(!s.parent)throw new H("writer-split-element-no-parent",this);if(e||(e=s.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new H("writer-split-invalid-limit-element",this);do{const l=s.root.document?s.root.document.version:null,d=s.maxOffset-t.offset,u=ye.getInsertionPosition(t),m=new ye(t,d,u,null,l);this.batch.addOperation(m),this.model.applyOperation(m),n||i||(n=s,i=t.parent.nextSibling),s=(t=this.createPositionAfter(t.parent)).parent}while(s!==e);return{position:t,range:new Z(mt._createAt(n,"end"),mt._createAt(i,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new H("writer-wrap-range-not-flat",this);const n=e instanceof be?e:new be(e);if(n.childCount>0)throw new H("writer-wrap-element-not-empty",this);if(n.parent!==null)throw new H("writer-wrap-element-attached",this);this.insert(n,t.start);const i=new Z(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(i,mt._createAt(n,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),t.parent===null)throw new H("writer-unwrap-element-no-parent",this);this.move(Z._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||typeof e.usingOperation!="boolean")throw new H("writer-addmarker-no-usingoperation",this);const n=e.usingOperation,i=e.range,s=e.affectsData!==void 0&&e.affectsData;if(this.model.markers.has(t))throw new H("writer-addmarker-marker-exists",this);if(!i)throw new H("writer-addmarker-no-range",this);return n?(ce(this,t,null,i,s),this.model.markers.get(t)):this.model.markers._set(t,i,n,s)}updateMarker(t,e){this._assertWriterUsedCorrectly();const n=typeof t=="string"?t:t.name,i=this.model.markers.get(n);if(!i)throw new H("writer-updatemarker-marker-not-exists",this);if(!e)return Bt("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),void this.model.markers._refresh(i);const s=typeof e.usingOperation=="boolean",l=typeof e.affectsData=="boolean",d=l?e.affectsData:i.affectsData;if(!s&&!e.range&&!l)throw new H("writer-updatemarker-wrong-options",this);const u=i.getRange(),m=e.range?e.range:u;s&&e.usingOperation!==i.managedUsingOperations?e.usingOperation?ce(this,n,null,m,d):(ce(this,n,u,null,d),this.model.markers._set(n,m,void 0,d)):i.managedUsingOperations?ce(this,n,u,m,d):this.model.markers._set(n,m,void 0,d)}removeMarker(t){this._assertWriterUsedCorrectly();const e=typeof t=="string"?t:t.name;if(!this.model.markers.has(e))throw new H("writer-removemarker-no-marker",this);const n=this.model.markers.get(e);if(!n.managedUsingOperations)return void this.model.markers._remove(e);ce(this,e,n.getRange(),null,n.affectsData)}addRoot(t,e="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(t);if(n&&n.isAttached())throw new H("writer-addroot-root-exists",this);const i=this.model.document,s=new An(t,e,!0,i,i.version);return this.batch.addOperation(s),this.model.applyOperation(s),this.model.document.getRoot(t)}detachRoot(t){this._assertWriterUsedCorrectly();const e=typeof t=="string"?this.model.document.getRoot(t):t;if(!e||!e.isAttached())throw new H("writer-detachroot-no-root",this);for(const s of this.model.markers)s.getRange().root===e&&this.removeMarker(s);for(const s of e.getAttributeKeys())this.removeAttribute(s,e);this.remove(this.createRangeIn(e));const n=this.model.document,i=new An(e.rootName,e.name,!1,n,n.version);this.batch.addOperation(i),this.model.applyOperation(i)}setSelection(...t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...t)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._setSelectionAttribute(t,e);else for(const[n,i]of Ci(t))this._setSelectionAttribute(n,i)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const i=Fi._getStoreAttributeKey(t);this.setAttribute(i,e,n.anchor.parent)}n._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const n=Fi._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new H("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,e){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const i=n.getRange();let s=!1;if(t==="move"){const l=e;s=l.containsPosition(i.start)||l.start.isEqual(i.start)||l.containsPosition(i.end)||l.end.isEqual(i.end)}else{const l=e,d=l.nodeBefore,u=l.nodeAfter,m=i.start.parent==d&&i.start.isAtEnd,g=i.end.parent==u&&i.end.offset==0,k=i.end.nodeAfter==u,_=i.start.nodeAfter==u;s=m||g||k||_}s&&this.updateMarker(n.name,{range:i})}}}function Uh(o,t,e,n){const i=o.model,s=i.document;let l,d,u,m=n.start;for(const k of n.getWalker({shallow:!0}))u=k.item.getAttribute(t),l&&d!=u&&(d!=e&&g(),m=l),l=k.nextPosition,d=u;function g(){const k=new Z(m,l),_=k.root.document?s.version:null,v=new ze(k,t,d,e,_);o.batch.addOperation(v),i.applyOperation(v)}l instanceof mt&&l!=m&&d!=e&&g()}function Hh(o,t,e,n){const i=o.model,s=i.document,l=n.getAttribute(t);let d,u;if(l!=e){if(n.root===n){const m=n.document?s.version:null;u=new Vi(n,t,l,e,m)}else{d=new Z(mt._createBefore(n),o.createPositionAfter(n));const m=d.root.document?s.version:null;u=new ze(d,t,l,e,m)}o.batch.addOperation(u),i.applyOperation(u)}}function ce(o,t,e,n,i){const s=o.model,l=s.document,d=new Wn(t,e,n,s.markers,!!i,l.version);o.batch.addOperation(d),s.applyOperation(d)}function qh(o,t,e,n){let i;if(o.root.document){const s=n.document,l=new mt(s.graveyard,[0]);i=new re(o,t,l,s.version)}else i=new hg(o,t);e.addOperation(i),n.applyOperation(i)}function fn(o,t){return o===t||o instanceof xa&&t instanceof xa}function bk(o,t,e={}){if(t.isCollapsed)return;const n=t.getFirstRange();if(n.root.rootName=="$graveyard")return;const i=o.schema;o.change((s=>{if(!e.doNotResetEntireContent&&(function(m,g){const k=m.getLimitElement(g);if(!g.containsEntireContent(k))return!1;const _=g.getFirstRange();return _.start.parent==_.end.parent?!1:m.checkChild(k,"paragraph")})(i,t))return void(function(m,g){const k=m.model.schema.getLimitElement(g);m.remove(m.createRangeIn(k)),pd(m,m.createPositionAt(k,0),g)})(s,t);const l={};if(!e.doNotAutoparagraph){const m=t.getSelectedElement();m&&Object.assign(l,i.getAttributesWithProperty(m,"copyOnReplace",!0))}const[d,u]=(function(m){const g=m.root.document.model,k=m.start;let _=m.end;if(g.hasContent(m,{ignoreMarkers:!0})){const v=(function(E){const z=E.parent,L=z.root.document.model.schema,F=z.getAncestors({parentFirst:!0,includeSelf:!0});for(const G of F){if(L.isLimit(G))return null;if(L.isBlock(G))return G}})(_);if(v&&_.isTouching(g.createPositionAt(v,0))){const E=g.createSelection(m);g.modifySelection(E,{direction:"backward"});const z=E.getLastPosition(),L=g.createRange(z,_);g.hasContent(L,{ignoreMarkers:!0})||(_=z)}}return[on.fromPosition(k,"toPrevious"),on.fromPosition(_,"toNext")]})(n);d.isTouching(u)||s.remove(s.createRange(d,u)),e.leaveUnmerged||((function(m,g,k){const _=m.model;if(!Kl(m.model.schema,g,k))return;const[v,E]=(function(z,L){const F=z.getAncestors(),G=L.getAncestors();let X=0;for(;F[X]&&F[X]==G[X];)X++;return[F[X],G[X]]})(g,k);!v||!E||(!_.hasContent(v,{ignoreMarkers:!0})&&_.hasContent(E,{ignoreMarkers:!0})?mg(m,g,k,v.parent):Gh(m,g,k,v.parent))})(s,d,u),i.removeDisallowedAttributes(d.parent.getChildren(),s)),Yl(s,t,d),!e.doNotAutoparagraph&&(function(m,g){const k=m.checkChild(g,"$text"),_=m.checkChild(g,"paragraph");return!k&&_})(i,d)&&pd(s,d,t,l),d.detach(),u.detach()}))}function Gh(o,t,e,n){const i=t.parent,s=e.parent;if(i!=n&&s!=n){for(t=o.createPositionAfter(i),(e=o.createPositionBefore(s)).isEqual(t)||o.insert(s,t),o.merge(t);e.parent.isEmpty;){const l=e.parent;e=o.createPositionBefore(l),o.remove(l)}Kl(o.model.schema,t,e)&&Gh(o,t,e,n)}}function mg(o,t,e,n){const i=t.parent,s=e.parent;if(i!=n&&s!=n){for(t=o.createPositionAfter(i),(e=o.createPositionBefore(s)).isEqual(t)||o.insert(i,e);t.parent.isEmpty;){const l=t.parent;t=o.createPositionBefore(l),o.remove(l)}e=o.createPositionBefore(s),(function(l,d){const u=d.nodeBefore,m=d.nodeAfter;u.name!=m.name&&l.rename(u,m.name),l.clearAttributes(u),l.setAttributes(Object.fromEntries(m.getAttributes()),u),l.merge(d)})(o,e),Kl(o.model.schema,t,e)&&mg(o,t,e,n)}}function Kl(o,t,e){const n=t.parent,i=e.parent;return n!=i&&!o.isLimit(n)&&!o.isLimit(i)&&(function(s,l,d){const u=new Z(s,l);for(const m of u.getWalker())if(d.isLimit(m.item))return!1;return!0})(t,e,o)}function pd(o,t,e,n={}){const i=o.createElement("paragraph");o.model.schema.setAllowedAttributes(i,n,o),o.insert(i,t),Yl(o,e,o.createPositionAt(i,0))}function Yl(o,t,e){t instanceof Fi?o.setSelection(e):t.setTo(e)}function Kh(o,t){const e=[];Array.from(o.getItems({direction:"backward"})).map((n=>t.createRangeOn(n))).filter((n=>(n.start.isAfter(o.start)||n.start.isEqual(o.start))&&(n.end.isBefore(o.end)||n.end.isEqual(o.end)))).forEach((n=>{e.push(n.start.parent),t.remove(n)})),e.forEach((n=>{let i=n;for(;i.parent&&i.isEmpty;){const s=t.createRangeOn(i);i=i.parent,t.remove(s)}}))}class fg{model;writer;position;canMergeWith;schema;_documentFragment;_documentFragmentPosition;_firstNode=null;_lastNode=null;_lastAutoParagraph=null;_filterAttributesOf=[];_affectedStart=null;_affectedEnd=null;_nodeToSelect=null;constructor(t,e,n){this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=e.createDocumentFragment(),this._documentFragmentPosition=e.createPositionAt(this._documentFragment,0)}handleNodes(t){for(const e of Array.from(t))this._handleNode(e);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const e=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(t);if(n.isAfter(e)){if(this._lastNode=t,this.position.parent!=t||!this.position.isAtEnd)throw new H("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Z._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Z(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){if(this.schema.isObject(t))return void this._handleObject(t);let e=this._checkAndAutoParagraphToAllowedPosition(t);e||(e=this._checkAndSplitToAllowedPosition(t),e)?(this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t):this._handleDisallowedNode(t)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=on.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleObject(t){this._checkAndSplitToAllowedPosition(t)?this._appendToFragment(t):this._tryAutoparagraphing(t)}_handleDisallowedNode(t){t.is("element")?this.handleNodes(t.getChildren()):this._tryAutoparagraphing(t)}_appendToFragment(t){if(!this.schema.checkChild(this.position,t))throw new H("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=t:this._nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=on.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=on.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof be)||!this._canMergeLeft(t))return;const e=on._createBefore(t);e.stickiness="toNext";const n=on.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=on._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=on._createAt(e.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof be)||!this._canMergeRight(t))return;const e=on._createAfter(t);if(e.stickiness="toNext",!this.position.isEqual(e))throw new H("insertcontent-invalid-insertion-position",this);this.position=mt._createAt(e.nodeBefore,"end");const n=on.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=on._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=on._createAt(e.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_canMergeLeft(t){const e=t.previousSibling;return e instanceof be&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t)}_canMergeRight(t){const e=t.nextSibling;return e instanceof be&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e)}_tryAutoparagraphing(t){const e=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,e)&&this.schema.checkChild(e,t)&&(e._appendChild(t),this._handleNode(e))}_checkAndAutoParagraphToAllowedPosition(t){if(this.schema.checkChild(this.position.parent,t))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",t))return!1;this._insertPartialFragment();const e=this.writer.createElement("paragraph");return this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0),!0}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(this.position.parent,t);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){const n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===e&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const n=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(t,e){return this.schema.checkChild(t,e)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,e)}}function Yh(o,t,e,n={}){if(!o.schema.isObject(t))throw new H("insertobject-element-not-an-object",o,{object:t});const i=e||o.document.selection;let s=i;n.findOptimalPosition&&o.schema.isBlock(t)&&(s=o.createSelection(o.schema.findOptimalInsertionRange(i,n.findOptimalPosition)));const l=Ye(i.getSelectedBlocks()),d={};return l&&Object.assign(d,o.schema.getAttributesWithProperty(l,"copyOnReplace",!0)),o.change((u=>{s.isCollapsed||o.deleteContent(s,{doNotAutoparagraph:!0});let m=t;const g=s.anchor.parent;!o.schema.checkChild(g,t)&&o.schema.checkChild(g,"paragraph")&&o.schema.checkChild("paragraph",t)&&(m=u.createElement("paragraph"),u.insert(t,m)),o.schema.setAllowedAttributes(m,d,u);const k=o.insertContent(m,s);return k.isCollapsed||n.setSelection&&(function(_,v,E,z){const L=_.model;if(E=="on")return void _.setSelection(v,"on");if(E!="after")throw new H("insertobject-invalid-place-parameter-value",L);let F=v.nextSibling;if(L.schema.isInline(v))return void _.setSelection(v,"after");!(F&&L.schema.checkChild(F,"$text"))&&L.schema.checkChild(v.parent,"paragraph")&&(F=_.createElement("paragraph"),L.schema.setAllowedAttributes(F,z,_),L.insertContent(F,_.createPositionAfter(v))),F&&_.setSelection(F,0)})(u,t,n.setSelection,d),k}))}const Qh=' ,.?!:;"-()';function wk(o,t){const{isForward:e,walker:n,unit:i,schema:s,treatEmojiAsSingleUnit:l}=o,{type:d,item:u,nextPosition:m}=t;if(d=="text")return o.unit==="word"?(function(g,k){let _=g.position.textNode;for(_||(_=k?g.position.nodeAfter:g.position.nodeBefore);_&&_.is("$text");){const v=g.position.offset-_.startOffset;if(pg(_,v,k))_=k?g.position.nodeAfter:g.position.nodeBefore;else{if(Ak(_.data,v,k))break;g.next()}}return g.position})(n,e):(function(g,k,_){const v=g.position.textNode;if(v){const E=v.data;let z=g.position.offset-v.startOffset;for(;sr(E,z)||k=="character"&&Nu(E,z)||_&&bf(E,z);)g.next(),z=g.position.offset-v.startOffset}return g.position})(n,i,l);if(d==(e?"elementStart":"elementEnd")){if(s.isSelectable(u))return mt._createAt(u,e?"after":"before");if(s.checkChild(m,"$text"))return m}else{if(s.isLimit(u))return void n.skip((()=>!0));if(s.checkChild(m,"$text"))return m}}function gg(o,t){const e=o.root,n=mt._createAt(e,t?"end":0);return t?new Z(o,n):new Z(n,o)}function Ak(o,t,e){const n=t+(e?0:-1);return Qh.includes(o.charAt(n))}function pg(o,t,e){return t===(e?o.offsetSize:0)}class _k extends ge(){markers;document;schema;_pendingChanges;_currentWriter;constructor(){super(),this.markers=new gd,this.document=new Vh(this),this.schema=new tg,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((t=>this.decorate(t))),this.on("applyOperation",((t,e)=>{e[0]._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(((t,e)=>{if(e.name==="$marker")return!0})),Eh(this),this.document.registerPostFixer(Ul),this.on("insertContent",((t,[e,n])=>{t.return=(function(i,s,l){return i.change((d=>{const u=l||i.document.selection;u.isCollapsed||i.deleteContent(u,{doNotAutoparagraph:!0});const m=new fg(i,d,u.anchor),g=[];let k;if(s.is("documentFragment")){if(s.markers.size){const E=[];for(const[z,L]of s.markers){const{start:F,end:G}=L,X=F.isEqual(G);E.push({position:F,name:z,isCollapsed:X},{position:G,name:z,isCollapsed:X})}E.sort((({position:z},{position:L})=>z.isBefore(L)?1:-1));for(const{position:z,name:L,isCollapsed:F}of E){let G=null,X=null;const lt=z.parent===s&&z.isAtStart,vt=z.parent===s&&z.isAtEnd;lt||vt?F&&(X=lt?"start":"end"):(G=d.createElement("$marker"),d.insert(G,z)),g.push({name:L,element:G,collapsed:X})}}k=s.getChildren()}else k=[s];m.handleNodes(k);let _=m.getSelectionRange();if(s.is("documentFragment")&&g.length){const E=_?Gn.fromRange(_):null,z={};for(let L=g.length-1;L>=0;L--){const{name:F,element:G,collapsed:X}=g[L],lt=!z[F];if(lt&&(z[F]=[]),G){const vt=d.createPositionAt(G,"before");z[F].push(vt),d.remove(G)}else{const vt=m.getAffectedRange();if(!vt){X&&z[F].push(m.position);continue}X?z[F].push(vt[X]):z[F].push(lt?vt.start:vt.end)}}for(const[L,[F,G]]of Object.entries(z))F&&G&&F.root===G.root&&F.root.document&&!d.model.markers.has(L)&&d.addMarker(L,{usingOperation:!0,affectsData:!0,range:new Z(F,G)});E&&(_=E.toRange(),E.detach())}_&&(u instanceof Fi?d.setSelection(_):u.setTo(_));const v=m.getAffectedRange()||i.createRange(u.anchor);return m.destroy(),v}))})(this,e,n)})),this.on("insertObject",((t,[e,n,i])=>{t.return=Yh(this,e,n,i)})),this.on("canEditAt",(t=>{const e=!this.document.isReadOnly;t.return=e,e||t.stop()}))}change(t){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new ya,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(e){H.rethrowUnexpectedError(e,this)}}enqueueChange(t,e){try{t?typeof t=="function"?(e=t,t=new ya):t instanceof ya||(t=new ya(t)):t=new ya,this._pendingChanges.push({batch:t,callback:e}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(n){H.rethrowUnexpectedError(n,this)}}applyOperation(t){t._execute()}insertContent(t,e,n,...i){const s=Wh(e,n);return this.fire("insertContent",[t,s,n,...i])}insertObject(t,e,n,i,...s){const l=Wh(e,n);return this.fire("insertObject",[t,l,i,i,...s])}deleteContent(t,e){bk(this,t,e)}modifySelection(t,e){(function(n,i,s={}){const l=n.schema,d=s.direction!="backward",u=s.unit?s.unit:"character",m=!!s.treatEmojiAsSingleUnit,g=i.focus,k=new Zi({boundaries:gg(g,d),singleCharacters:!0,direction:d?"forward":"backward"}),_={walker:k,schema:l,isForward:d,unit:u,treatEmojiAsSingleUnit:m};let v;for(;v=k.next();){if(v.done)return;const E=wk(_,v.value);if(E)return void(i instanceof Fi?n.change((z=>{z.setSelectionFocus(E)})):i.setFocus(E))}})(this,t,e)}getSelectedContent(t){return(function(e,n){return e.change((i=>{const s=i.createDocumentFragment(),l=n.getFirstRange();if(!l||l.isCollapsed)return s;const d=l.start.root,u=l.start.getCommonPath(l.end),m=d.getNodeByPath(u);let g;g=l.start.parent==l.end.parent?l:i.createRange(i.createPositionAt(m,l.start.path[u.length]),i.createPositionAt(m,l.end.path[u.length]+1));const k=g.end.offset-g.start.offset;for(const _ of g.getItems({shallow:!0}))_.is("$textProxy")?i.appendText(_.data,_.getAttributes(),s):i.append(i.cloneElement(_,!0),s);if(g!=l){const _=l._getTransformedByMove(g.start,i.createPositionAt(s,0),k)[0],v=i.createRange(i.createPositionAt(s,0),_.start);Kh(i.createRange(_.end,i.createPositionAt(s,"end")),i),Kh(v,i)}return s}))})(this,t)}hasContent(t,e={}){const n=t instanceof Z?t:Z._createIn(t);if(n.isCollapsed)return!1;const{ignoreWhitespaces:i=!1,ignoreMarkers:s=!1}=e;if(!s){for(const l of this.markers.getMarkersIntersectingRange(n))if(l.affectsData)return!0}for(const l of n.getItems())if(this.schema.isContent(l)&&(!l.is("$textProxy")||!i||l.data.search(/\S/)!==-1))return!0;return!1}canEditAt(t){const e=Wh(t);return this.fire("canEditAt",[e])}createPositionFromPath(t,e,n){return new mt(t,e,n)}createPositionAt(t,e){return mt._createAt(t,e)}createPositionAfter(t){return mt._createAfter(t)}createPositionBefore(t){return mt._createBefore(t)}createRange(t,e){return new Z(t,e)}createRangeIn(t){return Z._createIn(t)}createRangeOn(t){return Z._createOn(t)}createSelection(...t){return new mn(...t)}createBatch(t){return new ya(t)}createOperationFromJSON(t){return Gl.fromJSON(t,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const e=this._pendingChanges[0].batch;this._currentWriter=new kk(this,e);const n=this._pendingChanges[0].callback(this._currentWriter);t.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return t}}function Wh(o,t){if(o)return o instanceof mn||o instanceof Fi?o:o instanceof ke?t||t===0?new mn(o,t):o.is("rootElement")?new mn(o,"in"):new mn(o,"on"):new mn(o)}class Er extends br{domEventType="click";onDomEvent(t){this.fire(t.type,t)}}class kd extends br{domEventType=["mousedown","mouseup","mouseover","mouseout"];onDomEvent(t){this.fire(t.type,t)}}class no{document;constructor(t){this.document=t}createDocumentFragment(t){return new kr(this.document,t)}createElement(t,e,n){return new qn(this.document,t,e,n)}createText(t){return new ue(this.document,t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,n){return n._insertChild(t,e)}removeChildren(t,e,n){return n._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const n=t.parent;if(n){const i=n.getChildIndex(t);return this.removeChildren(i,1,n),this.insertChild(i,e,n),!0}return!1}unwrapElement(t){const e=t.parent;if(e){const n=e.getChildIndex(t);this.remove(t),this.insertChild(n,t.getChildren(),e)}}rename(t,e){const n=new qn(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){Sn(t)&&n===void 0?e._setStyle(t):n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return bt._createAt(t,e)}createPositionAfter(t){return bt._createAfter(t)}createPositionBefore(t){return bt._createBefore(t)}createRange(t,e){return new Lt(t,e)}createRangeOn(t){return Lt._createOn(t)}createRangeIn(t){return Lt._createIn(t)}createSelection(...t){return new vi(...t)}}class bd{crashes=[];state="initializing";_crashNumberLimit;_now=Date.now;_minimumNonErrorTimePeriod;_boundErrorHandler;_listeners;constructor(t){if(this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=e=>{const n="error"in e?e.error:e.reason;n instanceof Error&&this._handleError(n,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter((n=>n!==e))}_fire(t,...e){const n=this._listeners[t]||[];for(const i of n)i.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e instanceof ErrorEvent?e.filename:void 0,lineno:e instanceof ErrorEvent?e.lineno:void 0,colno:e instanceof ErrorEvent?e.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function $h(o,t=new Set){const e=[o],n=new Set;let i=0;for(;e.length>i;){const s=e[i++];if(!n.has(s)&&Ck(s)&&!t.has(s))if(n.add(s),Symbol.iterator in s)try{for(const l of s)e.push(l)}catch{}else for(const l in s)l!=="defaultValue"&&e.push(s[l])}return n}function Ck(o){const t=Object.prototype.toString.call(o),e=typeof o;return!(e==="number"||e==="boolean"||e==="string"||e==="symbol"||e==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||o==null||o._watchdogExcluded||o instanceof EventTarget||o instanceof Event)}function Zh(o,t,e=new Set){if(o===t&&typeof(n=o)=="object"&&n!==null)return!0;var n;const i=$h(o,e),s=$h(t,e);for(const l of i)if(s.has(l))return!0;return!1}const Sa=function(o,t,e){var n=!0,i=!0;if(typeof o!="function")throw new TypeError("Expected a function");return xe(e)&&(n="leading"in e?!!e.leading:n,i="trailing"in e?!!e.trailing:i),wr(o,t,{leading:n,maxWait:t,trailing:i})};class wd extends bd{_editor=null;_lifecyclePromise=null;_throttledSave;_data;_lastDocumentVersion;_elementOrData;_initUsingData=!0;_editables={};_config;_excludedProps;constructor(t,e={}){super(e),this._throttledSave=Sa(this._save.bind(this),typeof e.saveInterval=="number"?e.saveInterval:5e3),t&&(this._creator=(n,i)=>t.create(n,i)),this._destructor=n=>n.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then((()=>(this.state="initializing",this._fire("stateChange"),this._destroy()))).catch((t=>{console.error("An error happened during the editor destroying.",t)})).then((()=>{const t={},e=[],n=this._config.rootsAttributes||{},i={};for(const[l,d]of Object.entries(this._data.roots))d.isLoaded?(t[l]="",i[l]=n[l]||{}):e.push(l);const s={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:e,rootsAttributes:i,_watchdogInitialData:this._data};return delete s.initialData,s.extraPlugins.push(vk),this._initUsingData?this.create(t,s,s.context):Jo(this._elementOrData)?this.create(this._elementOrData,s,s.context):this.create(this._editables,s,s.context)})).then((()=>{this._fire("restart")}))}create(t=this._elementOrData,e=this._config,n){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then((()=>(super._startErrorHandling(),this._elementOrData=t,this._initUsingData=typeof t=="string"||Object.keys(t).length>0&&typeof Object.values(t)[0]=="string",this._config=this._cloneEditorConfiguration(e)||{},this._config.context=n,this._creator(t,this._config)))).then((i=>{this._editor=i,i.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=i.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})).finally((()=>{this._lifecyclePromise=null})),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then((()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))).finally((()=>{this._lifecyclePromise=null})),this._lifecyclePromise}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling(),this._throttledSave.cancel();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)}))}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=t}catch(e){console.error(e,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t=this._editor,e=t.model.document.roots.filter((d=>d.isAttached()&&d.rootName!="$graveyard")),{plugins:n}=t,i=n.has("CommentsRepository")&&n.get("CommentsRepository"),s=n.has("TrackChanges")&&n.get("TrackChanges"),l={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};e.forEach((d=>{l.roots[d.rootName]={content:JSON.stringify(Array.from(d.getChildren())),attributes:JSON.stringify(Array.from(d.getAttributes())),isLoaded:d._isLoaded}}));for(const d of t.model.markers)d._affectsData&&(l.markers[d.name]={rangeJSON:d.getRange().toJSON(),usingOperation:d._managedUsingOperations,affectsData:d._affectsData});return i&&(l.commentThreads=JSON.stringify(i.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),s&&(l.suggestions=JSON.stringify(s.getSuggestions({toJSON:!0,skipNotAttached:!0}))),l}_getEditables(){const t={};for(const e of this.editor.model.document.getRootNames()){const n=this.editor.ui.getEditableElement(e);n&&(t[e]=n)}return t}_isErrorComingFromThisItem(t){return Zh(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return Bc(t,((e,n)=>Jo(e)||n==="context"?e:void 0))}}class vk{editor;_data;constructor(t){this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",(t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},(e=>{this._restoreCollaborationData(),this._restoreEditorData(e)})),this.editor.data.fire("ready")}),{priority:999})}_createNode(t,e){if("name"in e){const n=t.createElement(e.name,e.attributes);if(e.children)for(const i of e.children)n._appendChild(this._createNode(t,i));return n}return t.createText(e.data,e.attributes)}_restoreEditorData(t){const e=this.editor;Object.entries(this._data.roots).forEach((([n,{content:i,attributes:s}])=>{const l=JSON.parse(i),d=JSON.parse(s),u=e.model.document.getRoot(n);for(const[m,g]of d)t.setAttribute(m,g,u);for(const m of l){const g=this._createNode(t,m);t.insert(g,u,"end")}})),Object.entries(this._data.markers).forEach((([n,i])=>{const{document:s}=e.model,{rangeJSON:{start:l,end:d},...u}=i,m=s.getRoot(l.root),g=t.createPositionFromPath(m,l.path,l.stickiness),k=t.createPositionFromPath(m,d.path,d.stickiness),_=t.createRange(g,k);t.addMarker(n,{range:_,...u})}))}_restoreCollaborationData(){const t=JSON.parse(this._data.commentThreads),e=JSON.parse(this._data.suggestions);t.forEach((n=>{const i=this.editor.config.get("collaboration.channelId"),s=this.editor.plugins.get("CommentsRepository");s.hasCommentThread(n.threadId)&&s.getCommentThread(n.threadId).remove(),s.addCommentThread({channelId:i,...n})})),e.forEach((n=>{const i=this.editor.plugins.get("TrackChangesEditing");i.hasSuggestion(n.id)?i.getSuggestion(n.id).attributes=n.attributes:i.addSuggestionData(n)}))}}const En=Symbol("MainQueueId");class Jh extends bd{_watchdogs=new Map;_watchdogConfig;_context=null;_contextProps=new Set;_actionQueues=new kg;_contextConfig;_item;constructor(t,e={}){super(e),this._watchdogConfig=e,this._creator=n=>t.create(n),this._destructor=n=>n.destroy(),this._actionQueues.onEmpty((()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))}))}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}get context(){return this._context}create(t={}){return this._actionQueues.enqueue(En,(()=>(this._contextConfig=t,this._create())))}getItem(t){return this._getWatchdog(t)._item}getItemState(t){return this._getWatchdog(t).state}add(t){const e=Xh(t);return Promise.all(e.map((n=>this._actionQueues.enqueue(n.id,(()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let i;if(this._watchdogs.has(n.id))throw new Error(`Item with the given id is already added: '${n.id}'.`);if(n.type==="editor")return i=new wd(null,this._watchdogConfig),i.setCreator(n.creator),i._setExcludedProperties(this._contextProps),n.destructor&&i.setDestructor(n.destructor),this._watchdogs.set(n.id,i),i.on("error",((s,{error:l,causesRestart:d})=>{this._fire("itemError",{itemId:n.id,error:l}),d&&this._actionQueues.enqueue(n.id,(()=>new Promise((u=>{const m=()=>{i.off("restart",m),this._fire("itemRestart",{itemId:n.id}),u()};i.on("restart",m)}))))})),i.create(n.sourceElementOrData,n.config,this._context);throw new Error(`Not supported item type: '${n.type}'.`)})))))}remove(t){const e=Xh(t);return Promise.all(e.map((n=>this._actionQueues.enqueue(n,(()=>{const i=this._getWatchdog(n);return this._watchdogs.delete(n),i.destroy()})))))}destroy(){return this._actionQueues.enqueue(En,(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())))}_restart(){return this._actionQueues.enqueue(En,(()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch((t=>{console.error("An error happened during destroying the context or items.",t)})).then((()=>this._create())).then((()=>this._fire("restart"))))))}_create(){return Promise.resolve().then((()=>(this._startErrorHandling(),this._creator(this._contextConfig)))).then((t=>(this._context=t,this._contextProps=$h(this._context),Promise.all(Array.from(this._watchdogs.values()).map((e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))))}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling();const t=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map((e=>e.destroy()))).then((()=>this._destructor(t)))}))}_getWatchdog(t){const e=this._watchdogs.get(t);if(!e)throw new Error(`Item with the given id was not registered: ${t}.`);return e}_isErrorComingFromThisItem(t){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(t))return!1;return Zh(this._context,t.context)}}class kg{_onEmptyCallbacks=[];_queues=new Map;_activeActions=0;onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,e){const n=t===En;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const i=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(En),this._queues.get(t)])).then(e),s=i.catch((()=>{}));return this._queues.set(t,s),i.finally((()=>{this._activeActions--,this._queues.get(t)===s&&this._activeActions===0&&this._onEmptyCallbacks.forEach((l=>l()))}))}}function Xh(o){return Array.isArray(o)?o:[o]}class bg{_commands;constructor(){this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const n=this.get(t);if(!n)throw new H("commandcollection-command-not-found",this,{commandName:t});return n.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}const bs="contentEditing",hi="common";class wg{keystrokeInfos=new Map;_editor;constructor(t){this._editor=t;const e=t.config.get("menuBar.isVisible"),n=t.locale.t;this.addKeystrokeInfoCategory({id:bs,label:n("Content editing keystrokes"),description:n("These keyboard shortcuts allow for quick access to content editing features.")});const i=[{label:n("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:n("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:n("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:n("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:n("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:n("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];e&&i.push({label:n("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:n("User interface and content navigation keystrokes"),description:n("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:i}]})}addKeystrokeInfoCategory({id:t,label:e,description:n,groups:i}){this.keystrokeInfos.set(t,{id:t,label:e,description:n,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:t,id:hi}),i&&i.forEach((s=>{this.addKeystrokeInfoGroup({categoryId:t,...s})}))}addKeystrokeInfoGroup({categoryId:t=bs,id:e,label:n,keystrokes:i}){const s=this.keystrokeInfos.get(t);if(!s)throw new H("accessibility-unknown-keystroke-info-category",this._editor,{groupId:e,categoryId:t});s.groups.set(e,{id:e,label:n,keystrokes:i||[]})}addKeystrokeInfos({categoryId:t=bs,groupId:e=hi,keystrokes:n}){if(!this.keystrokeInfos.has(t))throw new H("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:t,keystrokes:n});const i=this.keystrokeInfos.get(t);if(!i.groups.has(e))throw new H("accessibility-unknown-keystroke-info-group",this._editor,{groupId:e,categoryId:t,keystrokes:n});i.groups.get(e).keystrokes.push(...n)}}class Ad extends ge(){accessibility;commands;config;conversion;data;editing;locale;model;plugins;keystrokes;t;static defaultConfig;static builtinPlugins;_context;_readOnlyLocks;constructor(t={}){super();const e=this.constructor,{translations:n,...i}=e.defaultConfig||{},{translations:s=n,...l}=t,d=t.language||i.language;this._context=t.context||new Rc({language:d,translations:s}),this._context._addEditor(this,!t.context);const u=Array.from(e.builtinPlugins||[]);this.config=new _u(l,i),this.config.define("plugins",u),this.config.define(this._context._getEditorConfig()),this.plugins=new ju(this,u,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new bg,this.set("state","initializing"),this.once("ready",(()=>this.state="ready"),{priority:"high"}),this.once("destroy",(()=>this.state="destroyed"),{priority:"high"}),this.model=new _k,this.on("change:isReadOnly",(()=>{this.model.document.isReadOnly=this.isReadOnly}));const m=new Mf;this.data=new cd(this.model,m),this.editing=new ui(this.model,m),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new lg([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new ai(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new wg(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(t){throw new H("editor-isreadonly-has-no-setter")}enableReadOnlyMode(t){if(typeof t!="string"&&typeof t!="symbol")throw new H("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)||(this._readOnlyLocks.add(t),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(t){if(typeof t!="string"&&typeof t!="symbol")throw new H("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)&&(this._readOnlyLocks.delete(t),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(t){this.data.set(t)}getData(t){return this.data.get(t)}initPlugins(){const t=this.config,e=t.get("plugins"),n=t.get("removePlugins")||[],i=t.get("extraPlugins")||[],s=t.get("substitutePlugins")||[];return this.plugins.init(e.concat(i),n,s)}destroy(){let t=Promise.resolve();return this.state=="initializing"&&(t=new Promise((e=>this.once("ready",e)))),t.then((()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()})).then((()=>this.plugins.destroy())).then((()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})).then((()=>this._context._removeEditor(this)))}execute(t,...e){try{return this.commands.execute(t,...e)}catch(n){H.rethrowUnexpectedError(n,this)}}focus(){this.editing.view.focus()}static create(...t){throw new Error("This is an abstract method.")}static Context=Rc;static EditorWatchdog=wd;static ContextWatchdog=Jh}function Ui(o){return class extends o{sourceElement;updateSourceElement(t){if(!this.sourceElement)throw new H("editor-missing-sourceelement",this);const e=this.config.get("updateSourceElementOnDestroy"),n=this.sourceElement instanceof HTMLTextAreaElement;if(!e&&!n)return void Un(this.sourceElement,"");const i=typeof t=="string"?t:this.data.get();Un(this.sourceElement,i)}}}Ui.updateSourceElement=Ui(Object).prototype.updateSourceElement;class Ag extends na{_actions;static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new pe({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if(typeof t!="string")throw new H("pendingactions-add-invalid-message",this);const e=new(ge());return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const St={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var ws=D(7621),_g={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(ws.A,_g),ws.A.locals;class Lo extends It{static presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",t.if("isVisible","ck-hidden",(e=>!e)),"ck-reset_all-excluded",t.if("isColorInherited","ck-icon_inherit-color")],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(()=>{this._updateXMLContent(),this._colorFillPaths()})),this.on("change:fillColor",(()=>{this._colorFillPaths()}))}_updateXMLContent(){if(this.content){const t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=t.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:n,value:i}of Array.from(t.attributes))Lo.presentationalAttributeNames.includes(n)&&this.element.setAttribute(n,i);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((t=>{t.style.fill=this.fillColor}))}}class yk extends It{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const t=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:t.to("style"),id:t.to("id")},children:[{text:t.to("text")}]})}}var Cg=D(9715),xk={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Cg.A,xk),Cg.A.locals;class ee extends It{children;labelView;iconView;keystrokeView;_focusDelayed=null;constructor(t,e=new yk){super(t);const n=this.bindTemplate,i=Mt();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${i}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(e),this.iconView=new Lo,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const s={tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",(l=>!l)),n.if("isVisible","ck-hidden",(l=>!l)),n.to("isOn",(l=>l?"ck-on":"ck-off")),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role:n.to("role"),type:n.to("type",(l=>l||"button")),tabindex:n.to("tabindex"),"aria-checked":n.to("ariaChecked"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy"),"aria-disabled":n.if("isEnabled",!0,(l=>!l)),"aria-pressed":n.to("isOn",(l=>!!this.isToggleable&&String(!!l))),"data-cke-tooltip-text":n.to("_tooltipString"),"data-cke-tooltip-position":n.to("tooltipPosition")},children:this.children,on:{click:n.to((l=>{this.isEnabled?this.fire("execute"):l.preventDefault()}))}};N.isSafari&&(this._focusDelayed||(this._focusDelayed=rr((()=>this.focus()),0)),s.on.mousedown=n.to((()=>{this._focusDelayed()})),s.on.mouseup=n.to((()=>{this._focusDelayed.cancel()}))),this.setTemplate(s)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(t){return t.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),t}_createKeystrokeView(){const t=new It;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(e=>ve(e)))}]}),t}_getTooltipString(t,e,n){return t?typeof t=="string"?t:(n&&(n=ve(n)),t instanceof Function?t(e,n):`${e}${n?` (${n})`:""}`):""}}var vg=D(7913),Ek={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(vg.A,Ek),vg.A.locals;class yg extends It{children;iconView;constructor(t,e={}){super(t);const n=this.bindTemplate;this.set("label",e.label||""),this.set("class",e.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",n.to("class")]},children:this.children}),e.icon&&(this.iconView=new Lo,this.iconView.content=e.icon,this.children.add(this.iconView));const i=new It(t);i.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:n.to("label")}]}),this.children.add(i)}}class $n extends yt(){focusables;focusTracker;keystrokeHandler;actions;constructor(t){if(super(),this.focusables=t.focusables,this.focusTracker=t.focusTracker,this.keystrokeHandler=t.keystrokeHandler,this.actions=t.actions,t.actions&&t.keystrokeHandler)for(const e in t.actions){let n=t.actions[e];typeof n=="string"&&(n=[n]);for(const i of n)t.keystrokeHandler.set(i,((s,l)=>{this[e](),l()}))}this.on("forwardCycle",(()=>this.focusFirst()),{priority:"low"}),this.on("backwardCycle",(()=>this.focusLast()),{priority:"low"})}get first(){return this.focusables.find(As)||null}get last(){return this.focusables.filter(As).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let t=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find(((e,n)=>{const i=e.element===this.focusTracker.focusedElement;return i&&(t=n),i})),t)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const t=this.next;t&&this.focusables.getIndex(t)===this.current||t===this.first?this.fire("forwardCycle"):this._focus(t,1)}focusPrevious(){const t=this.previous;t&&this.focusables.getIndex(t)===this.current||t===this.last?this.fire("backwardCycle"):this._focus(t,-1)}_focus(t,e){t&&this.focusTracker.focusedElement!==t.element&&t.focus(e)}_getDomFocusableItem(t){const e=this.focusables.length;if(!e)return null;const n=this.current;if(n===null)return this[t===1?"first":"last"];let i=this.focusables.get(n),s=(n+e+t)%e;do{const l=this.focusables.get(s);if(As(l)){i=l;break}s=(s+e+t)%e}while(s!==n);return i}}function As(o){return Ta(o)&&oi(o.element)}function Ta(o){return!(!("focus"in o)||typeof o.focus!="function")}function Dk(o){return class extends o{_onDragBound=this._onDrag.bind(this);_onDragEndBound=this._onDragEnd.bind(this);_lastDraggingCoordinates={x:0,y:0};constructor(...t){super(...t),this.on("render",(()=>{this._attachListeners()})),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(S.document,"mouseup",this._onDragEndBound),this.listenTo(S.document,"touchend",this._onDragEndBound),this.listenTo(S.document,"mousemove",this._onDragBound),this.listenTo(S.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(S.document,"mouseup",this._onDragEndBound),this.stopListening(S.document,"touchend",this._onDragEndBound),this.stopListening(S.document,"mousemove",this._onDragBound),this.stopListening(S.document,"touchmove",this._onDragBound)}_onDragStart(t,e){if(!this._isHandleElementPressed(e))return;this._attachDragListeners();let n=0,i=0;e instanceof MouseEvent?(n=e.clientX,i=e.clientY):(n=e.touches[0].clientX,i=e.touches[0].clientY),this._lastDraggingCoordinates={x:n,y:i},this.isDragging=!0}_onDrag(t,e){if(!this.isDragging)return void this._detachDragListeners();let n=0,i=0;e instanceof MouseEvent?(n=e.clientX,i=e.clientY):(n=e.touches[0].clientX,i=e.touches[0].clientY),e.preventDefault(),this.fire("drag",{deltaX:Math.round(n-this._lastDraggingCoordinates.x),deltaY:Math.round(i-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:n,y:i}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(t){return!!this.dragHandleElement&&(this.dragHandleElement===t.target||t.target instanceof HTMLElement&&this.dragHandleElement.contains(t.target))}}}var _s=D(9822),Ql={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(_s.A,Ql),_s.A.locals;class xg extends It{children;keystrokes;focusCycler;_focusTracker;_focusables;constructor(t){super(t),this.children=this.createCollection(),this.keystrokes=new cn,this._focusTracker=new Qe,this._focusables=new kn,this.focusCycler=new $n({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(t){for(const e of t){const n=new ee(this.locale);let i;for(i in n.on("execute",(()=>e.onExecute())),e.onCreate&&e.onCreate(n),e)i!="onExecute"&&i!="onCreate"&&n.set(i,e[i]);this.children.add(n)}this._updateFocusCyclableItems()}focus(t){t===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach((t=>{this._focusables.add(t),this._focusTracker.add(t.element)}))}}class _d extends It{children;constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var Cd=D(9819),tm={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Cd.A,tm),Cd.A.locals;const Cs="screen-center",em="editor-center",Eg="editor-top-side",Sk="editor-top-center",Dg="editor-bottom-center",Tk="editor-above-center",nm="editor-below-center",Sg=Zr("px");class Dr extends Dk(It){parts;headerView;closeButtonView;actionsView;static defaultOffset=15;contentView;keystrokes;focusTracker;wasMoved=!1;_getCurrentDomRoot;_getViewportOffset;_focusables;_focusCycler;constructor(t,{getCurrentDomRoot:e,getViewportOffset:n}){super(t);const i=this.bindTemplate,s=t.t;this.set("className",""),this.set("ariaLabel",s("Editor dialog")),this.set("isModal",!1),this.set("position",Cs),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=e,this._getViewportOffset=n,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new cn,this.focusTracker=new Qe,this._focusables=new kn,this._focusCycler=new $n({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",i.if("isModal","ck-dialog-overlay__transparent",(l=>!l)),i.if("_isVisible","ck-hidden",(l=>!l))],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",i.to("className")],role:"dialog","aria-label":i.to("ariaLabel"),style:{top:i.to("_top",(l=>Sg(l))),left:i.to("_left",(l=>Sg(l))),visibility:i.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",((t,e)=>{this.fire("close",{source:"escKeyPress"}),e()})),this.on("drag",((t,{deltaX:e,deltaY:n})=>{this.wasMoved=!0,this.moveBy(e,n)})),this.listenTo(S.window,"resize",(()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()})),this.listenTo(S.document,"scroll",(()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()})),this.on("change:_isVisible",((t,e,n)=>{n&&(this._isTransparent=!0,setTimeout((()=>{this.updatePosition(),this._isTransparent=!1,this.focus()}),10))})),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:t,title:e,hasCloseButton:n=!0,content:i,actionButtons:s}){e&&(this.headerView=new yg(this.locale,{icon:t}),n&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=e,this.ariaLabel=e,this.parts.add(this.headerView,0)),i&&(i instanceof It&&(i=[i]),this.contentView=new _d(this.locale),this.contentView.children.addMany(i),this.parts.add(this.contentView)),s&&(this.actionsView=new xg(this.locale),this.actionsView.setButtons(s),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(t,e){const n=this._getViewportRect(),i=this._getDialogRect();t+i.width>n.right&&(t=n.right-i.width),t<n.left&&(t=n.left),e<n.top&&(e=n.top),this._moveTo(t,e)}_moveTo(t,e){this._left=t,this._top=e}moveBy(t,e){this.moveTo(this._left+t,this._top+e)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const t=this._getViewportRect();let e,n=this.position;this._getCurrentDomRoot()?e=this._getVisibleDomRootRect(t):n=Cs;const i=Dr.defaultOffset,s=this._getDialogRect();switch(n){case Eg:if(e){const l=this.locale.contentLanguageDirection==="ltr"?e.right-s.width-i:e.left+i;this.moveTo(l,e.top+i)}else this._moveOffScreen();break;case em:e?this.moveTo(Math.round(e.left+e.width/2-s.width/2),Math.round(e.top+e.height/2-s.height/2)):this._moveOffScreen();break;case Cs:this.moveTo(Math.round((t.width-s.width)/2),Math.round((t.height-s.height)/2));break;case Sk:e?this.moveTo(Math.round(e.left+e.width/2-s.width/2),e.top+i):this._moveOffScreen();break;case Dg:e?this.moveTo(Math.round(e.left+e.width/2-s.width/2),e.bottom-s.height-i):this._moveOffScreen();break;case Tk:e?this.moveTo(Math.round(e.left+e.width/2-s.width/2),e.top-s.height-i):this._moveOffScreen();break;case nm:e?this.moveTo(Math.round(e.left+e.width/2-s.width/2),e.bottom+i):this._moveOffScreen()}}_getVisibleDomRootRect(t){let e=new Kt(this._getCurrentDomRoot()).getVisible();return e?(e=t.getIntersection(e),e||null):null}_getDialogRect(){return new Kt(this.element.firstElementChild)}_getViewportRect(){return(function(t){t=Object.assign({top:0,bottom:0,left:0,right:0},t);const e=new Kt(S.window);return e.top+=t.top,e.height-=t.top,e.bottom-=t.bottom,e.height-=t.bottom,e.left+=t.left,e.right-=t.right,e.width-=t.left+t.right,e})(this._getViewportOffset())}_updateFocusCyclableItems(){const t=[];if(this.contentView)for(const e of this.contentView.children)Ta(e)&&t.push(e);this.actionsView&&t.push(this.actionsView),this.closeButtonView&&t.push(this.closeButtonView),t.forEach((e=>{var n;this._focusables.add(e),this.focusTracker.add(e.element),Ta(n=e)&&"focusCycler"in n&&n.focusCycler instanceof $n&&(this.listenTo(e.focusCycler,"forwardCycle",(i=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&i.stop()})),this.listenTo(e.focusCycler,"backwardCycle",(i=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&i.stop()})))}))}_createCloseButton(){const t=new ee(this.locale),e=this.locale.t;return t.set({label:e("Close"),tooltip:!0,icon:St.cancel}),t.on("execute",(()=>this.fire("close",{source:"closeButton"}))),t}}class mi extends ft{view;static _visibleDialogPlugin;_onHide;static get pluginName(){return"Dialog"}constructor(t){super(t);const e=t.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),t.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:e("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}_initShowHideListeners(){this.on("show",((t,e)=>{this._show(e)})),this.on("show",((t,e)=>{e.onShow&&e.onShow(this)}),{priority:"low"}),this.on("hide",(()=>{mi._visibleDialogPlugin&&mi._visibleDialogPlugin._hide()})),this.on("hide",(()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)}),{priority:"low"})}_initFocusToggler(){const t=this.editor;t.keystrokes.set("Ctrl+F6",((e,n)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?t.editing.view.focus():this.view.focus(),n())}))}_initMultiRootIntegration(){const t=this.editor.model;t.document.on("change:data",(()=>{if(!this.view)return;const e=t.document.differ.getChangedRoots();for(const n of e)n.state&&this.view.updatePosition()}))}show(t){this.hide(),this.fire(`show:${t.id}`,t)}_show({id:t,icon:e,title:n,hasCloseButton:i=!0,content:s,actionButtons:l,className:d,isModal:u,position:m,onHide:g}){const k=this.editor;this.view=new Dr(k.locale,{getCurrentDomRoot:()=>k.editing.view.getDomRoot(k.model.document.selection.anchor.root.rootName),getViewportOffset:()=>k.ui.viewportOffset});const _=this.view;_.on("close",(()=>{this.hide()})),k.ui.view.body.add(_),k.ui.focusTracker.add(_.element),k.keystrokes.listenTo(_.element),m||(m=u?Cs:em),_.set({position:m,_isVisible:!0,className:d,isModal:u}),_.setupParts({icon:e,title:n,hasCloseButton:i,content:s,actionButtons:l}),this.id=t,g&&(this._onHide=g),this.isOpen=!0,mi._visibleDialogPlugin=this}hide(){mi._visibleDialogPlugin&&mi._visibleDialogPlugin.fire(`hide:${mi._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const t=this.editor,e=this.view;e.contentView&&e.contentView.reset(),t.ui.view.body.remove(e),t.ui.focusTracker.remove(e.element),t.keystrokes.stopListening(e.element),e.destroy(),t.editing.view.focus(),this.id=null,this.isOpen=!1,mi._visibleDialogPlugin=null}}var Wl=D(977),Mk={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Wl.A,Mk),Wl.A.locals;class Ze extends ee{constructor(t){super(t),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var Tg=D(7801),Mg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Tg.A,Mg),Tg.A.locals;class $l extends It{id;constructor(t){super(t),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${Mt()}`;const e=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:e.to("for")},children:[{text:e.to("text")}]})}}class Bg extends It{constructor(t,e){super(t);const n=t.t,i=new $l;i.text=n("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":i.id,role:"document",tabindex:-1},children:[ki(document,"p",{},n("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(e.values())),i]})}focus(){this.element.focus()}_createCategories(t){return t.map((e=>{const n=[ki(document,"h3",{},e.label),...Array.from(e.groups.values()).map((i=>this._createGroup(i))).flat()];return e.description&&n.splice(1,0,ki(document,"p",{},e.description)),ki(document,"section",{},n)}))}_createGroup(t){const e=t.keystrokes.sort(((i,s)=>i.label.localeCompare(s.label))).map((i=>this._createGroupRow(i))).flat(),n=[ki(document,"dl",{},e)];return t.label&&n.unshift(ki(document,"h4",{},t.label)),n}_createGroupRow(t){const e=this.locale.t,n=ki(document,"dt"),i=ki(document,"dd"),s=(function(d){return typeof d=="string"?[[d]]:typeof d[0]=="string"?[d]:d})(t.keystroke),l=[];for(const d of s)l.push(d.map(Ig).join(""));return n.innerHTML=t.label,i.innerHTML=l.join(", ")+(t.mayRequireFn&&N.isMac?` ${e("(may require <kbd>Fn</kbd>)")}`:""),[n,i]}}function Ig(o){return ve(o).split("+").map((t=>`<kbd>${t}</kbd>`)).join("+")}const vd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var im=D(8527),Ng={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(im.A,Ng),im.A.locals;class yd extends ft{contentView=null;static get requires(){return[mi]}static get pluginName(){return"AccessibilityHelp"}init(){const t=this.editor,e=t.locale.t;t.ui.componentFactory.add("accessibilityHelp",(()=>{const n=this._createButton(ee);return n.set({tooltip:!0,withText:!1,label:e("Accessibility help")}),n})),t.ui.componentFactory.add("menuBar:accessibilityHelp",(()=>{const n=this._createButton(Ze);return n.label=e("Accessibility"),n})),t.keystrokes.set("Alt+0",((n,i)=>{this._showDialog(),i()})),this._setupRootLabels()}_createButton(t){const e=new t(this.editor.locale);return e.set({keystroke:"Alt+0",icon:vd}),e.on("execute",(()=>this._showDialog())),e}_setupRootLabels(){const t=this.editor,e=t.editing.view,n=t.t;function i(s,l){const d=`${l.getAttribute("aria-label")}. ${n("Press %0 for help.",[ve("Alt+0")])}`;s.setAttribute("aria-label",d,l)}t.ui.on("ready",(()=>{e.change((s=>{for(const l of e.document.roots)i(s,l)})),t.on("addRoot",((s,l)=>{const d=t.editing.view.document.getRoot(l.rootName);e.change((u=>i(u,d)))}),{priority:"low"})}))}_showDialog(){const t=this.editor,e=t.plugins.get("Dialog"),n=t.locale.t;this.contentView||(this.contentView=new Bg(t.locale,t.accessibility.keystrokeInfos)),e.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:n("Accessibility help"),icon:vd,hasCloseButton:!0,content:this.contentView})}}class Bk extends kn{locale;_bodyCollectionContainer;constructor(t,e=[]){super(e),this.locale=t}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new si({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let t=document.querySelector(".ck-body-wrapper");t||(t=ki(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const t=document.querySelector(".ck-body-wrapper");t&&t.childElementCount==0&&t.remove()}}var zg=D(4391),om={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(zg.A,om),zg.A.locals;class Ma extends ee{toggleSwitchView;constructor(t){super(t),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new It;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}class Ba extends ee{buttonView;_fileInputView;constructor(t){super(t),this.buttonView=this,this._fileInputView=new rm(t),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",(()=>{this._fileInputView.open()})),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class rm extends It{constructor(t){super(t),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to((()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""}))}})}open(){this.element.click()}}const Zl='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var xd=D(25),Sr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(xd.A,Sr),xd.A.locals;class Tr extends It{buttonView;children;constructor(t,e){super(t);const n=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),e&&this.children.addMany(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",n.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:n.if("isCollapsed","hidden"),"aria-labelledby":n.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const t=new ee(this.locale),e=t.bindTemplate;return t.set({withText:!0,icon:Zl}),t.extendTemplate({attributes:{"aria-expanded":e.to("isOn",(n=>String(n)))}}),t.bind("label").to(this),t.bind("isOn").to(this,"isCollapsed",(n=>!n)),t.on("execute",(()=>{this.isCollapsed=!this.isCollapsed})),t}}var Ro=D(7317),Jl={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Ro.A,Jl),Ro.A.locals,D(6931),D(9047);var Ia=D(4962),Mr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Ia.A,Mr),Ia.A.locals;class sm extends It{fieldView;labelView;statusView;fieldWrapperChildren;constructor(t,e){super(t);const n=`ck-labeled-field-view-${Mt()}`,i=`ck-labeled-field-view-status-${Mt()}`;this.fieldView=e(this,n,i),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(i),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",((l,d)=>l||d));const s=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",s.to("class"),s.if("isEnabled","ck-disabled",(l=>!l)),s.if("isEmpty","ck-labeled-field-view_empty"),s.if("isFocused","ck-labeled-field-view_focused"),s.if("placeholder","ck-labeled-field-view_placeholder"),s.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(t){const e=new $l(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}_createStatusView(t){const e=new It(this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",(i=>!i))],id:t,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),e}focus(t){this.fieldView.focus(t)}}class Og extends It{focusTracker;constructor(t){super(t),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Qe,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",e.if("isFocused","ck-input_focused"),e.if("isEmpty","ck-input-text_empty"),e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),tabindex:e.to("tabIndex"),readonly:e.to("isReadOnly"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDescribedById"),"aria-label":e.to("ariaLabel")},on:{input:e.to(((...n)=>{this.fire("input",...n),this._updateIsEmpty()})),change:e.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",((t,e,n)=>{this._setDomElementValue(n),this._updateIsEmpty()}))}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(t){this.element.value=t||t===0?t:""}}var Na=D(253),Ik={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Na.A,Ik),Na.A.locals;class Lg extends Og{constructor(t){super(t),this.set("inputMode","text");const e=this.bindTemplate;this.extendTemplate({attributes:{inputmode:e.to("inputMode")}})}}class Ed extends Lg{constructor(t){super(t),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var am=D(1671),Nk={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(am.A,Nk),am.A.locals;class Dd extends It{children;constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",(n=>`ck-dropdown__panel_${n}`)),e.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:e.to((n=>{n.target.tagName.toLocaleLowerCase()!=="input"&&n.preventDefault()}))}})}focus(){if(this.children.length){const t=this.children.first;typeof t.focus=="function"?t.focus():Bt("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const t=this.children.last;typeof t.focusLast=="function"?t.focusLast():t.focus()}}}var Xl=D(8149),Rg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Xl.A,Rg),Xl.A.locals;class jo extends It{buttonView;panelView;focusTracker;keystrokes;listView;toolbarView;constructor(t,e,n){super(t);const i=this.bindTemplate;this.buttonView=e,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new cn,this.focusTracker=new Qe,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",(s=>!s))],id:i.to("id"),"aria-describedby":i.to("ariaDescribedById")},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":i.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",(()=>{this.isOpen=!this.isOpen})),this.on("change:isOpen",((e,n,i)=>{if(i)if(this.panelPosition==="auto"){const s=jo._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=s?s.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition})),this.keystrokes.listenTo(this.element);const t=(e,n)=>{this.isOpen&&(this.isOpen=!1,n())};this.keystrokes.set("arrowdown",((e,n)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,n())})),this.keystrokes.set("arrowright",((e,n)=>{this.isOpen&&n()})),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:t,north:e,southEast:n,southWest:i,northEast:s,northWest:l,southMiddleEast:d,southMiddleWest:u,northMiddleEast:m,northMiddleWest:g}=jo.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[n,i,d,u,t,s,l,m,g,e]:[i,n,u,d,t,l,s,g,m,e]}static defaultPanelPositions={south:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/2,name:"s"}),southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),southMiddleEast:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/4,name:"sme"}),southMiddleWest:(t,e)=>({top:t.bottom,left:t.left-3*(e.width-t.width)/4,name:"smw"}),north:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/2,name:"n"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.top-e.height,left:t.left-e.width+t.width,name:"nw"}),northMiddleEast:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/4,name:"nme"}),northMiddleWest:(t,e)=>({top:t.top-e.height,left:t.left-3*(e.width-t.width)/4,name:"nmw"})};static _getOptimalPosition=ll}class jg extends ee{arrowView;constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(e=>String(e)))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new Lo;return t.content=Zl,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}class Sd extends It{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Td extends It{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function lm(o){if(Array.isArray(o))return{items:o,removeItems:[]};const t={items:[],removeItems:[]};return o?{...t,...o}:t}var Pg=D(9677),Md={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Pg.A,Md),Pg.A.locals;const r={alignLeft:St.alignLeft,bold:St.bold,importExport:St.importExport,paragraph:St.paragraph,plus:St.plus,text:St.text,threeVerticalDots:St.threeVerticalDots,pilcrow:St.pilcrow,dragIndicator:St.dragIndicator};class a extends It{options;items;focusTracker;keystrokes;itemsView;children;focusables;_focusCycler;_behavior;constructor(t,e){super(t);const n=this.bindTemplate,i=this.t;this.options=e||{},this.set("ariaLabel",i("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Qe,this.keystrokes=new cn,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new c(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const s=t.uiLanguageDirection==="rtl";this._focusCycler=new $n({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[s?"arrowright":"arrowleft","arrowup"],focusNext:[s?"arrowleft":"arrowright","arrowdown"]}});const l=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];var d;this.options.shouldGroupWhenFull&&this.options.isFloating&&l.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:l,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(d=this,d.bindTemplate.to((u=>{u.target===d.element&&u.preventDefault()})))}}),this._behavior=this.options.shouldGroupWhenFull?new p(this):new h(this)}render(){super.render(),this.focusTracker.add(this.element);for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",((t,e)=>{this.focusTracker.add(e.element)})),this.items.on("remove",((t,e)=>{this.focusTracker.remove(e.element)})),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e,n){this.items.addMany(this._buildItemsFromConfig(t,e,n))}_buildItemsFromConfig(t,e,n){const i=lm(t),s=n||i.removeItems;return this._cleanItemsConfiguration(i.items,e,s).map((l=>xe(l)?this._createNestedToolbarDropdown(l,e,s):l==="|"?new Sd:l==="-"?new Td:e.create(l))).filter((l=>!!l))}_cleanItemsConfiguration(t,e,n){const i=t.filter(((s,l,d)=>s==="|"||n.indexOf(s)===-1&&(s==="-"?!this.options.shouldGroupWhenFull||(Bt("toolbarview-line-break-ignored-when-grouping-items",d),!1):!(!xe(s)&&!e.has(s))||(Bt("toolbarview-item-unavailable",{item:s}),!1))));return this._cleanSeparatorsAndLineBreaks(i)}_cleanSeparatorsAndLineBreaks(t){const e=l=>l!=="-"&&l!=="|",n=t.length,i=t.findIndex(e);if(i===-1)return[];const s=n-t.slice().reverse().findIndex(e);return t.slice(i,s).filter(((l,d,u)=>e(l)?!0:!(d>0&&u[d-1]===l)))}_createNestedToolbarDropdown(t,e,n){let{label:i,icon:s,items:l,tooltip:d=!0,withText:u=!1}=t;if(l=this._cleanItemsConfiguration(l,e,n),!l.length)return null;const m=K(this.locale);return i||Bt("toolbarview-nested-toolbar-dropdown-missing-label",t),m.class="ck-toolbar__nested-toolbar-dropdown",m.buttonView.set({label:i,tooltip:d,withText:!!u}),s!==!1?m.buttonView.icon=r[s]||s||St.threeVerticalDots:m.buttonView.withText=!0,J(m,(()=>m.toolbarView._buildItemsFromConfig(l,e,n))),m}}class c extends It{children;constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class h{constructor(t){const e=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using((n=>n)),t.focusables.bindTo(t.items).using((n=>Ta(n)?n:null)),t.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class p{view;viewChildren;viewFocusables;viewItemsView;viewFocusTracker;viewLocale;ungroupedItems;groupedItems;groupedItemsDropdown;resizeObserver=null;cachedPadding=null;shouldUpdateGroupingOnNextResize=!1;viewElement;constructor(t){this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),t.itemsView.children.bindTo(this.ungroupedItems).using((e=>e)),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),t.children.on("change",this._updateFocusCyclableItems.bind(this)),t.items.on("change",((e,n)=>{const i=n.index,s=Array.from(n.added);for(const l of n.removed)i>=this.ungroupedItems.length?this.groupedItems.remove(l):this.ungroupedItems.remove(l);for(let l=i;l<i+s.length;l++){const d=s[l-i];l>this.ungroupedItems.length?this.groupedItems.add(d,l-this.ungroupedItems.length):this.ungroupedItems.add(d,l)}this._updateGrouping()})),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!oi(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const t=this.groupedItems.length;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,e=this.viewLocale.uiLanguageDirection,n=new Kt(t.lastChild),i=new Kt(t);if(!this.cachedPadding){const s=S.window.getComputedStyle(t),l=e==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(s[l])}return e==="ltr"?n.right>i.right-this.cachedPadding:n.left<i.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new Re(this.viewElement,(e=>{t&&t===e.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=e.contentRect.width)})),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",(()=>{this._updateGrouping()}))}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Sd),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,n=K(t);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition=t.uiLanguageDirection==="ltr"?"sw":"se",J(n,this.groupedItems),n.buttonView.set({label:e("Show more items"),tooltip:!0,tooltipPosition:t.uiLanguageDirection==="rtl"?"se":"sw",icon:St.threeVerticalDots}),n}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map((t=>{Ta(t)&&this.viewFocusables.add(t)})),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class w extends It{children;constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",e.if("isVisible","ck-hidden",(n=>!n))],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class T extends It{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class R extends It{labelView;items;children;constructor(t,e=new $l){super(t);const n=this.bindTemplate,i=new st(t);this.set({label:"",isVisible:!0}),this.labelView=e,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,i]),i.set({role:"group",ariaLabelledBy:e.id}),i.focusTracker.destroy(),i.keystrokes.destroy(),this.items=i.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",n.if("isVisible","ck-hidden",(s=>!s))]},children:this.children})}focus(){if(this.items){const t=this.items.find((e=>!(e instanceof T)));t&&t.focus()}}}var q=D(5199),tt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(q.A,tt),q.A.locals;class st extends It{focusables;items;focusTracker;keystrokes;_focusCycler;_listItemGroupToChangeListeners=new WeakMap;constructor(t){super(t);const e=this.bindTemplate;this.focusables=new kn,this.items=this.createCollection(),this.focusTracker=new Qe,this.keystrokes=new cn,this._focusCycler=new $n({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:e.to("role"),"aria-label":e.to("ariaLabel"),"aria-labelledby":e.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const t of this.items)t instanceof R?this._registerFocusableItemsGroup(t):t instanceof w&&this._registerFocusableListItem(t);this.items.on("change",((t,e)=>{for(const n of e.removed)n instanceof R?this._deregisterFocusableItemsGroup(n):n instanceof w&&this._deregisterFocusableListItem(n);for(const n of Array.from(e.added).reverse())n instanceof R?this._registerFocusableItemsGroup(n,e.index):this._registerFocusableListItem(n,e.index)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(t,e){this.focusTracker.add(t.element),this.focusables.add(t,e)}_deregisterFocusableListItem(t){this.focusTracker.remove(t.element),this.focusables.remove(t)}_getOnGroupItemsChangeCallback(t){return(e,n)=>{for(const i of n.removed)this._deregisterFocusableListItem(i);for(const i of Array.from(n.added).reverse())this._registerFocusableListItem(i,this.items.getIndex(t)+n.index)}}_registerFocusableItemsGroup(t,e){Array.from(t.items).forEach(((i,s)=>{const l=e!==void 0?e+s:void 0;this._registerFocusableListItem(i,l)}));const n=this._getOnGroupItemsChangeCallback(t);this._listItemGroupToChangeListeners.set(t,n),t.items.on("change",n)}_deregisterFocusableItemsGroup(t){for(const e of t.items)this._deregisterFocusableListItem(e);t.items.off("change",this._listItemGroupToChangeListeners.get(t)),this._listItemGroupToChangeListeners.delete(t)}}var ut=D(1792),et={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(ut.A,et),ut.A.locals;class ot extends It{children;actionView;arrowView;keystrokes;focusTracker;constructor(t,e){super(t);const n=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(e),this.arrowView=this._createArrowView(),this.keystrokes=new cn,this.focusTracker=new Qe,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",n.to("class"),n.if("isVisible","ck-hidden",(i=>!i)),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",((t,e)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),e())})),this.keystrokes.set("arrowleft",((t,e)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),e())}))}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(t){const e=t||new ee;return t||e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const t=new ee,e=t.bindTemplate;return t.icon=Zl,t.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":e.to("isOn"),"aria-haspopup":!0,"aria-expanded":e.to("isOn",(n=>String(n)))}}),t.bind("isEnabled").to(this),t.bind("label").to(this),t.bind("tooltip").to(this),t.delegate("execute").to(this,"open"),t}}var Et=D(1666),Ot={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Et.A,Ot),Et.A.locals;var _e=D(3629),W={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(_e.A,W),_e.A.locals;function K(o,t=jg){const e=typeof t=="function"?new t(o):t,n=new Dd(o),i=new jo(o,e,n);return e.bind("isEnabled").to(i),e instanceof ot?e.arrowView.bind("isOn").to(i,"isOpen"):e.bind("isOn").to(i,"isOpen"),(function(s){(function(l){l.on("render",(()=>{fr({emitter:l,activator:()=>l.isOpen,callback:()=>{l.isOpen=!1},contextElements:()=>[l.element,...l.focusTracker._elements]})}))})(s),(function(l){l.on("execute",(d=>{d.source instanceof Ma||(l.isOpen=!1)}))})(s),(function(l){l.focusTracker.on("change:isFocused",((d,u,m)=>{l.isOpen&&!m&&(l.isOpen=!1)}))})(s),(function(l){l.keystrokes.set("arrowdown",((d,u)=>{l.isOpen&&(l.panelView.focus(),u())})),l.keystrokes.set("arrowup",((d,u)=>{l.isOpen&&(l.panelView.focusLast(),u())}))})(s),(function(l){l.on("change:isOpen",((d,u,m)=>{if(m)return;const g=l.panelView.element;g&&g.contains(S.document.activeElement)&&l.buttonView.focus()}))})(s),(function(l){l.on("change:isOpen",((d,u,m)=>{m&&l.panelView.focus()}),{priority:"low"})})(s)})(i),i}function J(o,t,e={}){o.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),o.isOpen?ct(o,t,e):o.once("change:isOpen",(()=>ct(o,t,e)),{priority:"highest"}),e.enableActiveItemFocusOnDropdownOpen&&Tt(o,(()=>o.toolbarView.items.find((n=>n.isOn))))}function ct(o,t,e){const n=o.locale,i=n.t,s=o.toolbarView=new a(n),l=typeof t=="function"?t():t;s.ariaLabel=e.ariaLabel||i("Dropdown toolbar"),e.maxWidth&&(s.maxWidth=e.maxWidth),e.class&&(s.class=e.class),e.isCompact&&(s.isCompact=e.isCompact),e.isVertical&&(s.isVertical=!0),l instanceof kn?s.items.bindTo(l).using((d=>d)):s.items.addMany(l),o.panelView.children.add(s),s.items.delegate("execute").to(o)}function Nt(o,t,e={}){o.isOpen?se(o,t,e):o.once("change:isOpen",(()=>se(o,t,e)),{priority:"highest"}),Tt(o,(()=>o.listView.items.find((n=>n instanceof w&&n.children.first.isOn))))}function se(o,t,e){const n=o.locale,i=o.listView=new st(n),s=typeof t=="function"?t():t;i.ariaLabel=e.ariaLabel,i.role=e.role,Ft(o,i.items,s,n),o.panelView.children.add(i),i.items.delegate("execute").to(o)}function Tt(o,t){o.on("change:isOpen",(()=>{if(!o.isOpen)return;const e=t();e&&(typeof e.focus=="function"?e.focus():Bt("ui-dropdown-focus-child-on-open-child-missing-focus",{view:e}))}),{priority:Rt.low-10})}function Ft(o,t,e,n){t.bindTo(e).using((i=>{if(i.type==="separator")return new T(n);if(i.type==="group"){const s=new R(n);return s.set({label:i.label}),Ft(o,s.items,i.items,n),s.items.delegate("execute").to(o),s}if(i.type==="button"||i.type==="switchbutton"){const s=new w(n);let l;return i.type==="button"?(l=new ee(n),l.bind("ariaChecked").to(l,"isOn")):l=new Ma(n),l.bind(...Object.keys(i.model)).to(i.model),l.delegate("execute").to(s),s.children.add(l),s}return null}))}const Wt=(o,t,e)=>{const n=new Ed(o.locale);return n.set({id:t,ariaDescribedById:e}),n.bind("isReadOnly").to(o,"isEnabled",(i=>!i)),n.bind("hasError").to(o,"errorText",(i=>!!i)),n.on("input",(()=>{o.errorText=null})),o.bind("isEmpty","isFocused","placeholder").to(n),n};var ae=D(1905),Br={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(ae.A,Br),ae.A.locals;var Fg=D(6309),P0={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Fg.A,P0),Fg.A.locals;class F0{editor;_components=new Map;constructor(t){this.editor=t}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){this._components.set(zk(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new H("componentfactory-item-missing",this,{name:t});return this._components.get(zk(t)).callback(this.editor.locale)}has(t){return this._components.has(zk(t))}}function zk(o){return String(o).toLowerCase()}var Yb=D(3710),V0={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Yb.A,V0),Yb.A.locals;const Qb=Zr("px"),U0={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class Hi extends It{content;_pinWhenIsVisibleCallback;constructor(t){super(t);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",(n=>`ck-balloon-panel_${n}`)),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",Qb),left:e.to("left",Qb)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const e=Hi.defaultPositions,n=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:S.document.body,fitInViewport:!0},t),i=Hi._getOptimalPosition(n)||U0,s=parseInt(i.left),l=parseInt(i.top),d=i.name,u=i.config||{},{withArrow:m=!0}=u;this.top=l,this.left=s,this.position=d,this.withArrow=m}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const e=Ok(t.target),n=t.limiter?Ok(t.limiter):S.document.body;this.listenTo(S.document,"scroll",((i,s)=>{const l=s.target,d=e&&l.contains(e),u=n&&l.contains(n);!d&&!u&&e&&n||this.attachTo(t)}),{useCapture:!0}),this.listenTo(S.window,"resize",(()=>{this.attachTo(t)}))}_stopPinning(){this.stopListening(S.document,"scroll"),this.stopListening(S.window,"resize")}static generatePositions(t={}){const{sideOffset:e=Hi.arrowSideOffset,heightOffset:n=Hi.arrowHeightOffset,stickyVerticalOffset:i=Hi.stickyVerticalOffset,config:s}=t;return{northWestArrowSouthWest:(u,m)=>({top:l(u,m),left:u.left-e,name:"arrow_sw",...s&&{config:s}}),northWestArrowSouthMiddleWest:(u,m)=>({top:l(u,m),left:u.left-.25*m.width-e,name:"arrow_smw",...s&&{config:s}}),northWestArrowSouth:(u,m)=>({top:l(u,m),left:u.left-m.width/2,name:"arrow_s",...s&&{config:s}}),northWestArrowSouthMiddleEast:(u,m)=>({top:l(u,m),left:u.left-.75*m.width+e,name:"arrow_sme",...s&&{config:s}}),northWestArrowSouthEast:(u,m)=>({top:l(u,m),left:u.left-m.width+e,name:"arrow_se",...s&&{config:s}}),northArrowSouthWest:(u,m)=>({top:l(u,m),left:u.left+u.width/2-e,name:"arrow_sw",...s&&{config:s}}),northArrowSouthMiddleWest:(u,m)=>({top:l(u,m),left:u.left+u.width/2-.25*m.width-e,name:"arrow_smw",...s&&{config:s}}),northArrowSouth:(u,m)=>({top:l(u,m),left:u.left+u.width/2-m.width/2,name:"arrow_s",...s&&{config:s}}),northArrowSouthMiddleEast:(u,m)=>({top:l(u,m),left:u.left+u.width/2-.75*m.width+e,name:"arrow_sme",...s&&{config:s}}),northArrowSouthEast:(u,m)=>({top:l(u,m),left:u.left+u.width/2-m.width+e,name:"arrow_se",...s&&{config:s}}),northEastArrowSouthWest:(u,m)=>({top:l(u,m),left:u.right-e,name:"arrow_sw",...s&&{config:s}}),northEastArrowSouthMiddleWest:(u,m)=>({top:l(u,m),left:u.right-.25*m.width-e,name:"arrow_smw",...s&&{config:s}}),northEastArrowSouth:(u,m)=>({top:l(u,m),left:u.right-m.width/2,name:"arrow_s",...s&&{config:s}}),northEastArrowSouthMiddleEast:(u,m)=>({top:l(u,m),left:u.right-.75*m.width+e,name:"arrow_sme",...s&&{config:s}}),northEastArrowSouthEast:(u,m)=>({top:l(u,m),left:u.right-m.width+e,name:"arrow_se",...s&&{config:s}}),southWestArrowNorthWest:u=>({top:d(u),left:u.left-e,name:"arrow_nw",...s&&{config:s}}),southWestArrowNorthMiddleWest:(u,m)=>({top:d(u),left:u.left-.25*m.width-e,name:"arrow_nmw",...s&&{config:s}}),southWestArrowNorth:(u,m)=>({top:d(u),left:u.left-m.width/2,name:"arrow_n",...s&&{config:s}}),southWestArrowNorthMiddleEast:(u,m)=>({top:d(u),left:u.left-.75*m.width+e,name:"arrow_nme",...s&&{config:s}}),southWestArrowNorthEast:(u,m)=>({top:d(u),left:u.left-m.width+e,name:"arrow_ne",...s&&{config:s}}),southArrowNorthWest:u=>({top:d(u),left:u.left+u.width/2-e,name:"arrow_nw",...s&&{config:s}}),southArrowNorthMiddleWest:(u,m)=>({top:d(u),left:u.left+u.width/2-.25*m.width-e,name:"arrow_nmw",...s&&{config:s}}),southArrowNorth:(u,m)=>({top:d(u),left:u.left+u.width/2-m.width/2,name:"arrow_n",...s&&{config:s}}),southArrowNorthMiddleEast:(u,m)=>({top:d(u),left:u.left+u.width/2-.75*m.width+e,name:"arrow_nme",...s&&{config:s}}),southArrowNorthEast:(u,m)=>({top:d(u),left:u.left+u.width/2-m.width+e,name:"arrow_ne",...s&&{config:s}}),southEastArrowNorthWest:u=>({top:d(u),left:u.right-e,name:"arrow_nw",...s&&{config:s}}),southEastArrowNorthMiddleWest:(u,m)=>({top:d(u),left:u.right-.25*m.width-e,name:"arrow_nmw",...s&&{config:s}}),southEastArrowNorth:(u,m)=>({top:d(u),left:u.right-m.width/2,name:"arrow_n",...s&&{config:s}}),southEastArrowNorthMiddleEast:(u,m)=>({top:d(u),left:u.right-.75*m.width+e,name:"arrow_nme",...s&&{config:s}}),southEastArrowNorthEast:(u,m)=>({top:d(u),left:u.right-m.width+e,name:"arrow_ne",...s&&{config:s}}),westArrowEast:(u,m)=>({top:u.top+u.height/2-m.height/2,left:u.left-m.width-n,name:"arrow_e",...s&&{config:s}}),eastArrowWest:(u,m)=>({top:u.top+u.height/2-m.height/2,left:u.right+n,name:"arrow_w",...s&&{config:s}}),viewportStickyNorth:(u,m,g,k)=>{const _=k||g;return u.getIntersection(_)?_.height-u.height>i?null:{top:_.top+i,left:u.left+u.width/2-m.width/2,name:"arrowless",config:{withArrow:!1,...s}}:null}};function l(u,m){return u.top-m.height-n}function d(u){return u.bottom+n}}static arrowSideOffset=25;static arrowHeightOffset=10;static stickyVerticalOffset=20;static _getOptimalPosition=ll;static defaultPositions=Hi.generatePositions()}function Ok(o){return Jo(o)?o:Gs(o)?o.commonAncestorContainer:typeof o=="function"?Ok(o()):null}var Wb=D(9205),H0={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Wb.A,H0),Wb.A.locals;const $b="ck-tooltip";class fi extends Vn(){tooltipTextView;balloonPanelView;static defaultBalloonPositions=Hi.generatePositions({heightOffset:5,sideOffset:13});_currentElementWithTooltip=null;_currentTooltipPosition=null;_resizeObserver=null;_mutationObserver=null;_pinTooltipDebounced;_unpinTooltipDebounced;_watchdogExcluded;static _editors=new Set;static _instance=null;constructor(t){if(super(),fi._editors.add(t),fi._instance)return fi._instance;fi._instance=this,this.tooltipTextView=new It(t.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Hi(t.locale),this.balloonPanelView.class=$b,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=(function(e){const n=new MutationObserver((()=>{e()}));return{attach(i){n.observe(i,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){n.disconnect()}}})((()=>{this._updateTooltipPosition()})),this._pinTooltipDebounced=wr(this._pinTooltip,600),this._unpinTooltipDebounced=wr(this._unpinTooltip,400),this.listenTo(S.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(S.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(S.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(S.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(S.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(S.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(t){const e=t.ui.view&&t.ui.view.body;fi._editors.delete(t),this.stopListening(t.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),fi._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),fi._instance=null)}static getPositioningFunctions(t){const e=fi.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[t]}_onKeyDown(t,e){e.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),e.stopPropagation())}_onEnterOrFocus(t,{target:e}){const n=Lk(e);n?n!==this._currentElementWithTooltip&&(this._unpinTooltip(),t.name!=="focus"||n.matches(":hover")?this._pinTooltipDebounced(n,Rk(n)):this._pinTooltip(n,Rk(n))):t.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(t,{target:e,relatedTarget:n}){if(t.name==="mouseleave"){if(!Jo(e))return;const i=this.balloonPanelView.element,s=i&&(i===n||i.contains(n)),l=!s&&e===i;if(s)return void this._unpinTooltipDebounced.cancel();if(!l&&this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const d=Lk(e),u=Lk(n);(l||d&&d!==u)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(t,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(t,{text:e,position:n,cssClass:i}){this._unpinTooltip();const s=Ye(fi._editors.values()).ui.view.body;s.has(this.balloonPanelView)||s.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.class=[$b,i].filter((l=>l)).join(" "),this.balloonPanelView.pin({target:t,positions:fi.getPositioningFunctions(n)}),this._resizeObserver=new Re(t,(()=>{oi(t)||this._unpinTooltip()})),this._mutationObserver.attach(t);for(const l of fi._editors)this.listenTo(l.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=t,this._currentTooltipPosition=n}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const t of fi._editors)this.stopListening(t.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const t=Rk(this._currentElementWithTooltip);oi(this._currentElementWithTooltip)&&t.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:fi.getPositioningFunctions(t.position)}):this._unpinTooltip()}}function Lk(o){return Jo(o)?o.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function Rk(o){return{text:o.dataset.ckeTooltipText,position:o.dataset.ckeTooltipPosition||"s",cssClass:o.dataset.ckeTooltipClass||""}}const q0=50,G0=350,K0="Powered by";class Y0 extends Vn(){editor;_balloonView;_showBalloonThrottled;_lastFocusedEditableElement;constructor(t){super(),this.editor=t,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=Sa(this._showBalloon.bind(this),50,{leading:!0}),t.on("ready",this._handleEditorReady.bind(this))}destroy(){const t=this._balloonView;t&&(t.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const t=this.editor;(t.config.get("ui.poweredBy.forceVisible")||(function(e){function n(v){return v.length>=40&&v.length<=255?"VALID":"INVALID"}if(!e)return"INVALID";let i="";try{i=atob(e)}catch{return"INVALID"}const s=i.split("-"),l=s[0],d=s[1];if(!d)return n(e);try{atob(d)}catch{try{if(atob(l),!atob(l).length)return n(e)}catch{return n(e)}}if(l.length<40||l.length>255)return"INVALID";let u="";try{atob(l),u=atob(d)}catch{return"INVALID"}if(u.length!==8)return"INVALID";const m=Number(u.substring(0,4)),g=Number(u.substring(4,6))-1,k=Number(u.substring(6,8)),_=new Date(m,g,k);return _<fe||isNaN(Number(_))?"INVALID":"VALID"})(t.config.get("licenseKey"))!=="VALID")&&t.ui.view&&(t.ui.focusTracker.on("change:isFocused",((e,n,i)=>{this._updateLastFocusedEditableElement(),i?this._showBalloon():this._hideBalloon()})),t.ui.focusTracker.on("change:focusedElement",((e,n,i)=>{this._updateLastFocusedEditableElement(),i&&this._showBalloon()})),t.ui.on("update",(()=>{this._showBalloonThrottled()})))}_createBalloonView(){const t=this.editor,e=this._balloonView=new Hi,n=Jb(t),i=new Q0(t.locale,n.label);e.content.add(i),e.set({class:"ck-powered-by-balloon"}),t.ui.view.body.add(e),t.ui.focusTracker.add(e.element),this._balloonView=e}_showBalloon(){if(!this._lastFocusedEditableElement)return;const t=(function(e,n){const i=Jb(e),s=i.side==="right"?(function(l,d){return Zb(l,d,((u,m)=>u.left+u.width-m.width-d.horizontalOffset))})(n,i):(function(l,d){return Zb(l,d,(u=>u.left+d.horizontalOffset))})(n,i);return{target:n,positions:[s]}})(this.editor,this._lastFocusedEditableElement);t&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(t))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const t=this.editor,e=t.ui.focusTracker.isFocused,n=t.ui.focusTracker.focusedElement;if(!e||!n)return void(this._lastFocusedEditableElement=null);const i=Array.from(t.ui.getEditableElementsNames()).map((s=>t.ui.getEditableElement(s)));i.includes(n)?this._lastFocusedEditableElement=n:this._lastFocusedEditableElement=i[0]}}class Q0 extends It{constructor(t,e){super(t);const n=new Lo,i=this.bindTemplate;n.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),n.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...e?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[e]}]:[],n],on:{dragstart:i.to((s=>s.preventDefault()))}}]})}}function Zb(o,t,e){return(n,i)=>{const s=new Kt(o);if(s.width<G0||s.height<q0)return null;let l;l=t.position==="inside"?s.bottom-i.height:s.bottom-i.height/2,l-=t.verticalOffset;const d=e(s,i),u=n.clone().moveTo(d,l).getIntersection(i.clone().moveTo(d,l)).getVisible();return!u||u.getArea()<i.getArea()?null:{top:l,left:d,name:`position_${t.position}-side_${t.side}`,config:{withArrow:!1}}}}function Jb(o){const t=o.config.get("ui.poweredBy"),e=t&&t.position||"border";return{position:e,label:K0,verticalOffset:e==="inside"?5:0,horizontalOffset:5,side:o.locale.contentLanguageDirection==="ltr"?"right":"left",...t}}var Xb=D(1801),W0={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Xb.A,W0),Xb.A.locals;const tw={POLITE:"polite",ASSERTIVE:"assertive"};class $0{editor;view;constructor(t){this.editor=t,t.once("ready",(()=>{for(const e of Object.values(tw))this.announce("",e)}))}announce(t,e=tw.POLITE){const n=this.editor;if(!n.ui.view)return;this.view||(this.view=new Z0(n.locale),n.ui.view.body.add(this.view));const{politeness:i,isUnsafeHTML:s}=typeof e=="string"?{politeness:e}:e;let l=this.view.regionViews.find((d=>d.politeness===i));l||(l=new J0(n,i),this.view.regionViews.add(l)),l.announce({announcement:t,isUnsafeHTML:s})}}class Z0 extends It{regionViews;constructor(t){super(t),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class J0 extends It{politeness;_domConverter;_pruneAnnouncementsInterval;constructor(t,e){super(t.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":e,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),t.on("destroy",(()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)})),this.politeness=e,this._domConverter=t.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval((()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()}),5e3)}announce({announcement:t,isUnsafeHTML:e}){if(!t.trim().length)return;const n=document.createElement("li");e?this._domConverter.setContentOf(n,t):n.innerText=t,this._listElement.appendChild(n)}get _listElement(){return this.element.querySelector("ul")}}class X0 extends ge(){editor;componentFactory;focusTracker;tooltipManager;poweredBy;ariaLiveAnnouncer;isReady=!1;_editableElementsMap=new Map;_focusableToolbarDefinitions=[];constructor(t){super();const e=t.editing.view;this.editor=t,this.componentFactory=new F0(t),this.focusTracker=new Qe,this.tooltipManager=new fi(t),this.poweredBy=new Y0(t),this.ariaLiveAnnouncer=new $0(t),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",(()=>{this.isReady=!0})),this.listenTo(e.document,"layoutChanged",this.update.bind(this)),this.listenTo(e,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const t of this._editableElementsMap.values())t.ckeditorInstance=null,this.editor.keystrokes.stopListening(t);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(t,e){this._editableElementsMap.set(t,e),e.ckeditorInstance||(e.ckeditorInstance=this.editor),this.focusTracker.add(e);const n=()=>{this.editor.editing.view.getDomRoot(t)||this.editor.keystrokes.listenTo(e)};this.isReady?n():this.once("ready",n)}removeEditableElement(t){const e=this._editableElementsMap.get(t);e&&(this._editableElementsMap.delete(t),this.editor.keystrokes.stopListening(e),this.focusTracker.remove(e),e.ckeditorInstance=null)}getEditableElement(t="main"){return this._editableElementsMap.get(t)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(t,e={}){t.isRendered?(this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)):t.once("render",(()=>{this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)})),this._focusableToolbarDefinitions.push({toolbarView:t,options:e})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const t=this.editor,e=t.config.get("ui.viewportOffset");if(e)return e;const n=t.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const t=this.editor,e=t.editing.view;let n,i;t.keystrokes.set("Alt+F10",((s,l)=>{const d=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(d)&&!Array.from(e.domRoots.values()).includes(d)&&(n=d);const u=this._getCurrentFocusedToolbarDefinition();u&&i||(i=this._getFocusableCandidateToolbarDefinitions());for(let m=0;m<i.length;m++){const g=i.shift();if(i.push(g),g!==u&&this._focusFocusableCandidateToolbar(g)){u&&u.options.afterBlur&&u.options.afterBlur();break}}l()})),t.keystrokes.set("Esc",((s,l)=>{const d=this._getCurrentFocusedToolbarDefinition();d&&(n?(n.focus(),n=null):t.editing.view.focus(),d.options.afterBlur&&d.options.afterBlur(),l())}))}_getFocusableCandidateToolbarDefinitions(){const t=[];for(const e of this._focusableToolbarDefinitions){const{toolbarView:n,options:i}=e;(oi(n.element)||i.beforeFocus)&&t.push(e)}return t.sort(((e,n)=>ew(e)-ew(n))),t}_getCurrentFocusedToolbarDefinition(){for(const t of this._focusableToolbarDefinitions)if(t.toolbarView.element&&t.toolbarView.element.contains(this.focusTracker.focusedElement))return t;return null}_focusFocusableCandidateToolbar(t){const{toolbarView:e,options:{beforeFocus:n}}=t;return n&&n(),!!oi(e.element)&&(e.focus(),!0)}_handleScrollToTheSelection(t,e){const n={top:0,bottom:0,left:0,right:0,...this.viewportOffset};e.viewportOffset.top+=n.top,e.viewportOffset.bottom+=n.bottom,e.viewportOffset.left+=n.left,e.viewportOffset.right+=n.right}}function ew(o){const{toolbarView:t,options:e}=o;let n=10;return oi(t.element)&&n--,e.isContextual&&n--,n}var nw=D(1185),ty={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(nw.A,ty),nw.A.locals;class ey extends It{body;constructor(t){super(t),this.body=new Bk(t)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class ny extends ey{top;main;_voiceLabelView;constructor(t){super(t),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const t=this.t,e=new $l;return e.text=t("Rich Text Editor"),e.extendTemplate({attributes:{class:"ck-voice-label"}}),e}}class iy extends It{name=null;_editingView;_editableElement;_hasExternalElement;constructor(t,e,n){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=e}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",(()=>this._updateIsFocusedClasses())),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const t=this._editingView;function e(n){t.change((i=>{const s=t.document.getRoot(n.name);i.addClass(n.isFocused?"ck-focused":"ck-blurred",s),i.removeClass(n.isFocused?"ck-blurred":"ck-focused",s)}))}t.isRenderingInProgress?(function n(i){t.once("change:isRenderingInProgress",((s,l,d)=>{d?n(i):e(i)}))})(this):e(this)}}class oy extends iy{_generateLabel;constructor(t,e,n,i={}){super(t,e,n);const s=t.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=i.label||(()=>s("Editor editing area: %0",this.name))}render(){super.render();const t=this._editingView;t.change((e=>{const n=t.document.getRoot(this.name);e.setAttribute("aria-label",this._generateLabel(this),n)}))}}class jk extends na{static get pluginName(){return"Notification"}init(){this.on("show:warning",((t,e)=>{window.alert(e.message)}),{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){const e=t.namespace?`show:${t.type}:${t.namespace}`:`show:${t.type}`;this.fire(e,{message:t.message,type:t.type,title:t.title||""})}}class iw extends ge(){constructor(t,e){super(),e&&Il(this,e),t&&this.set(t)}}var ow=D(991),ry={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(ow.A,ry),ow.A.locals;var rw=D(5380),sy={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(rw.A,sy),rw.A.locals;const Vg=Zr("px");class Ug extends ft{positionLimiter;visibleStack;_viewToStack=new Map;_idToStack=new Map;_view=null;_rotatorView=null;_fakePanelsView=null;static get pluginName(){return"ContextualBalloon"}constructor(t){super(t),this.positionLimiter=()=>{const e=this.editor.editing.view,n=e.document.selection.editableElement;return n?e.domConverter.mapViewToDom(n.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this._view||this._createPanelView(),this.hasView(t.view))throw new H("contextualballoon-add-view-exist",[this,t]);const e=t.stackId||"main";if(!this._idToStack.has(e))return this._idToStack.set(e,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(e)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(e));const n=this._idToStack.get(e);t.singleViewMode&&this.showStack(e),n.set(t.view,t),this._viewToStack.set(t.view,n),n===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new H("contextualballoon-remove-view-not-exist",[this,t]);const e=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(e.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(e.values())[e.size-2])),e.size===1?(this._idToStack.delete(this._getStackId(e)),this._numberOfStacks=this._idToStack.size):e.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(t){this.visibleStack=t;const e=this._idToStack.get(t);if(!e)throw new H("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}_createPanelView(){this._view=new Hi(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find((e=>e[1]===t))[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)+1;t[e]||(e=0),this.showStack(this._getStackId(t[e]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)-1;t[e]||(e=t.length-1),this.showStack(this._getStackId(t[e]))}_createRotatorView(){const t=new ay(this.editor.locale),e=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",((n,i)=>!i&&n>1)),t.on("change:isNavigationVisible",(()=>this.updatePosition()),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",((n,i)=>{if(i<2)return"";const s=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return e("%0 of %1",[s,i])})),t.buttonNextView.on("execute",(()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()})),t.buttonPrevView.on("execute",(()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()})),t}_createFakePanelsView(){const t=new ly(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",((e,n)=>!n&&e>=2?Math.min(e-1,2):0)),t.listenTo(this.view,"change:top",(()=>t.updatePosition())),t.listenTo(this.view,"change:left",(()=>t.updatePosition())),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:e="",withArrow:n=!0,singleViewMode:i=!1}){this.view.class=e,this.view.withArrow=n,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),i&&(this._singleViewMode=!0)}_getBalloonPosition(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&(t.limiter||(t=Object.assign({},t,{limiter:this.positionLimiter})),t=Object.assign({},t,{viewportOffsetConfig:this.editor.ui.viewportOffset})),t}}class ay extends It{focusTracker;buttonPrevView;buttonNextView;content;constructor(t){super(t);const e=t.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Qe,this.buttonPrevView=this._createButtonView(e("Previous"),St.previousArrow),this.buttonNextView=this._createButtonView(e("Next"),St.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",(i=>i?"":"ck-hidden"))]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,e){const n=new ee(this.locale);return n.set({label:t,icon:e,tooltip:!0}),n}}class ly extends It{content;_balloonPanelView;constructor(t,e){super(t);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=e,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",(i=>i?"":"ck-hidden"))],style:{top:n.to("top",Vg),left:n.to("left",Vg),width:n.to("width",Vg),height:n.to("height",Vg)}},children:this.content}),this.on("change:numberOfPanels",((i,s,l,d)=>{l>d?this._addPanels(l-d):this._removePanels(d-l),this.updatePosition()}))}_addPanels(t){for(;t--;){const e=new It;e.setTemplate({tag:"div"}),this.content.add(e),this.registerChild(e)}}_removePanels(t){for(;t--;){const e=this.content.last;this.content.remove(e),this.deregisterChild(e),e.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:e}=this._balloonPanelView,{width:n,height:i}=new Kt(this._balloonPanelView.element);Object.assign(this,{top:t,left:e,width:n,height:i})}}}var sw=D(8298),cy={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(sw.A,cy),sw.A.locals;const Bd=Zr("px");class dy extends It{content;contentPanelElement;_contentPanelPlaceholder;constructor(t){super(t);const e=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new si({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:e.to("isSticky",(n=>n?"block":"none")),height:e.to("isSticky",(n=>n?Bd(this._contentPanelRect.height):null))}}}).render(),this.contentPanelElement=new si({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:e.to("isSticky",(n=>n?Bd(this._contentPanelPlaceholder.getBoundingClientRect().width):null)),top:e.to("_stickyTopOffset",(n=>n&&Bd(n))),bottom:e.to("_stickyBottomOffset",(n=>n&&Bd(n))),marginLeft:e.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(S.document,"scroll",(()=>{this.checkIfShouldBeSticky()}),{useCapture:!0}),this.listenTo(this,"change:isActive",(()=>{this.checkIfShouldBeSticky()}))}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const t=new Kt(this.limiterElement);let e=t.getVisible();if(e){const n=new Kt(S.window);n.top+=this.viewportTopOffset,n.height-=this.viewportTopOffset,e=e.getIntersection(n)}if(e&&t.top<e.top){const n=e.top;if(n+this._contentPanelRect.height+this.limiterBottomOffset>e.bottom){const i=Math.max(t.bottom-e.bottom,0)+this.limiterBottomOffset;t.bottom-i>t.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(i):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<t.height?this._stickToTopOfAncestors(n):this._unstick()}else this._unstick()}_stickToTopOfAncestors(t){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=t,this._stickyBottomOffset=null,this._marginLeft=Bd(-S.window.scrollX)}_stickToBottomOfLimiter(t){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=t,this._marginLeft=Bd(-S.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Kt(this.contentPanelElement)}}var aw=/[\\^$.*+?()[\]{}|]/g,uy=RegExp(aw.source);const hy=function(o){return(o=oa(o))&&uy.test(o)?o.replace(aw,"\\$&"):o};var lw=D(8107),my={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(lw.A,my),lw.A.locals;var cw=D(5727),fy={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(cw.A,fy),cw.A.locals;var dw=D(9529),gy={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(dw.A,gy),dw.A.locals;var uw=D(109),py={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(uw.A,py),uw.A.locals;var hw=D(2710),ky={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(hw.A,ky),hw.A.locals;var mw=D(3344),by={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(mw.A,by),mw.A.locals;class wy extends ee{arrowView;constructor(t){super(t);const e=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(n=>String(n))),"data-cke-tooltip-disabled":e.to("isOn")},on:{mouseenter:e.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new Lo;return t.content=Zl,t.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),t}}var fw=D(9481),Ay={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(fw.A,Ay),fw.A.locals;class Hg extends w{constructor(t,e){super(t);const n=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:n.to("mouseenter")}}),this.delegate("mouseenter").to(e)}}const cm={toggleMenusAndFocusItemsOnHover(o){o.on("menu:mouseenter",(t=>{if(o.isOpen){for(const e of o.menus){const n=t.path[0],i=n instanceof Hg&&n.children.first===e;e.isOpen=(t.path.includes(e)||i)&&e.isEnabled}t.source.focus()}}))},focusCycleMenusOnArrows(o){const t=o.locale.uiLanguageDirection==="rtl";function e(n,i){const s=o.children.getIndex(n),l=n.isOpen,d=o.children.length,u=o.children.get((s+d+i)%d);n.isOpen=!1,l&&(u.isOpen=!0),u.buttonView.focus()}o.on("menu:arrowright",(n=>{e(n.source,t?-1:1)})),o.on("menu:arrowleft",(n=>{e(n.source,t?1:-1)}))},closeMenusWhenTheBarCloses(o){o.on("change:isOpen",(()=>{o.isOpen||o.menus.forEach((t=>{t.isOpen=!1}))}))},closeMenuWhenAnotherOnTheSameLevelOpens(o){o.on("menu:change:isOpen",((t,e,n)=>{n&&o.menus.filter((i=>t.source.parentMenuView===i.parentMenuView&&t.source!==i&&i.isOpen)).forEach((i=>{i.isOpen=!1}))}))},closeOnClickOutside(o){fr({emitter:o,activator:()=>o.isOpen,callback:()=>o.close(),contextElements:()=>o.children.map((t=>t.element))})}},tc={openAndFocusPanelOnArrowDownKey(o){o.keystrokes.set("arrowdown",((t,e)=>{o.focusTracker.focusedElement===o.buttonView.element&&(o.isOpen||(o.isOpen=!0),o.panelView.focus(),e())}))},openOnArrowRightKey(o){const t=o.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";o.keystrokes.set(t,((e,n)=>{o.focusTracker.focusedElement===o.buttonView.element&&o.isEnabled&&(o.isOpen||(o.isOpen=!0),o.panelView.focus(),n())}))},openOnButtonClick(o){o.buttonView.on("execute",(()=>{o.isOpen=!0,o.panelView.focus()}))},toggleOnButtonClick(o){o.buttonView.on("execute",(()=>{o.isOpen=!o.isOpen,o.isOpen&&o.panelView.focus()}))},closeOnArrowLeftKey(o){const t=o.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";o.keystrokes.set(t,((e,n)=>{o.isOpen&&(o.isOpen=!1,o.focus(),n())}))},closeOnEscKey(o){o.keystrokes.set("esc",((t,e)=>{o.isOpen&&(o.isOpen=!1,o.focus(),e())}))},closeOnParentClose(o){o.parentMenuView.on("change:isOpen",((t,e,n)=>{n||t.source!==o.parentMenuView||(o.isOpen=!1)}))}},_y={southEast:o=>({top:o.bottom,left:o.left,name:"se"}),southWest:(o,t)=>({top:o.bottom,left:o.left-t.width+o.width,name:"sw"}),northEast:(o,t)=>({top:o.top-t.height,left:o.left,name:"ne"}),northWest:(o,t)=>({top:o.top-t.height,left:o.left-t.width+o.width,name:"nw"}),eastSouth:o=>({top:o.top,left:o.right-5,name:"es"}),eastNorth:(o,t)=>({top:o.top-t.height,left:o.right-5,name:"en"}),westSouth:(o,t)=>({top:o.top,left:o.left-t.width+5,name:"ws"}),westNorth:(o,t)=>({top:o.top-t.height,left:o.left-t.width+5,name:"wn"})},Cy=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function vy({normalizedConfig:o,locale:t,componentFactory:e}){const n=ji(o);return(function(i,s){const l=s.removeItems,d=[];s.items=s.items.filter((({menuId:u})=>!l.includes(u)||(d.push(u),!1))),Id(s.items,(u=>{u.groups=u.groups.filter((({groupId:m})=>!l.includes(m)||(d.push(m),!1)));for(const m of u.groups)m.items=m.items.filter((g=>{const k=kw(g);return!l.includes(k)||(d.push(k),!1)}))}));for(const u of l)d.includes(u)||Bt("menu-bar-item-could-not-be-removed",{menuBarConfig:i,itemName:u})})(o,n),(function(i,s){const l=s.addItems,d=[];for(const u of l){const m=Ey(u.position),g=Dy(u.position);if(yy(u))if(g){const k=s.items.findIndex((_=>_.menuId===g));k!=-1?m==="before"?(s.items.splice(k,0,u.menu),d.push(u)):m==="after"&&(s.items.splice(k+1,0,u.menu),d.push(u)):gw(s,u.menu,g,m)&&d.push(u)}else m==="start"?(s.items.unshift(u.menu),d.push(u)):m==="end"&&(s.items.push(u.menu),d.push(u));else xy(u)?Id(s.items,(k=>{if(k.menuId===g)m==="start"?(k.groups.unshift(u.group),d.push(u)):m==="end"&&(k.groups.push(u.group),d.push(u));else{const _=k.groups.findIndex((v=>v.groupId===g));_!==-1&&(m==="before"?(k.groups.splice(_,0,u.group),d.push(u)):m==="after"&&(k.groups.splice(_+1,0,u.group),d.push(u)))}})):gw(s,u.item,g,m)&&d.push(u)}for(const u of l)d.includes(u)||Bt("menu-bar-item-could-not-be-added",{menuBarConfig:i,addedItemConfig:u})})(o,n),(function(i,s,l){Id(s.items,(d=>{for(const u of d.groups)u.items=u.items.filter((m=>{const g=typeof m=="string"&&!l.has(m);return g&&!s.isUsingDefaultConfig&&Bt("menu-bar-item-unavailable",{menuBarConfig:i,parentMenuConfig:ji(d),componentName:m}),!g}))}))})(o,n,e),pw(o,n),(function(i,s){const l=s.t,d={File:l({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:l({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:l({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:l({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:l({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:l({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:l({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:l({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:l({string:"Font",id:"MENU_BAR_MENU_FONT"})};Id(i.items,(u=>{u.label in d&&(u.label=d[u.label])}))})(n,t),n}function gw(o,t,e,n){let i=!1;return Id(o.items,(s=>{for(const{groupId:l,items:d}of s.groups){if(i)return;if(l===e)n==="start"?(d.unshift(t),i=!0):n==="end"&&(d.push(t),i=!0);else{const u=d.findIndex((m=>kw(m)===e));u!==-1&&(n==="before"?(d.splice(u,0,t),i=!0):n==="after"&&(d.splice(u+1,0,t),i=!0))}}})),i}function pw(o,t){const e=t.isUsingDefaultConfig;let n=!1;t.items=t.items.filter((i=>!!i.groups.length||(Pk(o,i,e),!1))),t.items.length?(Id(t.items,(i=>{i.groups=i.groups.filter((s=>!!s.items.length||(n=!0,!1)));for(const s of i.groups)s.items=s.items.filter((l=>!(bw(l)&&!l.groups.length)||(Pk(o,l,e),n=!0,!1)))})),n&&pw(o,t)):Pk(o,o,e)}function Pk(o,t,e){e||Bt("menu-bar-menu-empty",{menuBarConfig:o,emptyMenuConfig:t})}function Id(o,t){if(Array.isArray(o))for(const n of o)e(n);function e(n){t(n);for(const i of n.groups)for(const s of i.items)bw(s)&&e(s)}}function yy(o){return typeof o=="object"&&"menu"in o}function xy(o){return typeof o=="object"&&"group"in o}function Ey(o){return o.startsWith("start")?"start":o.startsWith("end")?"end":o.startsWith("after")?"after":"before"}function Dy(o){const t=o.match(/^[^:]+:(.+)/);return t?t[1]:null}function kw(o){return typeof o=="string"?o:o.menuId}function bw(o){return typeof o=="object"&&"menuId"in o}function Sy(o,t){const e=t.element;o.ui.focusTracker.add(e),o.keystrokes.listenTo(e);const n=(function(i){let s;return s="items"in i&&i.items?{items:i.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...i}:{items:ji(Cy),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...i},s})(o.config.get("menuBar")||{});t.fillFromConfig(n,o.ui.componentFactory),o.keystrokes.set("Esc",((i,s)=>{e.contains(o.ui.focusTracker.focusedElement)&&(o.editing.view.focus(),s())})),o.keystrokes.set("Alt+F9",((i,s)=>{e.contains(o.ui.focusTracker.focusedElement)||(t.focus(),s())}))}var ww=D(9108),Ty={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(ww.A,Ty),ww.A.locals;class My extends It{children;constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",e.to("position",(n=>`ck-menu-bar__menu__panel_position_${n}`)),e.if("isVisible","ck-hidden",(n=>!n))],tabindex:"-1"},children:this.children,on:{selectstart:e.to((n=>{n.target.tagName.toLocaleLowerCase()!=="input"&&n.preventDefault()}))}})}focus(t=1){this.children.length&&(t===1?this.children.first.focus():this.children.last.focus())}}var Aw=D(4),By={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Aw.A,By),Aw.A.locals;class za extends It{buttonView;panelView;focusTracker;keystrokes;constructor(t){super(t);const e=this.bindTemplate;this.buttonView=new wy(t),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new My(t),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new cn,this.focusTracker=new Qe,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",e.to("class"),e.if("isEnabled","ck-disabled",(n=>!n)),e.if("parentMenuView","ck-menu-bar__menu_top-level",(n=>!n))]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),tc.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(tc.openOnButtonClick(this),tc.openOnArrowRightKey(this),tc.closeOnArrowLeftKey(this),tc.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),tc.openAndFocusPanelOnArrowDownKey(this),tc.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",((t,e)=>{this.fire("arrowright"),e()})),this.keystrokes.set("arrowleft",((t,e)=>{this.fire("arrowleft"),e()}))}_repositionPanelOnOpen(){this.on("change:isOpen",((t,e,n)=>{if(!n)return;const i=za._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=i?i.name:this._panelPositions[0].name}))}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:t,southWest:e,northEast:n,northWest:i,westSouth:s,eastSouth:l,westNorth:d,eastNorth:u}=_y;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[l,u,s,d]:[t,e,n,i]:this.parentMenuView?[s,d,l,u]:[e,t,i,n]}static _getOptimalPosition=ll}class qg extends st{constructor(t){super(t),this.role="menu"}}class _w extends Ba{constructor(t){super(t),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var Cw=D(497),Iy={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Cw.A,Iy),Cw.A.locals;const vw=["mouseenter","arrowleft","arrowright","change:isOpen"];class Ny extends It{children;menus=[];constructor(t){super(t);const e=t.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":e("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(t,e){const n=vy({normalizedConfig:t,locale:this.locale,componentFactory:e}).items.map((i=>this._createMenu({componentFactory:e,menuDefinition:i})));this.children.addMany(n)}render(){super.render(),cm.toggleMenusAndFocusItemsOnHover(this),cm.closeMenusWhenTheBarCloses(this),cm.closeMenuWhenAnotherOnTheSameLevelOpens(this),cm.focusCycleMenusOnArrows(this),cm.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const t of this.children)t.isOpen=!1}registerMenu(t,e=null){e?(t.delegate(...vw).to(e),t.parentMenuView=e):t.delegate(...vw).to(this,(n=>"menu:"+n)),t._attachBehaviors(),this.menus.push(t)}_createMenu({componentFactory:t,menuDefinition:e,parentMenuView:n}){const i=this.locale,s=new za(i);return this.registerMenu(s,n),s.buttonView.set({label:e.label}),s.once("change:isOpen",(()=>{const l=new qg(i);l.ariaLabel=e.label,s.panelView.children.add(l),l.items.addMany(this._createMenuItems({menuDefinition:e,parentMenuView:s,componentFactory:t}))})),s}_createMenuItems({menuDefinition:t,parentMenuView:e,componentFactory:n}){const i=this.locale,s=[];for(const l of t.groups){for(const d of l.items){const u=new Hg(i,e);if(xe(d))u.children.add(this._createMenu({componentFactory:n,menuDefinition:d,parentMenuView:e}));else{const m=this._createMenuItemContentFromFactory({componentName:d,componentFactory:n,parentMenuView:e});if(!m)continue;u.children.add(m)}s.push(u)}l!==t.groups[t.groups.length-1]&&s.push(new T(i))}return s}_createMenuItemContentFromFactory({componentName:t,parentMenuView:e,componentFactory:n}){const i=n.create(t);return i instanceof za||i instanceof Ze||i instanceof _w?(this._registerMenuTree(i,e),i.on("execute",(()=>{this.close()})),i):(Bt("menu-bar-component-unsupported",{componentName:t,componentView:i}),null)}_registerMenuTree(t,e){if(!(t instanceof za))return void t.delegate("mouseenter").to(e);this.registerMenu(t,e);const n=t.panelView.children.filter((s=>s instanceof qg))[0];if(!n)return void t.delegate("mouseenter").to(e);const i=n.items.filter((s=>s instanceof w));for(const s of i)this._registerMenuTree(s.children.get(0),t)}_setupIsOpenUpdater(){let t;this.on("menu:change:isOpen",((e,n,i)=>{clearTimeout(t),i?this.isOpen=!0:t=setTimeout((()=>{this.isOpen=Array.from(this.children).some((s=>s.isOpen))}),0)}))}}class zy extends X0{view;_toolbarConfig;_elementReplacer;constructor(t,e){super(t),this.view=e,this._toolbarConfig=lm(t.config.get("toolbar")),this._elementReplacer=new Nm,this.listenTo(t.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(t){const e=this.editor,n=this.view,i=e.editing.view,s=n.editable,l=i.document.getRoot();s.name=l.rootName,n.render();const d=s.element;this.setEditableElement(s.name,d),n.editable.bind("isFocused").to(this.focusTracker),i.attachDomRoot(d),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),n.menuBarView&&Sy(e,n.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const t=this.view,e=this.editor.editing.view;this._elementReplacer.restore(),e.detachDomRoot(t.editable.name),t.destroy()}_initToolbar(){const t=this.view;t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),t.stickyPanel.limiterElement=t.element,t.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",(({top:e})=>e||0)),t.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(t.toolbar)}_initPlaceholder(){const t=this.editor,e=t.editing.view,n=e.document.getRoot(),i=t.sourceElement;let s;const l=t.config.get("placeholder");l&&(s=typeof l=="string"?l:l[this.view.editable.name]),!s&&i&&i.tagName.toLowerCase()==="textarea"&&(s=i.getAttribute("placeholder")),s&&(n.placeholder=s),_o({view:e,element:n,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(t,e,n){const i=this.view.stickyPanel;if(i.isSticky){const s=new Kt(i.element).height;e.viewportOffset.top+=s}else{const s=()=>{this.editor.editing.view.scrollToTheSelection(n)};this.listenTo(i,"change:isSticky",s),setTimeout((()=>{this.stopListening(i,"change:isSticky",s)}),20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const t=this.view.stickyPanel,e=this.editor.plugins.get("Dialog");e.on("show",(()=>{const n=e.view;n.on("moveTo",((i,s)=>{if(!t.isSticky||n.wasMoved)return;const l=new Kt(t.contentPanelElement);s[1]<l.bottom+Dr.defaultOffset&&(s[1]=l.bottom+Dr.defaultOffset)}),{priority:"high"})}),{priority:"low"})}}var yw=D(7388),Oy={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(yw.A,Oy),yw.A.locals;class Ly extends ny{stickyPanel;toolbar;menuBarView;editable;constructor(t,e,n={}){super(t),this.stickyPanel=new dy(t),this.toolbar=new a(t,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),n.useMenuBar&&(this.menuBarView=new Ny(t)),this.editable=new oy(t,e)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class Ry extends Ui(Ad){ui;constructor(t,e={}){if(!Gg(t)&&e.initialData!==void 0)throw new H("editor-create-initial-data",null);super(e),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",(function(l){return Gg(l)?(d=l,d instanceof HTMLTextAreaElement?d.value:d.innerHTML):l;var d})(t)),Gg(t)&&(this.sourceElement=t),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),i=this.config.get("menuBar"),s=new Ly(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n,useMenuBar:i.isVisible});this.ui=new zy(this,s),(function(l){if(!bi(l.updateSourceElement))throw new H("attachtoform-missing-elementapi-interface",l);const d=l.sourceElement;if((function(u){return!!u&&u.tagName.toLowerCase()==="textarea"})(d)&&d.form){let u;const m=d.form,g=()=>l.updateSourceElement();bi(m.submit)&&(u=m.submit,m.submit=()=>{g(),u.apply(m)}),m.addEventListener("submit",g),l.on("destroy",(()=>{m.removeEventListener("submit",g),u&&(m.submit=u)}))}})(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(t,e={}){return new Promise((n=>{const i=new this(t,e);n(i.initPlugins().then((()=>i.ui.init(Gg(t)?t:null))).then((()=>i.data.init(i.config.get("initialData")))).then((()=>i.fire("ready"))).then((()=>i)))}))}}function Gg(o){return Jo(o)}class dm extends br{domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];constructor(t){super(t);const e=this.document;function n(i){return(s,l)=>{l.preventDefault();const d=l.dropRange?[l.dropRange]:null,u=new kt(e,i);e.fire(u,{dataTransfer:l.dataTransfer,method:s.name,targetRanges:d,target:l.target,domEvent:l.domEvent}),u.stop.called&&l.stopPropagation()}}this.listenTo(e,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(e,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(e,"dragover",n("dragging"),{priority:"low"})}onDomEvent(t){const e="clipboardData"in t?t.clipboardData:t.dataTransfer,n=t.type=="drop"||t.type=="paste",i={dataTransfer:new $i(e,{cacheFiles:n})};t.type!="drop"&&t.type!="dragover"||(i.dropRange=(function(s,l){const d=l.target.ownerDocument,u=l.clientX,m=l.clientY;let g;return d.caretRangeFromPoint&&d.caretRangeFromPoint(u,m)?g=d.caretRangeFromPoint(u,m):l.rangeParent&&(g=d.createRange(),g.setStart(l.rangeParent,l.rangeOffset),g.collapse(!0)),g?s.domConverter.domRangeToView(g):null})(this.view,t)),this.fire(t.type,t,i)}}const xw=["figcaption","li"],Ew=["ol","ul"];function Dw(o){if(o.is("$text")||o.is("$textProxy"))return o.data;if(o.is("element","img")&&o.hasAttribute("alt"))return o.getAttribute("alt");if(o.is("element","br"))return`
`;let t="",e=null;for(const n of o.getChildren())t+=jy(n,e)+Dw(n),e=n;return t}function jy(o,t){return t?o.is("element","li")&&!o.isEmpty&&o.getChild(0).is("containerElement")||Ew.includes(o.name)&&Ew.includes(t.name)?`

`:o.is("containerElement")||t.is("containerElement")?xw.includes(o.name)||xw.includes(t.name)?`
`:`

`:"":""}const Py=function(o,t){return o&&ko(o,t,Us)},Fy=function(o,t,e,n){var i=e.length,s=i;if(o==null)return!s;for(o=Object(o);i--;){var l=e[i];if(l[2]?l[1]!==o[l[0]]:!(l[0]in o))return!1}for(;++i<s;){var d=(l=e[i])[0],u=o[d],m=l[1];if(l[2]){if(u===void 0&&!(d in o))return!1}else{var g=new Pn,k;if(!(k===void 0?jl(m,u,3,n,g):k))return!1}}return!0},Sw=function(o){return o==o&&!xe(o)},Vy=function(o){for(var t=Us(o),e=t.length;e--;){var n=t[e],i=o[n];t[e]=[n,i,Sw(i)]}return t},Tw=function(o,t){return function(e){return e!=null&&e[o]===t&&(t!==void 0||o in Object(e))}},Uy=function(o){var t=Vy(o);return t.length==1&&t[0][2]?Tw(t[0][0],t[0][1]):function(e){return e===o||Fy(e,o,t)}},Hy=function(o,t){return o!=null&&t in Object(o)},qy=function(o,t,e){for(var n=-1,i=(t=ra(t,o)).length,s=!1;++n<i;){var l=xo(t[n]);if(!(s=o!=null&&e(o,l)))break;o=o[l]}return s||++n!=i?s:!!(i=o==null?0:o.length)&&ho(i)&&pn(l,i)&&(tn(o)||zi(o))},Gy=function(o,t){return o!=null&&qy(o,t,Hy)},Ky=function(o,t){return kl(o)&&Sw(t)?Tw(xo(o),t):function(e){var n=sa(e,o);return n===void 0&&n===t?Gy(e,o):jl(t,n,3)}},Yy=function(o){return function(t){return t?.[o]}},Qy=function(o){return function(t){return _l(t,o)}},Wy=function(o){return kl(o)?Yy(xo(o)):Qy(o)},$y=function(o){return typeof o=="function"?o:o==null?_i:typeof o=="object"?tn(o)?Ky(o[0],o[1]):Uy(o):Wy(o)},Zy=function(o,t){var e={};return t=$y(t),Py(o,(function(n,i,s){uo(e,i,t(n,i,s))})),e};class um extends ft{_markersToCopy=new Map;static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(t,e){this._markersToCopy.set(t,e)}_copySelectedFragmentWithMarkers(t,e,n=i=>i.model.getSelectedContent(i.model.document.selection)){return this.editor.model.change((i=>{const s=i.model.document.selection;i.setSelection(e);const l=this._insertFakeMarkersIntoSelection(i,i.model.document.selection,t),d=n(i),u=this._removeFakeMarkersInsideElement(i,d);for(const[m,g]of Object.entries(l)){u[m]||=i.createRangeIn(d);for(const k of g)i.remove(k)}d.markers.clear();for(const[m,g]of Object.entries(u))d.markers.set(m,g);return i.setSelection(s),d}))}_pasteMarkersIntoTransformedElement(t,e){const n=this._getPasteMarkersFromRangeMap(t);return this.editor.model.change((i=>{const s=this._insertFakeMarkersElements(i,n),l=e(i),d=this._removeFakeMarkersInsideElement(i,l);for(const u of Object.values(s).flat())i.remove(u);for(const[u,m]of Object.entries(d))i.model.markers.has(u)||i.addMarker(u,{usingOperation:!0,affectsData:!0,range:m});return l}))}_pasteFragmentWithMarkers(t){const e=this._getPasteMarkersFromRangeMap(t.markers);t.markers.clear();for(const n of e)t.markers.set(n.name,n.range);return this.editor.model.insertContent(t)}_forceMarkersCopy(t,e,n={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const i=this._markersToCopy.get(t);this._markersToCopy.set(t,n),e(),i?this._markersToCopy.set(t,i):this._markersToCopy.delete(t)}_isMarkerCopyable(t,e){const n=this._getMarkerClipboardConfig(t);if(!n)return!1;if(!e)return!0;const{allowedActions:i}=n;return i==="all"||i.includes(e)}_hasMarkerConfiguration(t){return!!this._getMarkerClipboardConfig(t)}_getMarkerClipboardConfig(t){const[e]=t.split(":");return this._markersToCopy.get(e)||null}_insertFakeMarkersIntoSelection(t,e,n){const i=this._getCopyableMarkersFromSelection(t,e,n);return this._insertFakeMarkersElements(t,i)}_getCopyableMarkersFromSelection(t,e,n){const i=Array.from(e.getRanges()),s=new Set(i.flatMap((l=>Array.from(t.model.markers.getMarkersIntersectingRange(l)))));return Array.from(s).filter((l=>{if(!this._isMarkerCopyable(l.name,n))return!1;const{copyPartiallySelected:d}=this._getMarkerClipboardConfig(l.name);if(!d){const u=l.getRange();return i.some((m=>m.containsRange(u,!0)))}return!0})).map((l=>({name:n==="dragstart"?this._getUniqueMarkerName(l.name):l.name,range:l.getRange()})))}_getPasteMarkersFromRangeMap(t,e=null){const{model:n}=this.editor;return(t instanceof Map?Array.from(t.entries()):Object.entries(t)).flatMap((([i,s])=>{if(!this._hasMarkerConfiguration(i))return[{name:i,range:s}];if(this._isMarkerCopyable(i,e)){const l=this._getMarkerClipboardConfig(i),d=n.markers.has(i)&&n.markers.get(i).getRange().root.rootName==="$graveyard";return(l.duplicateOnPaste||d)&&(i=this._getUniqueMarkerName(i)),[{name:i,range:s}]}return[]}))}_insertFakeMarkersElements(t,e){const n={},i=e.flatMap((s=>{const{start:l,end:d}=s.range;return[{position:l,marker:s,type:"start"},{position:d,marker:s,type:"end"}]})).sort((({position:s},{position:l})=>s.isBefore(l)?1:-1));for(const{position:s,marker:l,type:d}of i){const u=t.createElement("$marker",{"data-name":l.name,"data-type":d});n[l.name]||(n[l.name]=[]),n[l.name].push(u),t.insert(u,s)}return n}_removeFakeMarkersInsideElement(t,e){const n=this._getAllFakeMarkersFromElement(t,e).reduce(((i,s)=>{const l=s.markerElement&&t.createPositionBefore(s.markerElement);let d=i[s.name],u=!1;return d&&d.start&&d.end&&(this._getMarkerClipboardConfig(s.name).duplicateOnPaste?i[this._getUniqueMarkerName(s.name)]=i[s.name]:u=!0,d=null),u||(i[s.name]={...d,[s.type]:l}),s.markerElement&&t.remove(s.markerElement),i}),{});return Zy(n,(i=>new Z(i.start||t.createPositionFromPath(e,[0]),i.end||t.createPositionAt(e,"end"))))}_getAllFakeMarkersFromElement(t,e){const n=Array.from(t.createRangeIn(e)).flatMap((({item:l})=>{if(!l.is("element","$marker"))return[];const d=l.getAttribute("data-name"),u=l.getAttribute("data-type");return[{markerElement:l,name:d,type:u}]})),i=[],s=[];for(const l of n)l.type==="end"&&(n.some((d=>d.name===l.name&&d.type==="start"))||i.push({markerElement:null,name:l.name,type:"start"})),l.type==="start"&&(n.some((d=>d.name===l.name&&d.type==="end"))||s.unshift({markerElement:null,name:l.name,type:"end"}));return[...i,...n,...s]}_getUniqueMarkerName(t){const e=t.split(":"),n=Mt().substring(1,6);return e.length===3?`${e.slice(0,2).join(":")}:${n}`:`${e.join(":")}:${n}`}}class io extends ft{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[um]}init(){this.editor.editing.view.addObserver(dm),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(t,e,n){const i=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:n==="cut"},(()=>{const s=i._copySelectedFragmentWithMarkers(n,e);this.fire("outputTransformation",{dataTransfer:t,content:s,method:n})}))}_setupPasteDrop(){const t=this.editor,e=t.model,n=t.editing.view,i=n.document,s=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(i,"clipboardInput",((l,d)=>{d.method!="paste"||t.model.canEditAt(t.model.document.selection)||l.stop()}),{priority:"highest"}),this.listenTo(i,"clipboardInput",((l,d)=>{const u=d.dataTransfer;let m;if(d.content)m=d.content;else{let _="";u.getData("text/html")?_=(function(v){return v.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((E,z)=>z.length==1?" ":z)).replace(/<!--[\s\S]*?-->/g,"")})(u.getData("text/html")):u.getData("text/plain")&&(((g=(g=u.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||g.includes("<br>"))&&(g=`<p>${g}</p>`),_=g),m=this.editor.data.htmlProcessor.toView(_)}var g;const k=new kt(this,"inputTransformation");this.fire(k,{content:m,dataTransfer:u,targetRanges:d.targetRanges,method:d.method}),k.stop.called&&l.stop(),n.scrollToTheSelection()}),{priority:"low"}),this.listenTo(this,"inputTransformation",((l,d)=>{if(d.content.isEmpty)return;const u=this.editor.data.toModel(d.content,"$clipboardHolder");u.childCount!=0&&(l.stop(),e.change((()=>{this.fire("contentInsertion",{content:u,method:d.method,dataTransfer:d.dataTransfer,targetRanges:d.targetRanges})})))}),{priority:"low"}),this.listenTo(this,"contentInsertion",((l,d)=>{d.resultRange=s._pasteFragmentWithMarkers(d.content)}),{priority:"low"})}_setupCopyCut(){const t=this.editor,e=t.model.document,n=t.editing.view.document,i=(s,l)=>{const d=l.dataTransfer;l.preventDefault(),this._fireOutputTransformationEvent(d,e.selection,s.name)};this.listenTo(n,"copy",i,{priority:"low"}),this.listenTo(n,"cut",((s,l)=>{t.model.canEditAt(t.model.document.selection)?i(s,l):l.preventDefault()}),{priority:"low"}),this.listenTo(this,"outputTransformation",((s,l)=>{const d=t.data.toView(l.content);n.fire("clipboardOutput",{dataTransfer:l.dataTransfer,content:d,method:l.method})}),{priority:"low"}),this.listenTo(n,"clipboardOutput",((s,l)=>{l.content.isEmpty||(l.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(l.content)),l.dataTransfer.setData("text/plain",Dw(l.content))),l.method=="cut"&&t.model.deleteContent(e.selection)}),{priority:"low"})}}class Mw{model;limit;_isLocked;_size;_batch=null;_changeCallback;_selectionChangeCallback;constructor(t,e=20){this.model=t,this._size=0,this.limit=e,this._isLocked=!1,this._changeCallback=(n,i)=>{i.isLocal&&i.isUndoable&&i!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(t){this._size+=t,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t=!1){this.isLocked&&!t||(this._batch=null,this._size=0)}}class Jy extends Ht{_buffer;constructor(t,e){super(t),this._buffer=new Mw(t.model,e),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const e=this.editor.model,n=e.document,i=t.text||"",s=i.length;let l=n.selection;if(t.selection?l=t.selection:t.range&&(l=e.createSelection(t.range)),!e.canEditAt(l))return;const d=t.resultRange;e.enqueueChange(this._buffer.batch,(u=>{this._buffer.lock();const m=Array.from(n.selection.getAttributes());e.deleteContent(l),i&&e.insertContent(u.createText(i,m),l),d?u.setSelection(d):l.is("documentSelection")||u.setSelection(l),this._buffer.unlock(),this._buffer.input(s)}))}}const Bw=["insertText","insertReplacementText"];class Xy extends Ri{focusObserver;constructor(t){super(t),this.focusObserver=t.getObserver(ma),N.isAndroid&&Bw.push("insertCompositionText");const e=t.document;e.on("beforeinput",((n,i)=>{if(!this.isEnabled)return;const{data:s,targetRanges:l,inputType:d,domEvent:u}=i;if(!Bw.includes(d))return;this.focusObserver.flush();const m=new kt(e,"insertText");e.fire(m,new hs(t,u,{text:s,selection:t.createSelection(l)})),m.stop.called&&n.stop()})),e.on("compositionend",((n,{data:i,domEvent:s})=>{this.isEnabled&&!N.isAndroid&&i&&e.fire("insertText",new hs(t,s,{text:i,selection:e.selection}))}),{priority:"lowest"})}observe(){}stopObserving(){}}class Iw extends ft{static get pluginName(){return"Input"}init(){const t=this.editor,e=t.model,n=t.editing.view,i=e.document.selection;n.addObserver(Xy);const s=new Jy(t,t.config.get("typing.undoStep")||20);t.commands.add("insertText",s),t.commands.add("input",s),this.listenTo(n.document,"insertText",((l,d)=>{n.document.isComposing||d.preventDefault();const{text:u,selection:m,resultRange:g}=d,k=Array.from(m.getRanges()).map((E=>t.editing.mapper.toModelRange(E)));let _=u;if(N.isAndroid){const E=Array.from(k[0].getItems()).reduce(((z,L)=>z+(L.is("$textProxy")?L.data:"")),"");E&&(E.length<=_.length?_.startsWith(E)&&(_=_.substring(E.length),k[0].start=k[0].start.getShiftedBy(E.length)):E.startsWith(_)&&(k[0].start=k[0].start.getShiftedBy(_.length),_=""))}const v={text:_,selection:e.createSelection(k)};g&&(v.resultRange=t.editing.mapper.toModelRange(g)),t.execute("insertText",v),n.scrollToTheSelection()})),N.isAndroid?this.listenTo(n.document,"keydown",((l,d)=>{!i.isCollapsed&&d.keyCode==229&&n.document.isComposing&&Nw(e,s)})):this.listenTo(n.document,"compositionstart",(()=>{i.isCollapsed||Nw(e,s)}))}}function Nw(o,t){if(!t.isEnabled)return;const e=t.buffer;e.lock(),o.enqueueChange(e.batch,(()=>{o.deleteContent(o.document.selection)})),e.unlock()}class zw extends Ht{direction;_buffer;constructor(t,e){super(t),this.direction=e,this._buffer=new Mw(t.model,t.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(t={}){const e=this.editor.model,n=e.document;e.enqueueChange(this._buffer.batch,(i=>{this._buffer.lock();const s=i.createSelection(t.selection||n.selection);if(!e.canEditAt(s))return;const l=t.sequence||1,d=s.isCollapsed;if(s.isCollapsed&&e.modifySelection(s,{direction:this.direction,unit:t.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(l))return void this._replaceEntireContentWithParagraph(i);if(this._shouldReplaceFirstBlockWithParagraph(s,l))return void this.editor.execute("paragraph",{selection:s});if(s.isCollapsed)return;let u=0;s.getFirstRange().getMinimalFlatRanges().forEach((m=>{u+=hc(m.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))})),e.deleteContent(s,{doNotResetEntireContent:d,direction:this.direction}),this._buffer.input(u),i.setSelection(s),this._buffer.unlock()}))}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const e=this.editor.model,n=e.document.selection,i=e.schema.getLimitElement(n);if(!(n.isCollapsed&&n.containsEntireContent(i))||!e.schema.checkChild(i,"paragraph"))return!1;const s=i.getChild(0);return!s||!s.is("element","paragraph")}_replaceEntireContentWithParagraph(t){const e=this.editor.model,n=e.document.selection,i=e.schema.getLimitElement(n),s=t.createElement("paragraph");t.remove(t.createRangeIn(i)),t.insert(s,i),t.setSelection(s,0)}_shouldReplaceFirstBlockWithParagraph(t,e){const n=this.editor.model;if(e>1||this.direction!="backward"||!t.isCollapsed)return!1;const i=t.getFirstPosition(),s=n.schema.getLimitElement(i),l=s.getChild(0);return i.parent==l&&!!t.containsEntireContent(l)&&!!n.schema.checkChild(s,"paragraph")&&l.name!="paragraph"}}const Ow="word",Oa="selection",Nd="backward",hm="forward",Lw={deleteContent:{unit:Oa,direction:Nd},deleteContentBackward:{unit:"codePoint",direction:Nd},deleteWordBackward:{unit:Ow,direction:Nd},deleteHardLineBackward:{unit:Oa,direction:Nd},deleteSoftLineBackward:{unit:Oa,direction:Nd},deleteContentForward:{unit:"character",direction:hm},deleteWordForward:{unit:Ow,direction:hm},deleteHardLineForward:{unit:Oa,direction:hm},deleteSoftLineForward:{unit:Oa,direction:hm}};class t1 extends Ri{constructor(t){super(t);const e=t.document;let n=0;e.on("keydown",(()=>{n++})),e.on("keyup",(()=>{n=0})),e.on("beforeinput",((i,s)=>{if(!this.isEnabled)return;const{targetRanges:l,domEvent:d,inputType:u}=s,m=Lw[u];if(!m)return;const g={direction:m.direction,unit:m.unit,sequence:n};g.unit==Oa&&(g.selectionToRemove=t.createSelection(l[0])),u==="deleteContentBackward"&&(N.isAndroid&&(g.sequence=1),(function(_){if(_.length!=1||_[0].isCollapsed)return!1;const v=_[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let E=0;for(const{nextPosition:z,item:L}of v){if(z.parent.is("$text")){const F=z.parent.data,G=z.offset;if(sr(F,G)||Nu(F,G)||bf(F,G))continue;E++}else(L.is("containerElement")||L.is("emptyElement"))&&E++;if(E>1)return!0}return!1})(l)&&(g.unit=Oa,g.selectionToRemove=t.createSelection(l)));const k=new Do(e,"delete",l[0]);e.fire(k,new hs(t,d,g)),k.stop.called&&i.stop()})),N.isBlink&&(function(i){const s=i.view,l=s.document;let d=null,u=!1;function m(k){return k==$t.backspace||k==$t.delete}function g(k){return k==$t.backspace?Nd:hm}l.on("keydown",((k,{keyCode:_})=>{d=_,u=!1})),l.on("keyup",((k,{keyCode:_,domEvent:v})=>{const E=l.selection,z=i.isEnabled&&_==d&&m(_)&&!E.isCollapsed&&!u;if(d=null,z){const L=E.getFirstRange(),F=new Do(l,"delete",L),G={unit:Oa,direction:g(_),selectionToRemove:E};l.fire(F,new hs(s,v,G))}})),l.on("beforeinput",((k,{inputType:_})=>{const v=Lw[_];m(d)&&v&&v.direction==g(d)&&(u=!0)}),{priority:"high"}),l.on("beforeinput",((k,{inputType:_,data:v})=>{d==$t.delete&&_=="insertText"&&v==""&&k.stop()}),{priority:"high"})})(this)}observe(){}stopObserving(){}}class vs extends ft{_undoOnBackspace;static get pluginName(){return"Delete"}init(){const t=this.editor,e=t.editing.view,n=e.document,i=t.model.document;e.addObserver(t1),this._undoOnBackspace=!1;const s=new zw(t,"forward");t.commands.add("deleteForward",s),t.commands.add("forwardDelete",s),t.commands.add("delete",new zw(t,"backward")),this.listenTo(n,"delete",((l,d)=>{n.isComposing||d.preventDefault();const{direction:u,sequence:m,selectionToRemove:g,unit:k}=d,_=u==="forward"?"deleteForward":"delete",v={sequence:m};if(k=="selection"){const E=Array.from(g.getRanges()).map((z=>t.editing.mapper.toModelRange(z)));v.selection=t.model.createSelection(E)}else v.unit=k;t.execute(_,v),e.scrollToTheSelection()}),{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",((l,d)=>{this._undoOnBackspace&&d.direction=="backward"&&d.sequence==1&&d.unit=="codePoint"&&(this._undoOnBackspace=!1,t.execute("undo"),d.preventDefault(),l.stop())}),{context:"$capture"}),this.listenTo(i,"change",(()=>{this._undoOnBackspace=!1})))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class e1 extends ft{static get requires(){return[Iw,vs]}static get pluginName(){return"Typing"}}function Rw(o,t){let e=o.start;return{text:Array.from(o.getWalker({ignoreElementEnd:!1})).reduce(((n,{item:i})=>i.is("$text")||i.is("$textProxy")?n+i.data:(e=t.createPositionAfter(i),"")),""),range:t.createRange(e,o.end)}}class jw extends ge(){model;testCallback;_hasMatch;constructor(t,e){super(),this.model=t,this.testCallback=e,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",(()=>{this.isEnabled?this._startListening():(this.stopListening(t.document.selection),this.stopListening(t.document))})),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",((e,{directChange:n})=>{n&&(t.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))})),this.listenTo(t,"change:data",((e,n)=>{!n.isUndo&&n.isLocal&&this._evaluateTextBeforeSelection("data",{batch:n})}))}_evaluateTextBeforeSelection(t,e={}){const n=this.model,i=n.document.selection,s=n.createRange(n.createPositionAt(i.focus.parent,0),i.focus),{text:l,range:d}=Rw(s,n),u=this.testCallback(l);if(!u&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!u,u){const m=Object.assign(e,{text:l,range:d});typeof u=="object"&&Object.assign(m,u),this.fire(`matched:${t}`,m)}}}class Pw extends ft{attributes;_overrideUid;_isNextGravityRestorationSkipped=!1;static get pluginName(){return"TwoStepCaretMovement"}constructor(t){super(t),this.attributes=new Set,this._overrideUid=null}init(){const t=this.editor,e=t.model,n=t.editing.view,i=t.locale,s=e.document.selection;this.listenTo(n.document,"arrowKey",((l,d)=>{if(!s.isCollapsed||d.shiftKey||d.altKey||d.ctrlKey)return;const u=d.keyCode==$t.arrowright,m=d.keyCode==$t.arrowleft;if(!u&&!m)return;const g=i.contentLanguageDirection;let k=!1;k=g==="ltr"&&u||g==="rtl"&&m?this._handleForwardMovement(d):this._handleBackwardMovement(d),k===!0&&l.stop()}),{context:"$text",priority:"highest"}),this.listenTo(s,"change:range",((l,d)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!d.directChange&&oo(s.getFirstPosition(),this.attributes)||this._restoreGravity())})),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(t){this.attributes.add(t)}_handleForwardMovement(t){const e=this.attributes,n=this.editor.model,i=n.document.selection,s=i.getFirstPosition();return!this._isGravityOverridden&&(!s.isAtStart||!ys(i,e))&&!!oo(s,e)&&(fm(t),ys(i,e)&&oo(s,e,!0)?mm(n,e):this._overrideGravity(),!0)}_handleBackwardMovement(t){const e=this.attributes,n=this.editor.model,i=n.document.selection,s=i.getFirstPosition();return this._isGravityOverridden?(fm(t),this._restoreGravity(),oo(s,e,!0)?mm(n,e):Kg(n,e,s),!0):s.isAtStart?!!ys(i,e)&&(fm(t),Kg(n,e,s),!0):!ys(i,e)&&oo(s,e,!0)?(fm(t),Kg(n,e,s),!0):!!Fw(s,e)&&(s.isAtEnd&&!ys(i,e)&&oo(s,e)?(fm(t),Kg(n,e,s),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const t=this.editor,e=t.model,n=e.document.selection,i=t.editing.view.document;t.editing.view.addObserver(kd);let s=!1;this.listenTo(i,"mousedown",(()=>{s=!0})),this.listenTo(i,"selectionChange",(()=>{const l=this.attributes;if(!s||(s=!1,!n.isCollapsed)||!ys(n,l))return;const d=n.getFirstPosition();oo(d,l)&&(d.isAtStart||oo(d,l,!0)?mm(e,l):this._isGravityOverridden||this._overrideGravity())}))}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,e=t.document.selection,n=this.attributes;this.listenTo(t,"insertContent",(()=>{const i=e.getFirstPosition();ys(e,n)&&oo(i,n)&&mm(t,n)}),{priority:"low"})}_handleDeleteContentAfterNode(){const t=this.editor,e=t.model,n=e.document.selection,i=t.editing.view;let s=!1,l=!1;this.listenTo(i.document,"delete",((d,u)=>{s=u.direction==="backward"}),{priority:"high"}),this.listenTo(e,"deleteContent",(()=>{if(!s)return;const d=n.getFirstPosition();l=ys(n,this.attributes)&&!Fw(d,this.attributes)}),{priority:"high"}),this.listenTo(e,"deleteContent",(()=>{s&&(s=!1,l||t.model.enqueueChange((()=>{const d=n.getFirstPosition();ys(n,this.attributes)&&oo(d,this.attributes)&&(d.isAtStart||oo(d,this.attributes,!0)?mm(e,this.attributes):this._isGravityOverridden||this._overrideGravity())})))}),{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change((t=>t.overrideSelectionGravity()))}_restoreGravity(){this.editor.model.change((t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null}))}}function ys(o,t){for(const e of t)if(o.hasAttribute(e))return!0;return!1}function Kg(o,t,e){const n=e.nodeBefore;o.change((i=>{if(n){const s=[],l=o.schema.isObject(n)&&o.schema.isInline(n);for(const[d,u]of n.getAttributes())!o.schema.checkAttribute("$text",d)||l&&o.schema.getAttributeProperties(d).copyFromObject===!1||s.push([d,u]);i.setSelectionAttribute(s)}else i.removeSelectionAttribute(t)}))}function mm(o,t){o.change((e=>{e.removeSelectionAttribute(t)}))}function fm(o){o.preventDefault()}function Fw(o,t){return oo(o.getShiftedBy(-1),t)}function oo(o,t,e=!1){const{nodeBefore:n,nodeAfter:i}=o;for(const s of t){const l=n?n.getAttribute(s):void 0,d=i?i.getAttribute(s):void 0;if((!e||l!==void 0&&d!==void 0)&&d!==l)return!0}return!1}const Vw={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:zd('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:zd("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:zd("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:zd('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:zd('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:zd("'"),to:[null,"‚",null,"’"]}},Uw={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},n1=["symbols","mathematical","typography","quotes"];class i1 extends ft{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(t){super(t),t.config.define("typing",{transformations:{include:n1}})}init(){const t=this.editor.model.document.selection;t.on("change:range",(()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")})),this._enableTransformationWatchers()}_enableTransformationWatchers(){const t=this.editor,e=t.model,n=t.plugins.get("Delete"),i=(function(l){const d=l.extra||[],u=l.remove||[],m=g=>!u.includes(g);return(function(g){const k=new Set;for(const _ of g)if(typeof _=="string"&&Uw[_])for(const v of Uw[_])k.add(v);else k.add(_);return Array.from(k)})(l.include.concat(d).filter(m)).filter(m).map((g=>typeof g=="string"&&Vw[g]?Vw[g]:g)).filter((g=>typeof g=="object")).map((g=>({from:o1(g.from),to:r1(g.to)})))})(t.config.get("typing.transformations")),s=new jw(t.model,(l=>{for(const d of i)if(d.from.test(l))return{normalizedTransformation:d}}));s.on("matched:data",((l,d)=>{if(!d.batch.isTyping)return;const{from:u,to:m}=d.normalizedTransformation,g=u.exec(d.text),k=m(g.slice(1)),_=d.range;let v=g.index;e.enqueueChange((E=>{for(let z=1;z<g.length;z++){const L=g[z],F=k[z-1];if(F==null){v+=L.length;continue}const G=_.start.getShiftedBy(v),X=e.createRange(G,G.getShiftedBy(L.length)),lt=s1(G);e.insertContent(E.createText(F,lt),X),v+=F.length}e.enqueueChange((()=>{n.requestUndoOnBackspace()}))}))})),s.bind("isEnabled").to(this)}}function o1(o){return typeof o=="string"?new RegExp(`(${hy(o)})$`):o}function r1(o){return typeof o=="string"?()=>[o]:o instanceof Array?()=>o:o}function s1(o){return(o.textNode?o.textNode:o.nodeAfter).getAttributes()}function zd(o){return new RegExp(`(^|\\s)(${o})([^${o}]*)(${o})$`)}function Yg(o,t,e,n){return n.createRange(Hw(o,t,e,!0,n),Hw(o,t,e,!1,n))}function Hw(o,t,e,n,i){let s=o.textNode||(n?o.nodeBefore:o.nodeAfter),l=null;for(;s&&s.getAttribute(t)==e;)l=s,s=n?s.previousSibling:s.nextSibling;return l?i.createPositionAt(l,n?"before":"after"):o}function*qw(o,t){for(const e of t)e&&o.getAttributeProperties(e[0]).copyOnEnter&&(yield e)}class a1 extends Ht{execute(){this.editor.model.change((t=>{this.enterBlock(t),this.fire("afterExecute",{writer:t})}))}enterBlock(t){const e=this.editor.model,n=e.document.selection,i=e.schema,s=n.isCollapsed,l=n.getFirstRange(),d=l.start.parent,u=l.end.parent;if(i.isLimit(d)||i.isLimit(u))return s||d!=u||e.deleteContent(n),!1;if(s){const m=qw(t.model.schema,n.getAttributes());return Gw(t,l.start),t.setSelectionAttribute(m),!0}{const m=!(l.start.isAtStart&&l.end.isAtEnd),g=d==u;if(e.deleteContent(n,{leaveUnmerged:m}),m){if(g)return Gw(t,n.focus),!0;t.setSelection(u,0)}}return!1}}function Gw(o,t){o.split(t),o.setSelection(t.parent.nextSibling,0)}const l1={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class Kw extends Ri{constructor(t){super(t);const e=this.document;let n=!1;e.on("keydown",((i,s)=>{n=s.shiftKey})),e.on("beforeinput",((i,s)=>{if(!this.isEnabled)return;let l=s.inputType;N.isSafari&&n&&l=="insertParagraph"&&(l="insertLineBreak");const d=s.domEvent,u=l1[l];if(!u)return;const m=new Do(e,"enter",s.targetRanges[0]);e.fire(m,new hs(t,d,{isSoft:u.isSoft})),m.stop.called&&i.stop()}))}observe(){}stopObserving(){}}class Qg extends ft{static get pluginName(){return"Enter"}init(){const t=this.editor,e=t.editing.view,n=e.document,i=this.editor.t;e.addObserver(Kw),t.commands.add("enter",new a1(t)),this.listenTo(n,"enter",((s,l)=>{n.isComposing||l.preventDefault(),l.isSoft||(t.execute("enter"),e.scrollToTheSelection())}),{priority:"low"}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class c1 extends Ht{execute(){const t=this.editor.model,e=t.document;t.change((n=>{(function(i,s,l){const d=l.isCollapsed,u=l.getFirstRange(),m=u.start.parent,g=u.end.parent,k=m==g;if(d){const _=qw(i.schema,l.getAttributes());Yw(i,s,u.end),s.removeSelectionAttribute(l.getAttributeKeys()),s.setSelectionAttribute(_)}else{const _=!(u.start.isAtStart&&u.end.isAtEnd);i.deleteContent(l,{leaveUnmerged:_}),k?Yw(i,s,l.focus):_&&s.setSelection(g,0)}})(t,n,e.selection),this.fire("afterExecute",{writer:n})}))}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=(function(n,i){if(i.rangeCount>1)return!1;const s=i.anchor;if(!s||!n.checkChild(s,"softBreak"))return!1;const l=i.getFirstRange(),d=l.start.parent,u=l.end.parent;return!((Fk(d,n)||Fk(u,n))&&d!==u)})(t.schema,e.selection)}}function Yw(o,t,e){const n=t.createElement("softBreak");o.insertContent(n,e),t.setSelection(n,"after")}function Fk(o,t){return!o.is("rootElement")&&(t.isLimit(o)||Fk(o.parent,t))}class d1 extends ft{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,e=t.model.schema,n=t.conversion,i=t.editing.view,s=i.document,l=this.editor.t;e.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(d,{writer:u})=>u.createEmptyElement("br")}),i.addObserver(Kw),t.commands.add("shiftEnter",new c1(t)),this.listenTo(s,"enter",((d,u)=>{s.isComposing||u.preventDefault(),u.isSoft&&(t.execute("shiftEnter"),i.scrollToTheSelection())}),{priority:"low"}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:l("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class u1 extends yt(){_stack=[];add(t,e){const n=this._stack,i=n[0];this._insertDescriptor(t);const s=n[0];i===s||Vk(i,s)||this.fire("change:top",{oldDescriptor:i,newDescriptor:s,writer:e})}remove(t,e){const n=this._stack,i=n[0];this._removeDescriptor(t);const s=n[0];i===s||Vk(i,s)||this.fire("change:top",{oldDescriptor:i,newDescriptor:s,writer:e})}_insertDescriptor(t){const e=this._stack,n=e.findIndex((s=>s.id===t.id));if(Vk(t,e[n]))return;n>-1&&e.splice(n,1);let i=0;for(;e[i]&&h1(e[i],t);)i++;e.splice(i,0,t)}_removeDescriptor(t){const e=this._stack,n=e.findIndex((i=>i.id===t));n>-1&&e.splice(n,1)}}function Vk(o,t){return o&&t&&o.priority==t.priority&&Wg(o.classes)==Wg(t.classes)}function h1(o,t){return o.priority>t.priority||!(o.priority<t.priority)&&Wg(o.classes)>Wg(t.classes)}function Wg(o){return Array.isArray(o)?o.sort().join(","):o}const m1='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',f1="ck-widget",Qw="ck-widget_selected";function rn(o){return!!o.is("element")&&!!o.getCustomProperty("widget")}function Uk(o,t,e={}){if(!o.is("containerElement"))throw new H("widget-to-widget-wrong-element-type",null,{element:o});return t.setAttribute("contenteditable","false",o),t.addClass(f1,o),t.setCustomProperty("widget",!0,o),o.getFillerOffset=k1,t.setCustomProperty("widgetLabel",[],o),e.label&&(function(n,i){n.getCustomProperty("widgetLabel").push(i)})(o,e.label),e.hasSelectionHandle&&(function(n,i){const s=i.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(l){const d=this.toDomElement(l),u=new Lo;return u.set("content",m1),u.render(),d.appendChild(u.element),d}));i.insert(i.createPositionAt(n,0),s),i.addClass(["ck-widget_with-selection-handle"],n)})(o,t),Ww(o,t),o}function g1(o,t,e){if(t.classes&&e.addClass(Yt(t.classes),o),t.attributes)for(const n in t.attributes)e.setAttribute(n,t.attributes[n],o)}function p1(o,t,e){if(t.classes&&e.removeClass(Yt(t.classes),o),t.attributes)for(const n in t.attributes)e.removeAttribute(n,o)}function Ww(o,t,e=g1,n=p1){const i=new u1;i.on("change:top",((s,l)=>{l.oldDescriptor&&n(o,l.oldDescriptor,l.writer),l.newDescriptor&&e(o,l.newDescriptor,l.writer)})),t.setCustomProperty("addHighlight",((s,l,d)=>i.add(l,d)),o),t.setCustomProperty("removeHighlight",((s,l,d)=>i.remove(l,d)),o)}function $w(o,t,e={}){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],o),t.setAttribute("role","textbox",o),t.setAttribute("tabindex","-1",o),e.label&&t.setAttribute("aria-label",e.label,o),t.setAttribute("contenteditable",o.isReadOnly?"false":"true",o),o.on("change:isReadOnly",((n,i,s)=>{t.setAttribute("contenteditable",s?"false":"true",o)})),o.on("change:isFocused",((n,i,s)=>{s?t.addClass("ck-editor__nested-editable_focused",o):t.removeClass("ck-editor__nested-editable_focused",o)})),Ww(o,t),o}function Zw(o,t){const e=o.getSelectedElement();if(e){const n=La(o);if(n)return t.createRange(t.createPositionAt(e,n))}return t.schema.findOptimalInsertionRange(o)}function k1(){return null}const xs="widget-type-around";function ec(o,t,e){return!!o&&rn(o)&&!e.isInline(t)}function La(o){return o.getAttribute(xs)}var Jw=D(8508),b1={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Jw.A,b1),Jw.A.locals;const Xw=["before","after"],w1=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,tA="ck-widget__type-around_disabled";class A1 extends ft{_currentFakeCaretModelElement=null;static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Qg,vs]}init(){const t=this.editor,e=t.editing.view;this.on("change:isEnabled",((n,i,s)=>{e.change((l=>{for(const d of e.document.roots)s?l.removeClass(tA,d):l.addClass(tA,d)})),s||t.model.change((l=>{l.removeSelectionAttribute(xs)}))})),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(t,e){const n=this.editor,i=n.editing.view,s=n.model.schema.getAttributesWithProperty(t,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(t,e),attributes:s}),i.focus(),i.scrollToTheSelection()}_listenToIfEnabled(t,e,n,i){this.listenTo(t,e,((...s)=>{this.isEnabled&&n(...s)}),i)}_insertParagraphAccordingToFakeCaretPosition(){const t=this.editor.model.document.selection,e=La(t);if(!e)return!1;const n=t.getSelectedElement();return this._insertParagraph(n,e),!0}_enableTypeAroundUIInjection(){const t=this.editor,e=t.model.schema,n=t.locale.t,i={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};t.editing.downcastDispatcher.on("insert",((s,l,d)=>{const u=d.mapper.toViewElement(l.item);u&&ec(u,l.item,e)&&((function(m,g,k){const _=m.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(v){const E=this.toDomElement(v);return(function(z,L){for(const F of Xw){const G=new si({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${F}`],title:L[F],"aria-hidden":"true"},children:[z.ownerDocument.importNode(w1,!0)]});z.appendChild(G.render())}})(E,g),(function(z){const L=new si({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});z.appendChild(L.render())})(E),E}));m.insert(m.createPositionAt(k,"end"),_)})(d.writer,i,u),u.getCustomProperty("widgetLabel").push((()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):"")))}),{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const t=this.editor,e=t.model,n=e.document.selection,i=e.schema,s=t.editing.view;function l(d){return`ck-widget_type-around_show-fake-caret_${d}`}this._listenToIfEnabled(s.document,"arrowKey",((d,u)=>{this._handleArrowKeyPress(d,u)}),{context:[rn,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",((d,u)=>{u.directChange&&t.model.change((m=>{m.removeSelectionAttribute(xs)}))})),this._listenToIfEnabled(e.document,"change:data",(()=>{const d=n.getSelectedElement();d&&ec(t.editing.mapper.toViewElement(d),d,i)||t.model.change((u=>{u.removeSelectionAttribute(xs)}))})),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",((d,u,m)=>{const g=m.writer;if(this._currentFakeCaretModelElement){const E=m.mapper.toViewElement(this._currentFakeCaretModelElement);E&&(g.removeClass(Xw.map(l),E),this._currentFakeCaretModelElement=null)}const k=u.selection.getSelectedElement();if(!k)return;const _=m.mapper.toViewElement(k);if(!ec(_,k,i))return;const v=La(u.selection);v&&(g.addClass(l(v),_),this._currentFakeCaretModelElement=k)})),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",((d,u,m)=>{m||t.model.change((g=>{g.removeSelectionAttribute(xs)}))}))}_handleArrowKeyPress(t,e){const n=this.editor,i=n.model,s=i.document.selection,l=i.schema,d=n.editing.view,u=(function(k,_){const v=Zt(k,_);return v==="down"||v==="right"})(e.keyCode,n.locale.contentLanguageDirection),m=d.document.selection.getSelectedElement();let g;ec(m,n.editing.mapper.toModelElement(m),l)?g=this._handleArrowKeyPressOnSelectedWidget(u):s.isCollapsed?g=this._handleArrowKeyPressWhenSelectionNextToAWidget(u):e.shiftKey||(g=this._handleArrowKeyPressWhenNonCollapsedSelection(u)),g&&(e.preventDefault(),t.stop())}_handleArrowKeyPressOnSelectedWidget(t){const e=this.editor.model,n=La(e.document.selection);return e.change((i=>n?n!==(t?"after":"before")?(i.removeSelectionAttribute(xs),!0):!1:(i.setSelectionAttribute(xs,t?"after":"before"),!0)))}_handleArrowKeyPressWhenSelectionNextToAWidget(t){const e=this.editor,n=e.model,i=n.schema,s=e.plugins.get("Widget"),l=s._getObjectElementNextToSelection(t);return!!ec(e.editing.mapper.toViewElement(l),l,i)&&(n.change((d=>{s._setSelectionOverElement(l),d.setSelectionAttribute(xs,t?"before":"after")})),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(t){const e=this.editor,n=e.model,i=n.schema,s=e.editing.mapper,l=n.document.selection,d=t?l.getLastPosition().nodeBefore:l.getFirstPosition().nodeAfter;return!!ec(s.toViewElement(d),d,i)&&(n.change((u=>{u.setSelection(d,"on"),u.setSelectionAttribute(xs,t?"after":"before")})),!0)}_enableInsertingParagraphsOnButtonClick(){const t=this.editor,e=t.editing.view;this._listenToIfEnabled(e.document,"mousedown",((n,i)=>{const s=i.domTarget.closest(".ck-widget__type-around__button");if(!s)return;const l=(function(m){return m.classList.contains("ck-widget__type-around__button_before")?"before":"after"})(s),d=(function(m,g){const k=m.closest(".ck-widget");return g.mapDomToView(k)})(s,e.domConverter),u=t.editing.mapper.toModelElement(d);this._insertParagraph(u,l),i.preventDefault(),n.stop()}))}_enableInsertingParagraphsOnEnterKeypress(){const t=this.editor,e=t.model.document.selection,n=t.editing.view;this._listenToIfEnabled(n.document,"enter",((i,s)=>{if(i.eventPhase!="atTarget")return;const l=e.getSelectedElement(),d=t.editing.mapper.toViewElement(l),u=t.model.schema;let m;this._insertParagraphAccordingToFakeCaretPosition()?m=!0:ec(d,l,u)&&(this._insertParagraph(l,s.isSoft?"before":"after"),m=!0),m&&(s.preventDefault(),i.stop())}),{context:rn})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",((e,n)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(n.selection=t.selection)}),{priority:"high"}),N.isAndroid?this._listenToIfEnabled(t,"keydown",((e,n)=>{n.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()})):this._listenToIfEnabled(t,"compositionstart",(()=>{this._insertParagraphAccordingToFakeCaretPosition()}),{priority:"high"})}_enableDeleteIntegration(){const t=this.editor,e=t.editing.view,n=t.model,i=n.schema;this._listenToIfEnabled(e.document,"delete",((s,l)=>{if(s.eventPhase!="atTarget")return;const d=La(n.document.selection);if(!d)return;const u=l.direction,m=n.document.selection.getSelectedElement(),g=u=="forward";if(d==="before"===g)t.execute("delete",{selection:n.createSelection(m,"on")});else{const k=i.getNearestSelectionRange(n.createPositionAt(m,d),u);if(k)if(k.isCollapsed){const _=n.createSelection(k.start);if(n.modifySelection(_,{direction:u}),_.focus.isEqual(k.start)){const v=(function(E,z){let L=z;for(const F of z.getAncestors({parentFirst:!0})){if(F.childCount>1||E.isLimit(F))break;L=F}return L})(i,k.start.parent);n.deleteContent(n.createSelection(v,"on"),{doNotAutoparagraph:!0})}else n.change((v=>{v.setSelection(k),t.execute(g?"deleteForward":"delete")}))}else n.change((_=>{_.setSelection(k),t.execute(g?"deleteForward":"delete")}))}l.preventDefault(),s.stop()}),{context:rn})}_enableInsertContentIntegration(){const t=this.editor,e=this.editor.model,n=e.document.selection;this._listenToIfEnabled(t.model,"insertContent",((i,[s,l])=>{if(l&&!l.is("documentSelection"))return;const d=La(n);return d?(i.stop(),e.change((u=>{const m=n.getSelectedElement(),g=e.createPositionAt(m,d),k=u.createSelection(g),_=e.insertContent(s,k);return u.setSelection(k),_}))):void 0}),{priority:"high"})}_enableInsertObjectIntegration(){const t=this.editor,e=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"insertObject",((n,i)=>{const[,s,l={}]=i;if(s&&!s.is("documentSelection"))return;const d=La(e);d&&(l.findOptimalPosition=d,i[3]=l)}),{priority:"high"})}_enableDeleteContentIntegration(){const t=this.editor,e=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"deleteContent",((n,[i])=>{i&&!i.is("documentSelection")||La(e)&&n.stop()}),{priority:"high"})}}function _1(o){const t=o.model;return(e,n)=>{const i=n.keyCode==$t.arrowup,s=n.keyCode==$t.arrowdown,l=n.shiftKey,d=t.document.selection;if(!i&&!s)return;const u=s;if(l&&(function(g,k){return!g.isCollapsed&&g.isBackward==k})(d,u))return;const m=(function(g,k,_){const v=g.model;if(_){const E=k.isCollapsed?k.focus:k.getLastPosition(),z=eA(v,E,"forward");if(!z)return null;const L=v.createRange(E,z),F=nA(v.schema,L,"backward");return F?v.createRange(E,F):null}{const E=k.isCollapsed?k.focus:k.getFirstPosition(),z=eA(v,E,"backward");if(!z)return null;const L=v.createRange(z,E),F=nA(v.schema,L,"forward");return F?v.createRange(F,E):null}})(o,d,u);if(m){if(m.isCollapsed&&(d.isCollapsed||l))return;(m.isCollapsed||(function(g,k,_){const v=g.model,E=g.view.domConverter;if(_){const X=v.createSelection(k.start);v.modifySelection(X),X.focus.isAtEnd||k.start.isEqual(X.focus)||(k=v.createRange(X.focus,k.end))}const z=g.mapper.toViewRange(k),L=E.viewRangeToDom(z),F=Kt.getDomRangeRects(L);let G;for(const X of F)if(G!==void 0){if(Math.round(X.top)>=G)return!1;G=Math.max(G,Math.round(X.bottom))}else G=Math.round(X.bottom);return!0})(o,m,u))&&(t.change((g=>{const k=u?m.end:m.start;if(l){const _=t.createSelection(d.anchor);_.setFocus(k),g.setSelection(_)}else g.setSelection(k)})),e.stop(),n.preventDefault(),n.stopPropagation())}}}function eA(o,t,e){const n=o.schema,i=o.createRangeIn(t.root),s=e=="forward"?"elementStart":"elementEnd";for(const{previousPosition:l,item:d,type:u}of i.getWalker({startPosition:t,direction:e})){if(n.isLimit(d)&&!n.isInline(d))return l;if(u==s&&n.isBlock(d))return null}return null}function nA(o,t,e){const n=e=="backward"?t.end:t.start;if(o.checkChild(n,"$text"))return n;for(const{nextPosition:i}of t.getWalker({direction:e}))if(o.checkChild(i,"$text"))return i;return null}var iA=D(695),C1={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(iA.A,C1),iA.A.locals;class gm extends ft{_previouslySelected=new Set;static get pluginName(){return"Widget"}static get requires(){return[A1,vs]}init(){const t=this.editor,e=t.editing.view,n=e.document,i=t.t;this.editor.editing.downcastDispatcher.on("selection",((s,l,d)=>{const u=d.writer,m=l.selection;if(m.isCollapsed)return;const g=m.getSelectedElement();if(!g)return;const k=t.editing.mapper.toViewElement(g);var _;rn(k)&&d.consumable.consume(m,"selection")&&u.setSelection(u.createRangeOn(k),{fake:!0,label:(_=k,_.getCustomProperty("widgetLabel").reduce(((v,E)=>typeof E=="function"?v?v+". "+E():E():v?v+". "+E:E),""))})})),this.editor.editing.downcastDispatcher.on("selection",((s,l,d)=>{this._clearPreviouslySelectedWidgets(d.writer);const u=d.writer,m=u.document.selection;let g=null;for(const k of m.getRanges())for(const _ of k){const v=_.item;rn(v)&&!v1(v,g)&&(u.addClass(Qw,v),this._previouslySelected.add(v),g=v)}}),{priority:"low"}),e.addObserver(kd),this.listenTo(n,"mousedown",((...s)=>this._onMousedown(...s))),this.listenTo(n,"arrowKey",((...s)=>{this._handleSelectionChangeOnArrowKeyPress(...s)}),{context:[rn,"$text"]}),this.listenTo(n,"arrowKey",((...s)=>{this._preventDefaultOnArrowKeyPress(...s)}),{context:"$root"}),this.listenTo(n,"arrowKey",_1(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",((s,l)=>{this._handleDelete(l.direction=="forward")&&(l.preventDefault(),s.stop())}),{context:"$root"}),this.listenTo(n,"tab",((s,l)=>{s.eventPhase=="atTarget"&&(l.shiftKey||this._selectFirstNestedEditable()&&(l.preventDefault(),s.stop()))}),{context:rn,priority:"low"}),this.listenTo(n,"tab",((s,l)=>{l.shiftKey&&this._selectAncestorWidget()&&(l.preventDefault(),s.stop())}),{priority:"low"}),this.listenTo(n,"keydown",((s,l)=>{l.keystroke==$t.esc&&this._selectAncestorWidget()&&(l.preventDefault(),s.stop())}),{priority:"low"}),t.accessibility.addKeystrokeInfoGroup({id:"widget",label:i("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:i("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:i("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:i("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:i("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:i("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(t,e){const n=this.editor,i=n.editing.view,s=i.document;let l=e.target;if(e.domEvent.detail>=3)return void(this._selectBlockContent(l)&&e.preventDefault());if((function(u){let m=u;for(;m;){if(m.is("editableElement")&&!m.is("rootElement"))return!0;if(rn(m))return!1;m=m.parent}return!1})(l)||!rn(l)&&(l=l.findAncestor(rn),!l))return;N.isAndroid&&e.preventDefault(),s.isFocused||i.focus();const d=n.editing.mapper.toModelElement(l);this._setSelectionOverElement(d)}_selectBlockContent(t){const e=this.editor,n=e.model,i=e.editing.mapper,s=n.schema,l=i.findMappedViewAncestor(this.editor.editing.view.createPositionAt(t,0)),d=(function(u,m){for(const g of u.getAncestors({includeSelf:!0,parentFirst:!0})){if(m.checkChild(g,"$text"))return g;if(m.isLimit(g)&&!m.isObject(g))break}return null})(i.toModelElement(l),n.schema);return!!d&&(n.change((u=>{const m=s.isLimit(d)?null:(function(_,v){const E=new Zi({startPosition:_});for(const{item:z}of E){if(v.isLimit(z)||!z.is("element"))return null;if(v.checkChild(z,"$text"))return z}return null})(u.createPositionAfter(d),s),g=u.createPositionAt(d,0),k=m?u.createPositionAt(m,0):u.createPositionAt(d,"end");u.setSelection(u.createRange(g,k))})),!0)}_handleSelectionChangeOnArrowKeyPress(t,e){const n=e.keyCode,i=this.editor.model,s=i.schema,l=i.document.selection,d=l.getSelectedElement(),u=Zt(n,this.editor.locale.contentLanguageDirection),m=u=="down"||u=="right",g=u=="up"||u=="down";if(d&&s.isObject(d)){const _=m?l.getLastPosition():l.getFirstPosition(),v=s.getNearestSelectionRange(_,m?"forward":"backward");return void(v&&(i.change((E=>{E.setSelection(v)})),e.preventDefault(),t.stop()))}if(!l.isCollapsed&&!e.shiftKey){const _=l.getFirstPosition(),v=l.getLastPosition(),E=_.nodeAfter,z=v.nodeBefore;return void((E&&s.isObject(E)||z&&s.isObject(z))&&(i.change((L=>{L.setSelection(m?v:_)})),e.preventDefault(),t.stop()))}if(!l.isCollapsed)return;const k=this._getObjectElementNextToSelection(m);if(k&&s.isObject(k)){if(s.isInline(k)&&g)return;this._setSelectionOverElement(k),e.preventDefault(),t.stop()}}_preventDefaultOnArrowKeyPress(t,e){const n=this.editor.model,i=n.schema,s=n.document.selection.getSelectedElement();s&&i.isObject(s)&&(e.preventDefault(),t.stop())}_handleDelete(t){const e=this.editor.model.document.selection;if(!this.editor.model.canEditAt(e)||!e.isCollapsed)return;const n=this._getObjectElementNextToSelection(t);return n?(this.editor.model.change((i=>{let s=e.anchor.parent;for(;s.isEmpty;){const l=s;s=l.parent,i.remove(l)}this._setSelectionOverElement(n)})),!0):void 0}_setSelectionOverElement(t){this.editor.model.change((e=>{e.setSelection(e.createRangeOn(t))}))}_getObjectElementNextToSelection(t){const e=this.editor.model,n=e.schema,i=e.document.selection,s=e.createSelection(i);if(e.modifySelection(s,{direction:t?"forward":"backward"}),s.isEqual(i))return null;const l=t?s.focus.nodeBefore:s.focus.nodeAfter;return l&&n.isObject(l)?l:null}_clearPreviouslySelectedWidgets(t){for(const e of this._previouslySelected)t.removeClass(Qw,e);this._previouslySelected.clear()}_selectFirstNestedEditable(){const t=this.editor,e=this.editor.editing.view.document;for(const n of e.selection.getFirstRange().getItems())if(n.is("editableElement")){const i=t.editing.mapper.toModelElement(n);if(!i)continue;const s=t.model.createPositionAt(i,0),l=t.model.schema.getNearestSelectionRange(s,"forward");return t.model.change((d=>{d.setSelection(l)})),!0}return!1}_selectAncestorWidget(){const t=this.editor,e=t.editing.mapper,n=t.editing.view.document.selection.getFirstPosition().parent,i=(n.is("$text")?n.parent:n).findAncestor(rn);if(!i)return!1;const s=e.toModelElement(i);return!!s&&(t.model.change((l=>{l.setSelection(s,"on")})),!0)}}function v1(o,t){return!!t&&Array.from(o.getAncestors()).includes(t)}class $g extends ft{_toolbarDefinitions=new Map;_balloon;static get requires(){return[Ug]}static get pluginName(){return"WidgetToolbarRepository"}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const e=t.plugins.get("BalloonToolbar");this.listenTo(e,"show",(n=>{(function(i){const s=i.getSelectedElement();return!(!s||!rn(s))})(t.editing.view.document.selection)&&n.stop()}),{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",(()=>{this._updateToolbarsVisibility()})),this.listenTo(t.ui,"update",(()=>{this._updateToolbarsVisibility()})),this.listenTo(t.ui.focusTracker,"change:isFocused",(()=>{this._updateToolbarsVisibility()}),{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{ariaLabel:e,items:n,getRelatedElement:i,balloonClassName:s="ck-toolbar-container"}){if(!n.length)return void Bt("widget-toolbar-no-items",{toolbarId:t});const l=this.editor,d=l.t,u=new a(l.locale);if(u.ariaLabel=e||d("Widget toolbar"),this._toolbarDefinitions.has(t))throw new H("widget-toolbar-duplicated",this,{toolbarId:t});const m={view:u,getRelatedElement:i,balloonClassName:s,itemsConfig:n,initialized:!1};l.ui.addToolbar(u,{isContextual:!0,beforeFocus:()=>{const g=i(l.editing.view.document.selection);g&&this._showToolbar(m,g)},afterBlur:()=>{this._hideToolbar(m)}}),this._toolbarDefinitions.set(t,m)}_updateToolbarsVisibility(){let t=0,e=null,n=null;for(const i of this._toolbarDefinitions.values()){const s=i.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&s)if(this.editor.ui.focusTracker.isFocused){const l=s.getAncestors().length;l>t&&(t=l,e=s,n=i)}else this._isToolbarVisible(i)&&this._hideToolbar(i);else this._isToolbarInBalloon(i)&&this._hideToolbar(i)}n&&this._showToolbar(n,e)}_hideToolbar(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(t,e){this._isToolbarVisible(t)?oA(this.editor,e):this._isToolbarInBalloon(t)||(t.initialized||(t.initialized=!0,t.view.fillFromConfig(t.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:t.view,position:rA(this.editor,e),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",(()=>{for(const n of this._toolbarDefinitions.values())if(this._isToolbarVisible(n)){const i=n.getRelatedElement(this.editor.editing.view.document.selection);oA(this.editor,i)}})))}_isToolbarVisible(t){return this._balloon.visibleView===t.view}_isToolbarInBalloon(t){return this._balloon.hasView(t.view)}}function oA(o,t){const e=o.plugins.get("ContextualBalloon"),n=rA(o,t);e.updatePosition(n)}function rA(o,t){const e=o.editing.view,n=Hi.defaultPositions;return{target:e.domConverter.mapViewToDom(t),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}var sA=D(4095),y1={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(sA.A,y1),sA.A.locals;const Hk=Zr("px");class x1 extends It{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",t.if("isVisible","ck-hidden",(e=>!e))],style:{left:t.to("left",(e=>Hk(e))),top:t.to("top",(e=>Hk(e))),width:t.to("width",(e=>Hk(e)))}}})}}class Zg extends ft{removeDropMarkerDelayed=rr((()=>this.removeDropMarker()),40);_updateDropMarkerThrottled=Sa((t=>this._updateDropMarker(t)),40);_reconvertMarkerThrottled=Sa((()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")}),0);_dropTargetLineView=new x1;_domEmitter=new(Vn());_scrollables=new Map;static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:t}of this._scrollables.values())t.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(t,e,n,i,s,l){this.removeDropMarkerDelayed.cancel();const d=aA(this.editor,t,e,n,i,s,l);if(d)return l&&l.containsRange(d)?this.removeDropMarker():void this._updateDropMarkerThrottled(d)}getFinalDropRange(t,e,n,i,s,l){const d=aA(this.editor,t,e,n,i,s,l);return this.removeDropMarker(),d}removeDropMarker(){const t=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,t.markers.has("drop-target")&&t.change((e=>{e.removeMarker("drop-target")}))}_setupDropMarker(){const t=this.editor;t.ui.view.body.add(this._dropTargetLineView),t.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),t.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(e,{writer:n})=>{if(t.model.schema.checkChild(e.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(n);e.markerRange.isCollapsed?this._updateDropTargetLine(e.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(t){const e=this.editor,n=e.model.markers;e.model.change((i=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(t)||i.updateMarker("drop-target",{range:t}):i.addMarker("drop-target",{range:t,usingOperation:!1,affectsData:!1})}))}_createDropTargetPosition(t){return t.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},(function(e){const n=this.toDomElement(e);return n.append("⁠",e.createElement("span"),"⁠"),n}))}_updateDropTargetLine(t){const e=this.editor.editing,n=t.start.nodeBefore,i=t.start.nodeAfter,s=t.start.parent,l=n?e.mapper.toViewElement(n):null,d=l?e.view.domConverter.mapViewToDom(l):null,u=i?e.mapper.toViewElement(i):null,m=u?e.view.domConverter.mapViewToDom(u):null,g=e.mapper.toViewElement(s);if(!g)return;const k=e.view.domConverter.mapViewToDom(g),_=this._getScrollableRect(g),{scrollX:v,scrollY:E}=S.window,z=d?new Kt(d):null,L=m?new Kt(m):null,F=new Kt(k).excludeScrollbarsAndBorders(),G=z?z.bottom:F.top,X=L?L.top:F.bottom,lt=S.window.getComputedStyle(k),vt=G<=X?(G+X)/2:X;if(_.top<vt&&vt<_.bottom){const jt=F.left+parseFloat(lt.paddingLeft),Gt=F.right-parseFloat(lt.paddingRight),Oe=Math.max(jt+v,_.left),Cn=Math.min(Gt+v,_.right);this._dropTargetLineView.set({isVisible:!0,left:Oe,top:vt+E,width:Cn-Oe})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(t){const e=t.root.rootName;let n;if(this._scrollables.has(e))n=this._scrollables.get(e).domElement;else{n=(function(s){let l=s;do{l=l.parentElement;const d=S.window.getComputedStyle(l).overflowY;if(d=="auto"||d=="scroll")break}while(l.tagName!="BODY");return l})(this.editor.editing.view.domConverter.mapViewToDom(t)),this._domEmitter.listenTo(n,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const i=new Re(n,this._reconvertMarkerThrottled);this._scrollables.set(e,{domElement:n,resizeObserver:i})}return new Kt(n).excludeScrollbarsAndBorders()}}function aA(o,t,e,n,i,s,l){const d=o.model,u=o.editing.mapper;let m=cA(o,t);for(;m;){if(!s){if(d.schema.checkChild(m,"$text")){if(e){const g=e[0].start,k=u.toModelPosition(g);if(!l||Array.from(l.getItems()).every((_=>d.schema.checkChild(k,_)))){if(d.schema.checkChild(k,"$text"))return d.createRange(k);if(g)return Jg(o,cA(o,g.parent),n,i)}}}else if(d.schema.isInline(m))return Jg(o,m,n,i)}if(d.schema.isBlock(m))return Jg(o,m,n,i);if(d.schema.checkChild(m,"$block")){const g=Array.from(m.getChildren()).filter((v=>v.is("element")&&!E1(o,v)));let k=0,_=g.length;if(_==0)return d.createRange(d.createPositionAt(m,"end"));for(;k<_-1;){const v=Math.floor((k+_)/2);lA(o,g[v],n,i)=="before"?_=v:k=v}return Jg(o,g[k],n,i)}m=m.parent}return null}function E1(o,t){const e=o.editing.mapper,n=o.editing.view.domConverter,i=e.toViewElement(t);if(!i)return!0;const s=n.mapViewToDom(i);return S.window.getComputedStyle(s).float!="none"}function Jg(o,t,e,n){const i=o.model;return i.createRange(i.createPositionAt(t,lA(o,t,e,n)))}function lA(o,t,e,n){const i=o.editing.mapper,s=o.editing.view.domConverter,l=i.toViewElement(t),d=s.mapViewToDom(l),u=new Kt(d);return o.model.schema.isInline(t)?e<(u.left+u.right)/2?"before":"after":n<(u.top+u.bottom)/2?"before":"after"}function cA(o,t){const e=o.editing.mapper,n=o.editing.view,i=e.toModelElement(t);if(i)return i;const s=n.createPositionBefore(t),l=e.findMappedViewAncestor(s);return e.toModelElement(l)}class D1 extends ft{_isBlockDragging=!1;_domEmitter=new(Vn());static get pluginName(){return"DragDropBlockToolbar"}init(){const t=this.editor;if(this.listenTo(t,"change:isReadOnly",((e,n,i)=>{i?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")})),N.isAndroid&&this.forceDisabled("noAndroidSupport"),t.plugins.has("BlockToolbar")){const e=t.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(e,"dragstart",((n,i)=>this._handleBlockDragStart(i))),this._domEmitter.listenTo(S.document,"dragover",((n,i)=>this._handleBlockDragging(i))),this._domEmitter.listenTo(S.document,"drop",((n,i)=>this._handleBlockDragging(i))),this._domEmitter.listenTo(S.document,"dragend",(()=>this._handleBlockDragEnd()),{useCapture:!0}),this.isEnabled&&e.setAttribute("draggable","true"),this.on("change:isEnabled",((n,i,s)=>{e.setAttribute("draggable",s?"true":"false")}))}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(t){if(!this.isEnabled)return;const e=this.editor.model,n=e.document.selection,i=this.editor.editing.view,s=Array.from(n.getSelectedBlocks()),l=e.createRange(e.createPositionBefore(s[0]),e.createPositionAfter(s[s.length-1]));e.change((d=>d.setSelection(l))),this._isBlockDragging=!0,i.focus(),i.getObserver(dm).onDomEvent(t)}_handleBlockDragging(t){if(!this.isEnabled||!this._isBlockDragging)return;const e=t.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),n=t.clientY,i=document.elementFromPoint(e,n),s=this.editor.editing.view;i&&i.closest(".ck-editor__editable")&&s.getObserver(dm).onDomEvent({...t,type:t.type,dataTransfer:t.dataTransfer,target:i,clientX:e,clientY:n,preventDefault:()=>t.preventDefault(),stopPropagation:()=>t.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}var dA=D(7793),S1={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(dA.A,S1),dA.A.locals;class T1 extends ft{_draggedRange;_draggingUid;_draggableElement;_clearDraggableAttributesDelayed=rr((()=>this._clearDraggableAttributes()),40);_blockMode=!1;_domEmitter=new(Vn());_previewContainer;static get pluginName(){return"DragDrop"}static get requires(){return[io,gm,Zg,D1]}init(){const t=this.editor,e=t.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,e.addObserver(dm),e.addObserver(kd),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(t,"change:isReadOnly",((n,i,s)=>{s?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})),this.on("change:isEnabled",((n,i,s)=>{s||this._finalizeDragging(!1)})),N.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const t=this.editor,e=t.model,n=t.editing.view,i=n.document,s=t.plugins.get(Zg);this.listenTo(i,"dragstart",((l,d)=>{if(d.target&&d.target.is("editableElement")||(this._prepareDraggedRange(d.target),!this._draggedRange))return void d.preventDefault();this._draggingUid=Mt(),d.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",d.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const u=e.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(d.dataTransfer,u,"dragstart");const{dataTransfer:m,domTarget:g,domEvent:k}=d,{clientX:_}=k;this._updatePreview({dataTransfer:m,domTarget:g,clientX:_}),d.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")}),{priority:"low"}),this.listenTo(i,"dragend",((l,d)=>{this._finalizeDragging(!d.dataTransfer.isCanceled&&d.dataTransfer.dropEffect=="move")}),{priority:"low"}),this._domEmitter.listenTo(S.document,"dragend",(()=>{this._blockMode=!1}),{useCapture:!0}),this.listenTo(i,"dragenter",(()=>{this.isEnabled&&n.focus()})),this.listenTo(i,"dragleave",(()=>{s.removeDropMarkerDelayed()})),this.listenTo(i,"dragging",((l,d)=>{if(!this.isEnabled)return void(d.dataTransfer.dropEffect="none");const{clientX:u,clientY:m}=d.domEvent;s.updateDropMarker(d.target,d.targetRanges,u,m,this._blockMode,this._draggedRange),this._draggedRange||(d.dataTransfer.dropEffect="copy"),N.isGecko||(d.dataTransfer.effectAllowed=="copy"?d.dataTransfer.dropEffect="copy":["all","copyMove"].includes(d.dataTransfer.effectAllowed)&&(d.dataTransfer.dropEffect="move")),l.stop()}),{priority:"low"})}_setupClipboardInputIntegration(){const t=this.editor,e=t.editing.view.document,n=t.plugins.get(Zg);this.listenTo(e,"clipboardInput",((i,s)=>{if(s.method!="drop")return;const{clientX:l,clientY:d}=s.domEvent,u=n.getFinalDropRange(s.target,s.targetRanges,l,d,this._blockMode,this._draggedRange);if(!u)return this._finalizeDragging(!1),void i.stop();if(this._draggedRange&&this._draggingUid!=s.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),uA(s.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(u,!0))return this._finalizeDragging(!1),void i.stop();s.targetRanges=[t.editing.mapper.toViewRange(u)]}),{priority:"high"})}_setupContentInsertionIntegration(){const t=this.editor.plugins.get(io);t.on("contentInsertion",((e,n)=>{if(!this.isEnabled||n.method!=="drop")return;const i=n.targetRanges.map((s=>this.editor.editing.mapper.toModelRange(s)));this.editor.model.change((s=>s.setSelection(i)))}),{priority:"high"}),t.on("contentInsertion",((e,n)=>{if(!this.isEnabled||n.method!=="drop")return;const i=uA(n.dataTransfer)=="move",s=!n.resultRange||!n.resultRange.isCollapsed;this._finalizeDragging(s&&i)}),{priority:"lowest"})}_setupDraggableAttributeHandling(){const t=this.editor,e=t.editing.view,n=e.document;this.listenTo(n,"mousedown",((i,s)=>{if(N.isAndroid||!s)return;this._clearDraggableAttributesDelayed.cancel();let l=hA(s.target);if(N.isBlink&&!t.isReadOnly&&!l&&!n.selection.isCollapsed){const d=n.selection.getSelectedElement();d&&rn(d)||(l=n.selection.editableElement)}l&&(e.change((d=>{d.setAttribute("draggable","true",l)})),this._draggableElement=t.editing.mapper.toModelElement(l))})),this.listenTo(n,"mouseup",(()=>{N.isAndroid||this._clearDraggableAttributesDelayed()}))}_clearDraggableAttributes(){const t=this.editor.editing;t.view.change((e=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&e.removeAttribute("draggable",t.mapper.toViewElement(this._draggableElement)),this._draggableElement=null}))}_finalizeDragging(t){const e=this.editor,n=e.model;e.plugins.get(Zg).removeDropMarker(),this._clearDraggableAttributes(),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(t&&this.isEnabled&&n.change((i=>{const s=n.createSelection(this._draggedRange);n.deleteContent(s,{doNotAutoparagraph:!0});const l=s.getFirstPosition().parent;l.isEmpty&&!n.schema.checkChild(l,"$text")&&n.schema.checkChild(l,"paragraph")&&i.insertElement("paragraph",l,0)})),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(t){const e=this.editor,n=e.model,i=n.document.selection,s=t?hA(t):null;if(s){const m=e.editing.mapper.toModelElement(s);this._draggedRange=Gn.fromRange(n.createRangeOn(m)),this._blockMode=n.schema.isBlock(m),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(i.isCollapsed&&!i.getFirstPosition().parent.isEmpty)return;const l=Array.from(i.getSelectedBlocks()),d=i.getFirstRange();if(l.length==0)return void(this._draggedRange=Gn.fromRange(d));const u=mA(n,l);if(l.length>1)this._draggedRange=Gn.fromRange(u),this._blockMode=!0;else if(l.length==1){const m=d.start.isTouching(u.start)&&d.end.isTouching(u.end);this._draggedRange=Gn.fromRange(m?u:d),this._blockMode=m}n.change((m=>m.setSelection(this._draggedRange.toRange())))}_updatePreview({dataTransfer:t,domTarget:e,clientX:n}){const i=this.editor.editing.view,s=i.document.selection.editableElement,l=i.domConverter.mapViewToDom(s),d=S.window.getComputedStyle(l);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=ki(S.document,"div",{style:"position: fixed; left: -999999px;"}),S.document.body.appendChild(this._previewContainer));const u=new Kt(l);if(l.contains(e))return;const m=parseFloat(d.paddingLeft),g=ki(S.document,"div");g.className="ck ck-content",g.style.width=d.width,g.style.paddingLeft=`${u.left-n+m}px`,N.isiOS&&(g.style.backgroundColor="white"),g.innerHTML=t.getData("text/html"),t.setDragImage(g,0,0),this._previewContainer.appendChild(g)}}function uA(o){return N.isGecko?o.dropEffect:["all","copyMove"].includes(o.effectAllowed)?"move":"copy"}function hA(o){if(o.is("editableElement"))return null;if(o.hasClass("ck-widget__selection-handle"))return o.findAncestor(rn);if(rn(o))return o;const t=o.findAncestor((e=>rn(e)||e.is("editableElement")));return rn(t)?t:null}function mA(o,t){const e=t[0],n=t[t.length-1],i=e.getCommonAncestor(n),s=o.createPositionBefore(e),l=o.createPositionAfter(n);if(i&&i.is("element")&&!o.schema.isLimit(i)){const d=o.createRangeOn(i),u=s.isTouching(d.start),m=l.isTouching(d.end);if(u&&m)return mA(o,[i])}return o.createRange(s,l)}class M1 extends ft{static get pluginName(){return"PastePlainText"}static get requires(){return[io]}init(){const t=this.editor,e=t.model,n=t.editing.view,i=n.document,s=e.document.selection;let l=!1;n.addObserver(dm),this.listenTo(i,"keydown",((d,u)=>{l=u.shiftKey})),t.plugins.get(io).on("contentInsertion",((d,u)=>{(l||(function(m,g){if(m.childCount>1)return!1;const k=m.getChild(0);return g.isObject(k)?!1:Array.from(k.getAttributeKeys()).length==0})(u.content,e.schema))&&e.change((m=>{const g=Array.from(s.getAttributes()).filter((([_])=>e.schema.getAttributeProperties(_).isFormatting));s.isCollapsed||e.deleteContent(s,{doNotAutoparagraph:!0}),g.push(...s.getAttributes());const k=m.createRangeIn(u.content);for(const _ of k.getItems())_.is("$textProxy")&&m.setAttributes(g,_)}))}))}}class fA extends ft{static get pluginName(){return"Clipboard"}static get requires(){return[um,io,T1,M1]}init(){const t=this.editor,e=this.editor.t;t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Copy selected content"),keystroke:"CTRL+C"},{label:e("Paste content"),keystroke:"CTRL+V"},{label:e("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class B1 extends Ht{constructor(t){super(t),this.affectsData=!1}execute(){const t=this.editor.model,e=t.document.selection;let n=t.schema.getLimitElement(e);if(e.containsEntireContent(n)||!gA(t.schema,n))do if(n=n.parent,!n)return;while(!gA(t.schema,n));t.change((i=>{i.setSelection(n,"in")}))}}function gA(o,t){return o.isLimit(t)&&(o.checkChild(t,"$text")||o.checkChild(t,"paragraph"))}const I1=en("Ctrl+A");class N1 extends ft{static get pluginName(){return"SelectAllEditing"}init(){const t=this.editor,e=t.t,n=t.editing.view.document;t.commands.add("selectAll",new B1(t)),this.listenTo(n,"keydown",((i,s)=>{Xr(s)===I1&&(t.execute("selectAll"),s.preventDefault())})),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Select all"),keystroke:"CTRL+A"}]})}}class z1 extends ft{static get pluginName(){return"SelectAllUI"}init(){const t=this.editor;t.ui.componentFactory.add("selectAll",(()=>{const e=this._createButton(ee);return e.set({tooltip:!0}),e})),t.ui.componentFactory.add("menuBar:selectAll",(()=>this._createButton(Ze)))}_createButton(t){const e=this.editor,n=e.locale,i=e.commands.get("selectAll"),s=new t(e.locale),l=n.t;return s.set({label:l("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),s.bind("isEnabled").to(i,"isEnabled"),this.listenTo(s,"execute",(()=>{e.execute("selectAll"),e.editing.view.focus()})),s}}class O1 extends ft{static get requires(){return[N1,z1]}static get pluginName(){return"SelectAll"}}class pA extends Ht{_stack=[];_createdBatches=new WeakSet;constructor(t){super(t),this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(t.data,"set",((e,n)=>{n[1]={...n[1]};const i=n[1];i.batchType||(i.batchType={isUndoable:!1})}),{priority:"high"}),this.listenTo(t.data,"set",((e,n)=>{n[1].batchType.isUndoable||this.clearStack()}))}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(t){const e=this.editor.model.document.selection,n={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,e,n){const i=this.editor.model,s=i.document,l=[],d=t.map((m=>m.getTransformedByOperations(n))),u=d.flat();for(const m of d){const g=m.filter((k=>k.root!=s.graveyard)).filter((k=>!R1(k,u)));g.length&&(L1(g),l.push(g[0]))}l.length&&i.change((m=>{m.setSelection(l,{backward:e})}))}_undo(t,e){const n=this.editor.model,i=n.document;this._createdBatches.add(e);const s=t.operations.slice().filter((l=>l.isDocumentOperation));s.reverse();for(const l of s){const d=l.baseVersion+1,u=Array.from(i.history.getOperations(d)),m=dg([l.getReversed()],u,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let g of m){const k=g.affectedSelectable;k&&!n.canEditAt(k)&&(g=new qe(g.baseVersion)),e.addOperation(g),n.applyOperation(g),i.history.setOperationAsUndone(l,g)}}}}function L1(o){o.sort(((t,e)=>t.start.isBefore(e.start)?-1:1));for(let t=1;t<o.length;t++){const e=o[t-1].getJoined(o[t],!0);e&&(t--,o.splice(t,2,e))}}function R1(o,t){return t.some((e=>e!==o&&e.containsRange(o,!0)))}class j1 extends pA{execute(t=null){const e=t?this._stack.findIndex((s=>s.batch==t)):this._stack.length-1,n=this._stack.splice(e,1)[0],i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,(()=>{this._undo(n.batch,i);const s=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,s)})),this.fire("revert",n.batch,i),this.refresh()}}class P1 extends pA{execute(){const t=this._stack.pop(),e=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(e,(()=>{const n=t.batch.operations[t.batch.operations.length-1].baseVersion+1,i=this.editor.model.document.history.getOperations(n);this._restoreSelection(t.selection.ranges,t.selection.isBackward,i),this._undo(t.batch,e)})),this.refresh()}}class F1 extends ft{_undoCommand;_redoCommand;_batchRegistry=new WeakSet;static get pluginName(){return"UndoEditing"}init(){const t=this.editor,e=t.t;this._undoCommand=new j1(t),this._redoCommand=new P1(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",((n,i)=>{const s=i[0];if(!s.isDocumentOperation)return;const l=s.batch,d=this._redoCommand.createdBatches.has(l),u=this._undoCommand.createdBatches.has(l);this._batchRegistry.has(l)||(this._batchRegistry.add(l),l.isUndoable&&(d?this._undoCommand.addBatch(l):u||(this._undoCommand.addBatch(l),this._redoCommand.clearStack())))}),{priority:"highest"}),this.listenTo(this._undoCommand,"revert",((n,i,s)=>{this._redoCommand.addBatch(s)})),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo"),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Undo"),keystroke:"CTRL+Z"},{label:e("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class V1 extends ft{static get pluginName(){return"UndoUI"}init(){const t=this.editor,e=t.locale,n=t.t,i=e.uiLanguageDirection=="ltr"?St.undo:St.redo,s=e.uiLanguageDirection=="ltr"?St.redo:St.undo;this._addButtonsToFactory("undo",n("Undo"),"CTRL+Z",i),this._addButtonsToFactory("redo",n("Redo"),"CTRL+Y",s)}_addButtonsToFactory(t,e,n,i){const s=this.editor;s.ui.componentFactory.add(t,(()=>{const l=this._createButton(ee,t,e,n,i);return l.set({tooltip:!0}),l})),s.ui.componentFactory.add("menuBar:"+t,(()=>this._createButton(Ze,t,e,n,i)))}_createButton(t,e,n,i,s){const l=this.editor,d=l.locale,u=l.commands.get(e),m=new t(d);return m.set({label:n,icon:s,keystroke:i}),m.bind("isEnabled").to(u,"isEnabled"),this.listenTo(m,"execute",(()=>{l.execute(e),l.editing.view.focus()})),m}}class kA extends ft{static get requires(){return[F1,V1]}static get pluginName(){return"Undo"}}class U1 extends ft{static get requires(){return[yd,fA,Qg,O1,d1,e1,kA]}static get pluginName(){return"Essentials"}}class H1 extends ge(){total;_reader;_data;constructor(){super();const t=new window.FileReader;this._reader=t,this._data=void 0,this.set("loaded",0),t.onprogress=e=>{this.loaded=e.loaded}}get error(){return this._reader.error}get data(){return this._data}read(t){const e=this._reader;return this.total=t.size,new Promise(((n,i)=>{e.onload=()=>{const s=e.result;this._data=s,n(s)},e.onerror=()=>{i("error")},e.onabort=()=>{i("aborted")},this._reader.readAsDataURL(t)}))}abort(){this._reader.abort()}}class Po extends ft{loaders=new pe;_loadersMap=new Map;_pendingAction=null;static get pluginName(){return"FileRepository"}static get requires(){return[Ag]}init(){this.loaders.on("change",(()=>this._updatePendingAction())),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((t,e)=>e?t/e*100:0))}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return Bt("filerepository-no-upload-adapter"),null;const e=new bA(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(e),this._loadersMap.set(t,e),t instanceof Promise&&e.file.then((n=>{this._loadersMap.set(n,e)})).catch((()=>{})),e.on("change:uploaded",(()=>{let n=0;for(const i of this.loaders)n+=i.uploaded;this.uploaded=n})),e.on("change:uploadTotal",(()=>{let n=0;for(const i of this.loaders)i.uploadTotal&&(n+=i.uploadTotal);this.uploadTotal=n})),e}destroyLoader(t){const e=t instanceof bA?t:this.getLoader(t);e._destroy(),this.loaders.remove(e),this._loadersMap.forEach(((n,i)=>{n===e&&this._loadersMap.delete(i)}))}_updatePendingAction(){const t=this.editor.plugins.get(Ag);if(this.loaders.length){if(!this._pendingAction){const e=this.editor.t,n=i=>`${e("Upload in progress")} ${parseInt(i)}%.`;this._pendingAction=t.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else t.remove(this._pendingAction),this._pendingAction=null}}class bA extends ge(){id;_filePromiseWrapper;_adapter;_reader;constructor(t,e){super(),this.id=Mt(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=e(this),this._reader=new H1,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((n,i)=>i?n/i*100:0)),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then((t=>this._filePromiseWrapper?t:null)):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new H("filerepository-read-wrong-status",this);return this.status="reading",this.file.then((t=>this._reader.read(t))).then((t=>{if(this.status!=="reading")throw this.status;return this.status="idle",t})).catch((t=>{throw t==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:t)}))}upload(){if(this.status!="idle")throw new H("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then((()=>this._adapter.upload())).then((t=>(this.uploadResponse=t,this.status="idle",t))).catch((t=>{throw this.status==="aborted"?"aborted":(this.status="error",t)}))}abort(){const t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?t=="reading"?this._reader.abort():t=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch((()=>{})),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){const e={};return e.promise=new Promise(((n,i)=>{e.rejecter=i,e.isFulfilled=!1,t.then((s=>{e.isFulfilled=!0,n(s)})).catch((s=>{e.isFulfilled=!0,i(s)}))})),e}}const wA="ckCsrfToken",AA="abcdefghijklmnopqrstuvwxyz0123456789";function q1(){let o=(function(n){n=n.toLowerCase();const i=document.cookie.split(";");for(const s of i){const l=s.split("=");if(decodeURIComponent(l[0].trim().toLowerCase())===n)return decodeURIComponent(l[1])}return null})(wA);var t,e;return o&&o.length==40||(o=(function(n){let i="";const s=new Uint8Array(n);window.crypto.getRandomValues(s);for(let l=0;l<s.length;l++){const d=AA.charAt(s[l]%AA.length);i+=Math.random()>.5?d.toUpperCase():d}return i})(40),t=wA,e=o,document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path=/"),o}class G1 extends ft{static get requires(){return[Po]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const t=this.editor.config.get("ckfinder.uploadUrl");t&&(this.editor.plugins.get(Po).createUploadAdapter=e=>new K1(e,t,this.editor.t))}}class K1{loader;url;t;xhr;constructor(t,e,n){this.loader=t,this.url=e,this.t=n}upload(){return this.loader.file.then((t=>new Promise(((e,n)=>{this._initRequest(),this._initListeners(e,n,t),this._sendRequest(t)}))))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const t=this.xhr=new XMLHttpRequest;t.open("POST",this.url,!0),t.responseType="json"}_initListeners(t,e,n){const i=this.xhr,s=this.loader,l=(0,this.t)("Cannot upload file:")+` ${n.name}.`;i.addEventListener("error",(()=>e(l))),i.addEventListener("abort",(()=>e())),i.addEventListener("load",(()=>{const d=i.response;if(!d||!d.uploaded)return e(d&&d.error&&d.error.message?d.error.message:l);t({default:d.url})})),i.upload&&i.upload.addEventListener("progress",(d=>{d.lengthComputable&&(s.uploadTotal=d.total,s.uploaded=d.loaded)}))}_sendRequest(t){const e=new FormData;e.append("upload",t),e.append("ckCsrfToken",q1()),this.xhr.send(e)}}function Ra(o,t,e,n){let i,s=null;typeof n=="function"?i=n:(s=o.commands.get(n),i=()=>{o.execute(n)}),o.model.document.on("change:data",((l,d)=>{if(s&&!s.isEnabled||!t.isEnabled)return;const u=Ye(o.model.document.selection.getRanges());if(!u.isCollapsed||d.isUndo||!d.isLocal)return;const m=Array.from(o.model.document.differ.getChanges()),g=m[0];if(m.length!=1||g.type!=="insert"||g.name!="$text"||g.length!=1)return;const k=g.position.parent;if(k.is("element","codeBlock")||k.is("element","listItem")&&typeof n!="function"&&!["numberedList","bulletedList","todoList"].includes(n)||s&&s.value===!0)return;const _=k.getChild(0),v=o.model.createRangeOn(_);if(!v.containsRange(u)&&!u.end.isEqual(v.end))return;const E=e.exec(_.data.substr(0,u.end.offset));E&&o.model.enqueueChange((z=>{const L=z.createPositionAt(k,0),F=z.createPositionAt(k,E[0].length),G=new Gn(L,F);if(i({match:E})!==!1){z.remove(G);const X=o.model.document.selection.getFirstRange(),lt=z.createRangeIn(k);!k.isEmpty||lt.isEqual(X)||lt.containsRange(X,!0)||z.remove(k)}G.detach(),o.model.enqueueChange((()=>{o.plugins.get("Delete").requestUndoOnBackspace()}))}))}))}function Od(o,t,e,n){let i,s;e instanceof RegExp?i=e:s=e,s=s||(l=>{let d;const u=[],m=[];for(;(d=i.exec(l))!==null&&!(d&&d.length<4);){let{index:g,1:k,2:_,3:v}=d;const E=k+_+v;g+=d[0].length-E.length;const z=[g,g+k.length],L=[g+k.length+_.length,g+k.length+_.length+v.length];u.push(z),u.push(L),m.push([g+k.length,g+k.length+_.length])}return{remove:u,format:m}}),o.model.document.on("change:data",((l,d)=>{if(d.isUndo||!d.isLocal||!t.isEnabled)return;const u=o.model,m=u.document.selection;if(!m.isCollapsed)return;const g=Array.from(u.document.differ.getChanges()),k=g[0];if(g.length!=1||k.type!=="insert"||k.name!="$text"||k.length!=1)return;const _=m.focus,v=_.parent,{text:E,range:z}=(function(X,lt){let vt=X.start;return{text:Array.from(X.getItems()).reduce(((Gt,Oe)=>!Oe.is("$text")&&!Oe.is("$textProxy")||Oe.getAttribute("code")?(vt=lt.createPositionAfter(Oe),""):Gt+Oe.data),""),range:lt.createRange(vt,X.end)}})(u.createRange(u.createPositionAt(v,0),_),u),L=s(E),F=_A(z.start,L.format,u),G=_A(z.start,L.remove,u);F.length&&G.length&&u.enqueueChange((X=>{if(n(X,F)!==!1){for(const lt of G.reverse())X.remove(lt);u.enqueueChange((()=>{o.plugins.get("Delete").requestUndoOnBackspace()}))}}))}))}function _A(o,t,e){return t.filter((n=>n[0]!==void 0&&n[1]!==void 0)).map((n=>e.createRange(o.getShiftedBy(n[0]),o.getShiftedBy(n[1]))))}class Y1 extends ft{static get requires(){return[vs]}static get pluginName(){return"Autoformat"}afterInit(){const t=this.editor,e=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const t=this.editor.commands;t.get("bulletedList")&&Ra(this.editor,this,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&Ra(this.editor,this,/^1[.|)]\s$/,"numberedList"),t.get("todoList")&&Ra(this.editor,this,/^\[\s?\]\s$/,"todoList"),t.get("checkTodoList")&&Ra(this.editor,this,/^\[\s?x\s?\]\s$/,(()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")}))}_addBasicStylesAutoformats(){const t=this.editor.commands;if(t.get("bold")){const e=Xg(this.editor,"bold");Od(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),Od(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(t.get("italic")){const e=Xg(this.editor,"italic");Od(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),Od(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(t.get("code")){const e=Xg(this.editor,"code");Od(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(t.get("strikethrough")){const e=Xg(this.editor,"strikethrough");Od(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const t=this.editor.commands.get("heading");t&&t.modelElements.filter((e=>e.match(/^heading[1-6]$/))).forEach((e=>{const n=e[7],i=new RegExp(`^(#{${n}})\\s$`);Ra(this.editor,this,i,(()=>{if(!t.isEnabled||t.value===e)return!1;this.editor.execute("heading",{value:e})}))}))}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Ra(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const t=this.editor,e=t.model.document.selection;t.commands.get("codeBlock")&&Ra(t,this,/^```$/,(()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})}))}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Ra(this.editor,this,/^---$/,"horizontalLine")}}function Xg(o,t){return(e,n)=>{if(!o.commands.get(t).isEnabled)return!1;const i=o.model.schema.getValidRanges(n,t);for(const s of i)e.setAttribute(t,!0,s);e.removeSelectionAttribute(t)}}class CA extends Ht{attributeKey;constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document.selection,i=t.forceValue===void 0?!this.value:t.forceValue;e.change((s=>{if(n.isCollapsed)i?s.setSelectionAttribute(this.attributeKey,!0):s.removeSelectionAttribute(this.attributeKey);else{const l=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const d of l)i?s.setAttribute(this.attributeKey,i,d):s.removeAttribute(this.attributeKey,d)}}))}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const i of n.getRanges())for(const s of i.getItems())if(e.checkAttribute(s,this.attributeKey))return s.hasAttribute(this.attributeKey);return!1}}const Ld="bold";class Q1 extends ft{static get pluginName(){return"BoldEditing"}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:Ld}),t.model.schema.setAttributeProperties(Ld,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Ld,view:"strong",upcastAlso:["b",n=>{const i=n.getStyle("font-weight");return i&&(i=="bold"||Number(i)>=600)?{name:!0,styles:["font-weight"]}:null}]}),t.commands.add(Ld,new CA(t,Ld)),t.keystrokes.set("CTRL+B",Ld),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Bold text"),keystroke:"CTRL+B"}]})}}function vA({editor:o,commandName:t,plugin:e,icon:n,label:i,keystroke:s}){return l=>{const d=o.commands.get(t),u=new l(o.locale);return u.set({label:i,icon:n,keystroke:s,isToggleable:!0}),u.bind("isEnabled").to(d,"isEnabled"),e.listenTo(u,"execute",(()=>{o.execute(t),o.editing.view.focus()})),u}}const tp="bold";class W1 extends ft{static get pluginName(){return"BoldUI"}init(){const t=this.editor,e=t.locale.t,n=t.commands.get(tp),i=vA({editor:t,commandName:tp,plugin:this,icon:St.bold,label:e("Bold"),keystroke:"CTRL+B"});t.ui.componentFactory.add(tp,(()=>{const s=i(ee);return s.set({tooltip:!0}),s.bind("isOn").to(n,"value"),s})),t.ui.componentFactory.add("menuBar:"+tp,(()=>i(Ze)))}}class $1 extends ft{static get requires(){return[Q1,W1]}static get pluginName(){return"Bold"}}var yA=D(4199),Z1={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(yA.A,Z1),yA.A.locals;const Rd="italic";class J1 extends ft{static get pluginName(){return"ItalicEditing"}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:Rd}),t.model.schema.setAttributeProperties(Rd,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Rd,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(Rd,new CA(t,Rd)),t.keystrokes.set("CTRL+I",Rd),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Italic text"),keystroke:"CTRL+I"}]})}}const ep="italic";class X1 extends ft{static get pluginName(){return"ItalicUI"}init(){const t=this.editor,e=t.commands.get(ep),n=t.locale.t,i=vA({editor:t,commandName:ep,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:n("Italic")});t.ui.componentFactory.add(ep,(()=>{const s=i(ee);return s.set({tooltip:!0}),s.bind("isOn").to(e,"value"),s})),t.ui.componentFactory.add("menuBar:"+ep,(()=>i(Ze)))}}class tx extends ft{static get requires(){return[J1,X1]}static get pluginName(){return"Italic"}}class ex extends Ht{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,n=e.schema,i=e.document.selection,s=Array.from(i.getSelectedBlocks()),l=t.forceValue===void 0?!this.value:t.forceValue;e.change((d=>{if(l){const u=s.filter((m=>np(m)||EA(n,m)));this._applyQuote(d,u)}else this._removeQuote(d,s.filter(np))}))}_getValue(){const t=Ye(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!np(t))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,n=Ye(t.getSelectedBlocks());return!!n&&EA(e,n)}_removeQuote(t,e){xA(t,e).reverse().forEach((n=>{if(n.start.isAtStart&&n.end.isAtEnd)return void t.unwrap(n.start.parent);if(n.start.isAtStart){const s=t.createPositionBefore(n.start.parent);return void t.move(n,s)}n.end.isAtEnd||t.split(n.end);const i=t.createPositionAfter(n.end.parent);t.move(n,i)}))}_applyQuote(t,e){const n=[];xA(t,e).reverse().forEach((i=>{let s=np(i.start);s||(s=t.createElement("blockQuote"),t.wrap(i,s)),n.push(s)})),n.reverse().reduce(((i,s)=>i.nextSibling==s?(t.merge(t.createPositionAfter(i)),i):s))}}function np(o){return o.parent.name=="blockQuote"?o.parent:null}function xA(o,t){let e,n=0;const i=[];for(;n<t.length;){const s=t[n],l=t[n+1];e||(e=o.createPositionBefore(s)),l&&s.nextSibling==l||(i.push(o.createRange(e,o.createPositionAfter(s))),e=null),n++}return i}function EA(o,t){const e=o.checkChild(t.parent,"blockQuote"),n=o.checkChild(["$root","blockQuote"],t);return e&&n}class nx extends ft{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Qg,vs]}init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new ex(t)),e.register("blockQuote",{inheritAllFrom:"$container"}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer((l=>{const d=t.model.document.differ.getChanges();for(const u of d)if(u.type=="insert"){const m=u.position.nodeAfter;if(!m)continue;if(m.is("element","blockQuote")&&m.isEmpty)return l.remove(m),!0;if(m.is("element","blockQuote")&&!e.checkChild(u.position,m))return l.unwrap(m),!0;if(m.is("element")){const g=l.createRangeIn(m);for(const k of g.getItems())if(k.is("element","blockQuote")&&!e.checkChild(l.createPositionBefore(k),k))return l.unwrap(k),!0}}else if(u.type=="remove"){const m=u.position.parent;if(m.is("element","blockQuote")&&m.isEmpty)return l.remove(m),!0}return!1}));const n=this.editor.editing.view.document,i=t.model.document.selection,s=t.commands.get("blockQuote");this.listenTo(n,"enter",((l,d)=>{!i.isCollapsed||!s.value||i.getLastPosition().parent.isEmpty&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),d.preventDefault(),l.stop())}),{context:"blockquote"}),this.listenTo(n,"delete",((l,d)=>{if(d.direction!="backward"||!i.isCollapsed||!s.value)return;const u=i.getLastPosition().parent;u.isEmpty&&!u.previousSibling&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),d.preventDefault(),l.stop())}),{context:"blockquote"})}}var DA=D(8708),ix={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(DA.A,ix),DA.A.locals;class ox extends ft{static get pluginName(){return"BlockQuoteUI"}init(){const t=this.editor,e=t.commands.get("blockQuote");t.ui.componentFactory.add("blockQuote",(()=>{const n=this._createButton(ee);return n.set({tooltip:!0}),n.bind("isOn").to(e,"value"),n})),t.ui.componentFactory.add("menuBar:blockQuote",(()=>this._createButton(Ze)))}_createButton(t){const e=this.editor,n=e.locale,i=e.commands.get("blockQuote"),s=new t(e.locale),l=n.t;return s.set({label:l("Block quote"),icon:St.quote,isToggleable:!0}),s.bind("isEnabled").to(i,"isEnabled"),this.listenTo(s,"execute",(()=>{e.execute("blockQuote"),e.editing.view.focus()})),s}}class rx extends ft{static get requires(){return[nx,ox]}static get pluginName(){return"BlockQuote"}}class sx extends ft{static get pluginName(){return"CKBoxUI"}afterInit(){const t=this.editor;t.commands.get("ckbox")&&(t.ui.componentFactory.add("ckbox",(()=>this._createFileToolbarButton())),t.ui.componentFactory.add("menuBar:ckbox",(()=>this._createFileMenuBarButton())),t.plugins.has("ImageInsertUI")&&t.plugins.get("ImageInsertUI").registerIntegration({name:"assetManager",observable:()=>t.commands.get("ckbox"),buttonViewCreator:()=>this._createImageToolbarButton(),formViewCreator:()=>this._createImageDropdownButton(),menuBarButtonViewCreator:e=>this._createImageMenuBarButton(e?"insertOnly":"insertNested")}))}_createButton(t){const e=this.editor,n=e.locale,i=new t(n),s=e.commands.get("ckbox");return n.t,i.bind("isOn","isEnabled").to(s,"value","isEnabled"),i.on("execute",(()=>{e.execute("ckbox")})),i}_createFileToolbarButton(){const t=this.editor.locale.t,e=this._createButton(ee);return e.icon=St.browseFiles,e.label=t("Open file manager"),e.tooltip=!0,e}_createImageToolbarButton(){const t=this.editor.locale.t,e=this.editor.plugins.get("ImageInsertUI"),n=this._createButton(ee);return n.icon=St.imageAssetManager,n.bind("label").to(e,"isImageSelected",(i=>t(i?"Replace image with file manager":"Insert image with file manager"))),n.tooltip=!0,n}_createImageDropdownButton(){const t=this.editor.locale.t,e=this.editor.plugins.get("ImageInsertUI"),n=this._createButton(ee);return n.icon=St.imageAssetManager,n.withText=!0,n.bind("label").to(e,"isImageSelected",(i=>t(i?"Replace with file manager":"Insert with file manager"))),n.on("execute",(()=>{e.dropdownView.isOpen=!1})),n}_createFileMenuBarButton(){const t=this.editor.locale.t,e=this._createButton(Ze);return e.icon=St.browseFiles,e.withText=!0,e.label=t("File"),e}_createImageMenuBarButton(t){const e=this.editor.locale.t,n=this._createButton(Ze);switch(n.icon=St.imageAssetManager,n.withText=!0,t){case"insertOnly":n.label=e("Image");break;case"insertNested":n.label=e("With file manager")}return n}}var ax=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],pm=o=>{let t=0;for(let e=0;e<o.length;e++){let n=o[e];t=83*t+ax.indexOf(n)}return t},qk=o=>{let t=o/255;return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},Gk=o=>{let t=Math.max(0,Math.min(1,o));return t<=.0031308?Math.trunc(12.92*t*255+.5):Math.trunc(255*(1.055*Math.pow(t,.4166666666666667)-.055)+.5)},Kk=(o,t)=>(e=>e<0?-1:1)(o)*Math.pow(Math.abs(o),t),SA=class extends Error{constructor(o){super(o),this.name="ValidationError",this.message=o}},lx=o=>{if(!o||o.length<6)throw new SA("The blurhash string must be at least 6 characters");let t=pm(o[0]),e=Math.floor(t/9)+1,n=t%9+1;if(o.length!==4+2*n*e)throw new SA(`blurhash length mismatch: length is ${o.length} but it should be ${4+2*n*e}`)},cx=o=>{let t=o>>8&255,e=255&o;return[qk(o>>16),qk(t),qk(e)]},dx=(o,t)=>{let e=Math.floor(o/361),n=Math.floor(o/19)%19,i=o%19;return[Kk((e-9)/9,2)*t,Kk((n-9)/9,2)*t,Kk((i-9)/9,2)*t]},ux=(o,t,e,n)=>{lx(o),n|=1;let i=pm(o[0]),s=Math.floor(i/9)+1,l=i%9+1,d=(pm(o[1])+1)/166,u=new Array(l*s);for(let k=0;k<u.length;k++)if(k===0){let _=pm(o.substring(2,6));u[k]=cx(_)}else{let _=pm(o.substring(4+2*k,6+2*k));u[k]=dx(_,d*n)}let m=4*t,g=new Uint8ClampedArray(m*e);for(let k=0;k<e;k++)for(let _=0;_<t;_++){let v=0,E=0,z=0;for(let X=0;X<s;X++)for(let lt=0;lt<l;lt++){let vt=Math.cos(Math.PI*_*lt/t)*Math.cos(Math.PI*k*X/e),jt=u[lt+X*l];v+=jt[0]*vt,E+=jt[1]*vt,z+=jt[2]*vt}let L=Gk(v),F=Gk(E),G=Gk(z);g[4*_+0+k*m]=L,g[4*_+1+k*m]=F,g[4*_+2+k*m]=G,g[4*_+3+k*m]=255}return g};function TA(o){const t=[];let e=0;for(const i in o){const s=parseInt(i,10);isNaN(s)||(s>e&&(e=s),t.push(`${o[i]} ${i}w`))}const n=[{srcset:t.join(","),sizes:`(max-width: ${e}px) 100vw, ${e}px`,type:"image/webp"}];return{imageFallbackUrl:o.default,imageSources:n}}const km=32;function MA({url:o,method:t="GET",data:e,onUploadProgress:n,signal:i,authorization:s}){const l=new XMLHttpRequest;l.open(t,o.toString()),l.setRequestHeader("Authorization",s),l.setRequestHeader("CKBox-Version","CKEditor 5"),l.responseType="json";const d=()=>{l.abort()};return new Promise(((u,m)=>{i.throwIfAborted(),i.addEventListener("abort",d),l.addEventListener("loadstart",(()=>{i.addEventListener("abort",d)})),l.addEventListener("loadend",(()=>{i.removeEventListener("abort",d)})),l.addEventListener("error",(()=>{m()})),l.addEventListener("abort",(()=>{m()})),l.addEventListener("load",(()=>{const g=l.response;if(!g||g.statusCode>=400)return m(g&&g.message);u(g)})),n&&l.upload.addEventListener("progress",(g=>{n(g)})),l.send(e)}))}const hx={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};class mx extends Ht{_chosenAssets=new Set;_wrapper=null;constructor(t){super(t),this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const t=this.editor.commands.get("insertImage"),e=this.editor.commands.get("link");return!(!t.isEnabled&&!e.isEnabled)}_prepareOptions(){const t=this.editor.config.get("ckbox");return{theme:t.theme,language:t.language,tokenUrl:t.tokenUrl,serviceOrigin:t.serviceOrigin,forceDemoLabel:t.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:e=>this.fire("ckbox:choose",e)}}}_initListeners(){const t=this.editor,e=t.model,n=!t.config.get("ckbox.ignoreDataId");this.on("ckbox",(()=>{this.refresh()}),{priority:"low"}),this.on("ckbox:open",(()=>{this.isEnabled&&!this.value&&(this._wrapper=ki(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))})),this.on("ckbox:close",(()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,t.editing.view.focus())})),this.on("ckbox:choose",((i,s)=>{if(!this.isEnabled)return;const l=t.commands.get("insertImage"),d=t.commands.get("link"),u=(function({assets:g,isImageAllowed:k,isLinkAllowed:_}){return g.map((v=>(function(E){const z=E.data.metadata;return z?z.width&&z.height:!1})(v)?{id:v.data.id,type:"image",attributes:fx(v)}:{id:v.data.id,type:"link",attributes:gx(v)})).filter((v=>v.type==="image"?k:_))})({assets:s,isImageAllowed:l.isEnabled,isLinkAllowed:d.isEnabled}),m=u.length;m!==0&&(e.change((g=>{for(const k of u){const _=k===u[m-1],v=m===1;this._insertAsset(k,_,g,v),n&&(setTimeout((()=>this._chosenAssets.delete(k)),1e3),this._chosenAssets.add(k))}})),t.editing.view.focus())})),this.listenTo(t,"destroy",(()=>{this.fire("ckbox:close"),this._chosenAssets.clear()}))}_insertAsset(t,e,n,i){const s=this.editor.model.document.selection;n.removeSelectionAttribute("linkHref"),t.type==="image"?this._insertImage(t):this._insertLink(t,n,i),e||n.setSelection(s.getLastPosition())}_insertImage(t){const e=this.editor,{imageFallbackUrl:n,imageSources:i,imageTextAlternative:s,imageWidth:l,imageHeight:d,imagePlaceholder:u}=t.attributes;e.execute("insertImage",{source:{src:n,sources:i,alt:s,width:l,height:d,...u?{placeholder:u}:null}})}_insertLink(t,e,n){const i=this.editor,s=i.model,l=s.document.selection,{linkName:d,linkHref:u}=t.attributes;if(l.isCollapsed){const m=Ci(l.getAttributes()),g=e.createText(d,m);if(!n){const _=l.getLastPosition(),v=_.parent;v.name==="paragraph"&&v.isEmpty||i.execute("insertParagraph",{position:_});const E=s.insertContent(g);return e.setSelection(E),void i.execute("link",u)}const k=s.insertContent(g);e.setSelection(k)}i.execute("link",u)}}function fx(o){const{imageFallbackUrl:t,imageSources:e}=TA(o.data.imageUrls),{description:n,width:i,height:s,blurHash:l}=o.data.metadata,d=(function(u){if(u)try{const m=`${km}px`,g=document.createElement("canvas");g.setAttribute("width",m),g.setAttribute("height",m);const k=g.getContext("2d");if(!k)return;const _=k.createImageData(km,km),v=ux(u,km,km);return _.data.set(v),k.putImageData(_,0,0),g.toDataURL()}catch{return}})(l);return{imageFallbackUrl:t,imageSources:e,imageTextAlternative:n||"",imageWidth:i,imageHeight:s,...d?{imagePlaceholder:d}:null}}function gx(o){return{linkName:o.data.name,linkHref:px(o)}}function px(o){const t=new URL(o.data.url);return t.searchParams.set("download","true"),t.toString()}class BA extends ft{_token;static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}async init(){const t=this.editor,e=!!t.config.get("ckbox"),n=!!window.CKBox;if(!e&&!n)return;t.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:t.locale.uiLanguage,theme:"lark",tokenUrl:t.config.get("cloudServices.tokenUrl")});const i=t.plugins.get("CloudServices"),s=t.config.get("cloudServices.tokenUrl"),l=t.config.get("ckbox.tokenUrl");if(!l)throw new H("ckbox-plugin-missing-token-url",this);this._token=l==s?i.token:await i.registerTokenUrl(l)}getToken(){return this._token}getWorkspaceId(){const t=(0,this.editor.t)("Cannot access default workspace."),e=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),n=(function(i,s){const[,l]=i.value.split("."),d=JSON.parse(atob(l)),u=d.auth&&d.auth.ckbox&&d.auth.ckbox.workspaces||[d.aud];return s?(d.auth&&d.auth.ckbox&&d.auth.ckbox.role)=="superadmin"||u.includes(s)?s:null:u[0]})(this._token,e);if(n==null)throw rt("ckbox-access-default-workspace-error"),t;return n}async getCategoryIdForFile(t,e){const n=(0,this.editor.t)("Cannot determine a category for the uploaded file."),i=this.editor.config.get("ckbox.defaultUploadCategories"),s=this._getAvailableCategories(e),l=typeof t=="string"?(d=await(async function(g,k){try{const _=await fetch(g,{method:"HEAD",cache:"force-cache",...k});return _.ok&&_.headers.get("content-type")||""}catch{return""}})(t,e),hx[d]):t.name.match(/\.(?<ext>[^.]+)$/).groups.ext.toLowerCase();var d;const u=await s;if(!u)throw n;if(i){const g=Object.keys(i).find((k=>i[k].find((_=>_.toLowerCase()==l))));if(g){const k=u.find((_=>_.id===g||_.name===g));if(!k)throw n;return k.id}}const m=u.find((g=>g.extensions.find((k=>k.toLowerCase()==l))));if(!m)throw n;return m.id}async _getAvailableCategories(t){const e=this.editor,n=this._token,{signal:i}=t,s=e.config.get("ckbox.serviceOrigin"),l=this.getWorkspaceId();try{const u=[];let m,g=0;do{const k=await d(g);u.push(...k.items),m=k.totalCount-(g+50),g+=50}while(m>0);return u}catch{return i.throwIfAborted(),void rt("ckbox-fetch-category-http-error")}function d(u){const m=new URL("categories",s);return m.searchParams.set("limit","50"),m.searchParams.set("offset",u.toString()),m.searchParams.set("workspaceId",l),MA({url:m,signal:i,authorization:n.value})}}}class kx extends ft{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Po,IA]}static get pluginName(){return"CKBoxUploadAdapter"}async afterInit(){const t=this.editor,e=!!t.config.get("ckbox"),n=!!window.CKBox;if(!e&&!n)return;const i=t.plugins.get(Po),s=t.plugins.get(BA);i.createUploadAdapter=u=>new bx(u,t,s);const l=!t.config.get("ckbox.ignoreDataId"),d=t.plugins.get("ImageUploadEditing");l&&d.on("uploadComplete",((u,{imageElement:m,data:g})=>{t.model.change((k=>{k.setAttribute("ckboxImageId",g.ckboxImageId,m)}))}))}}class bx{loader;token;editor;controller;serviceOrigin;ckboxUtils;constructor(t,e,n){this.loader=t,this.token=n.getToken(),this.ckboxUtils=n,this.editor=e,this.controller=new AbortController,this.serviceOrigin=e.config.get("ckbox.serviceOrigin")}async upload(){const t=this.ckboxUtils,e=this.editor.t,n=await this.loader.file,i=await t.getCategoryIdForFile(n,{signal:this.controller.signal}),s=new URL("assets",this.serviceOrigin),l=new FormData;return s.searchParams.set("workspaceId",t.getWorkspaceId()),l.append("categoryId",i),l.append("file",n),MA({method:"POST",url:s,data:l,onUploadProgress:d=>{d.lengthComputable&&(this.loader.uploadTotal=d.total,this.loader.uploaded=d.loaded)},signal:this.controller.signal,authorization:this.token.value}).then((async d=>{const u=TA(d.imageUrls);return{ckboxImageId:d.id,default:u.imageFallbackUrl,sources:u.imageSources}})).catch((()=>{const d=e("Cannot upload file:")+` ${n.name}.`;return Promise.reject(d)}))}abort(){this.controller.abort()}}class IA extends ft{_token;static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",kx,BA]}init(){const t=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),zA()&&t.commands.add("ckbox",new mx(t)))}afterInit(){const t=this.editor;this._shouldBeInitialised()&&(t.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||zA()}_checkImagePlugins(){const t=this.editor;t.plugins.has("ImageBlockEditing")||t.plugins.has("ImageInlineEditing")||rt("ckbox-plugin-image-feature-missing",t)}_initSchema(){const t=this.editor.model.schema;t.extend("$text",{allowAttributes:"ckboxLinkId"}),t.isRegistered("imageBlock")&&t.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),t.isRegistered("imageInline")&&t.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),t.addAttributeCheck(((e,n)=>{if(!e.last.getAttribute("linkHref")&&n==="ckboxLinkId")return!1}))}_initConversion(){const t=this.editor;t.conversion.for("downcast").add((n=>{n.on("attribute:ckboxLinkId:imageBlock",((i,s,l)=>{const{writer:d,mapper:u,consumable:m}=l;if(!m.consume(s.item,i.name))return;const g=[...u.toViewElement(s.item).getChildren()].find((k=>k.name==="a"));g&&(s.item.hasAttribute("ckboxLinkId")?d.setAttribute("data-ckbox-resource-id",s.item.getAttribute("ckboxLinkId"),g):d.removeAttribute("data-ckbox-resource-id",g))}),{priority:"low"}),n.on("attribute:ckboxLinkId",((i,s,l)=>{const{writer:d,mapper:u,consumable:m}=l;if(m.consume(s.item,i.name)){if(s.attributeOldValue){const g=NA(d,s.attributeOldValue);d.unwrap(u.toViewRange(s.range),g)}if(s.attributeNewValue){const g=NA(d,s.attributeNewValue);if(s.item.is("selection")){const k=d.document.selection;d.wrap(k.getFirstRange(),g)}else d.wrap(u.toViewRange(s.range),g)}}}),{priority:"low"})})),t.conversion.for("upcast").add((n=>{n.on("element:a",((i,s,l)=>{const{writer:d,consumable:u}=l;if(!s.viewItem.getAttribute("href")||!u.consume(s.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const m=s.viewItem.getAttribute("data-ckbox-resource-id");if(m)if(s.modelRange)for(let g of s.modelRange.getItems())g.is("$textProxy")&&(g=g.textNode),Ax(g)&&d.setAttribute("ckboxLinkId",m,g);else{const g=s.modelCursor.nodeBefore||s.modelCursor.parent;d.setAttribute("ckboxLinkId",m,g)}}),{priority:"low"})})),t.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),t.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:n=>n.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const e=t.commands.get("replaceImageSource");e&&this.listenTo(e,"cleanupImage",((n,[i,s])=>{i.removeAttribute("ckboxImageId",s)}))}_initFixers(){const t=this.editor,e=t.model,n=e.document.selection;e.document.registerPostFixer((function(i){return s=>{let l=!1;const d=i.model,u=i.commands.get("ckbox");if(!u)return l;for(const m of d.document.differ.getChanges()){if(m.type!=="insert"&&m.type!=="attribute")continue;const g=m.type==="insert"?new Z(m.position,m.position.getShiftedBy(m.length)):m.range,k=m.type==="attribute"&&m.attributeKey==="linkHref"&&m.attributeNewValue===null;for(const _ of g.getItems()){if(k&&_.hasAttribute("ckboxLinkId")){s.removeAttribute("ckboxLinkId",_),l=!0;continue}const v=wx(_,u._chosenAssets);for(const E of v){const z=E.type==="image"?"ckboxImageId":"ckboxLinkId";E.id!==_.getAttribute(z)&&(s.setAttribute(z,E.id,_),l=!0)}}}return l}})(t)),e.document.registerPostFixer((function(i){return s=>!(i.hasAttribute("linkHref")||!i.hasAttribute("ckboxLinkId"))&&(s.removeSelectionAttribute("ckboxLinkId"),!0)})(n))}}function wx(o,t){const e=o.is("element","imageInline")||o.is("element","imageBlock"),n=o.hasAttribute("linkHref");return[...t].filter((i=>i.type==="image"&&e?i.attributes.imageFallbackUrl===o.getAttribute("src"):i.type==="link"&&n?i.attributes.linkHref===o.getAttribute("linkHref"):void 0))}function NA(o,t){const e=o.createAttributeElement("a",{"data-ckbox-resource-id":t},{priority:5});return o.setCustomProperty("link",!0,e),e}function Ax(o){return!!o.is("$text")||!(!o.is("element","imageInline")&&!o.is("element","imageBlock"))}function zA(){return!!window.CKBox}class _x extends ft{static get pluginName(){return"CKBox"}static get requires(){return[IA,sx]}}var OA=D(1866),Cx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(OA.A,Cx),OA.A.locals;class vx extends ft{static get pluginName(){return"CKFinderUI"}init(){const t=this.editor;t.ui.componentFactory.add("ckfinder",(()=>this._createFileToolbarButton())),t.ui.componentFactory.add("menuBar:ckfinder",(()=>this._createFileMenuBarButton())),t.plugins.has("ImageInsertUI")&&t.plugins.get("ImageInsertUI").registerIntegration({name:"assetManager",observable:()=>t.commands.get("ckfinder"),buttonViewCreator:()=>this._createImageToolbarButton(),formViewCreator:()=>this._createImageDropdownButton(),menuBarButtonViewCreator:e=>this._createImageMenuBarButton(e?"insertOnly":"insertNested")})}_createButton(t){const e=this.editor,n=new t(e.locale),i=e.commands.get("ckfinder");return n.bind("isEnabled").to(i),n.on("execute",(()=>{e.execute("ckfinder"),e.editing.view.focus()})),n}_createFileToolbarButton(){const t=this.editor.locale.t,e=this._createButton(ee);return e.icon=St.browseFiles,e.label=t("Insert image or file"),e.tooltip=!0,e}_createImageToolbarButton(){const t=this.editor.locale.t,e=this.editor.plugins.get("ImageInsertUI"),n=this._createButton(ee);return n.icon=St.imageAssetManager,n.bind("label").to(e,"isImageSelected",(i=>t(i?"Replace image with file manager":"Insert image with file manager"))),n.tooltip=!0,n}_createImageDropdownButton(){const t=this.editor.locale.t,e=this.editor.plugins.get("ImageInsertUI"),n=this._createButton(ee);return n.icon=St.imageAssetManager,n.withText=!0,n.bind("label").to(e,"isImageSelected",(i=>t(i?"Replace with file manager":"Insert with file manager"))),n.on("execute",(()=>{e.dropdownView.isOpen=!1})),n}_createFileMenuBarButton(){const t=this.editor.locale.t,e=this._createButton(Ze);return e.icon=St.browseFiles,e.withText=!0,e.label=t("File"),e}_createImageMenuBarButton(t){const e=this.editor.locale.t,n=this._createButton(Ze);switch(n.icon=St.imageAssetManager,n.withText=!0,t){case"insertOnly":n.label=e("Image");break;case"insertNested":n.label=e("With file manager")}return n}}class yx extends Ht{constructor(t){super(t),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",(()=>this.refresh()),{priority:"low"})}refresh(){const t=this.editor.commands.get("insertImage"),e=this.editor.commands.get("link");this.isEnabled=t.isEnabled||e.isEnabled}execute(){const t=this.editor,e=this.editor.config.get("ckfinder.openerMethod")||"modal";if(e!="popup"&&e!="modal")throw new H("ckfinder-unknown-openermethod",t);const n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;const i=n.onInit;n.language||(n.language=t.locale.uiLanguage),n.onInit=s=>{i&&i(s),s.on("files:choose",(l=>{const d=l.data.files.toArray(),u=d.filter((k=>!k.isImage())),m=d.filter((k=>k.isImage()));for(const k of u)t.execute("link",k.getUrl());const g=[];for(const k of m){const _=k.getUrl();g.push(_||s.request("file:getProxyUrl",{file:k}))}g.length&&LA(t,g)})),s.on("file:choose:resizedImage",(l=>{const d=l.data.resizedUrl;if(d)LA(t,[d]);else{const u=t.plugins.get("Notification"),m=t.locale.t;u.showWarning(m("Could not obtain resized image URL."),{title:m("Selecting resized image failed"),namespace:"ckfinder"})}}))},window.CKFinder[e](n)}}function LA(o,t){if(o.commands.get("insertImage").isEnabled)o.execute("insertImage",{source:t});else{const e=o.plugins.get("Notification"),n=o.locale.t;e.showWarning(n("Could not insert image at the current position."),{title:n("Inserting image failed"),namespace:"ckfinder"})}}class xx extends ft{static get pluginName(){return"CKFinderEditing"}static get requires(){return[jk,"LinkEditing"]}init(){const t=this.editor;if(!t.plugins.has("ImageBlockEditing")&&!t.plugins.has("ImageInlineEditing"))throw new H("ckfinder-missing-image-plugin",t);t.commands.add("ckfinder",new yx(t))}}class Ex extends ft{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",xx,vx]}}class Dx extends ft{_uploadGateway;static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Po]}init(){const t=this.editor,e=t.plugins.get("CloudServices"),n=e.token,i=e.uploadUrl;if(!n)return;const s=t.plugins.get("CloudServicesCore");this._uploadGateway=s.createUploadGateway(n,i),t.plugins.get(Po).createUploadAdapter=l=>new Sx(this._uploadGateway,l)}}class Sx{uploadGateway;loader;fileUploader;constructor(t,e){this.uploadGateway=t,this.loader=e}upload(){return this.loader.file.then((t=>(this.fileUploader=this.uploadGateway.upload(t),this.fileUploader.on("progress",((e,n)=>{this.loader.uploadTotal=n.total,this.loader.uploaded=n.uploaded})),this.fileUploader.send())))}abort(){this.fileUploader.abort()}}class Tx extends ft{static get pluginName(){return"EasyImage"}static get requires(){return[Dx,"ImageUpload"]}init(){const t=this.editor;t.plugins.has("ImageBlockEditing")||t.plugins.has("ImageInlineEditing")||Bt("easy-image-image-feature-missing",t)}}class Mx extends Ht{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}refresh(){const t=this.editor.model,e=Ye(t.document.selection.getSelectedBlocks());this.value=!!e&&e.is("element","paragraph"),this.isEnabled=!!e&&RA(e,t.schema)}execute(t={}){const e=this.editor.model,n=e.document,i=t.selection||n.selection;e.canEditAt(i)&&e.change((s=>{const l=i.getSelectedBlocks();for(const d of l)!d.is("element","paragraph")&&RA(d,e.schema)&&s.rename(d,"paragraph")}))}}function RA(o,t){return t.checkChild(o.parent,"paragraph")&&!t.isObject(o)}class Bx extends Ht{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}execute(t){const e=this.editor.model,n=t.attributes;let i=t.position;e.canEditAt(i)&&e.change((s=>{if(i=this._findPositionToInsertParagraph(i,s),!i)return;const l=s.createElement("paragraph");n&&e.schema.setAllowedAttributes(l,n,s),e.insertContent(l,i),s.setSelection(l,"in")}))}_findPositionToInsertParagraph(t,e){const n=this.editor.model;if(n.schema.checkChild(t,"paragraph"))return t;const i=n.schema.findAllowedParent(t,"paragraph");if(!i)return null;const s=t.parent,l=n.schema.checkChild(s,"$text");return s.isEmpty||l&&t.isAtEnd?n.createPositionAfter(s):!s.isEmpty&&l&&t.isAtStart?n.createPositionBefore(s):e.split(t,i).position}}class ip extends ft{static get pluginName(){return"Paragraph"}init(){const t=this.editor,e=t.model;t.commands.add("paragraph",new Mx(t)),t.commands.add("insertParagraph",new Bx(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(n,{writer:i})=>ip.paragraphLikeElements.has(n.name)?n.isEmpty?null:i.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}static paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"])}class Ix extends Ht{modelElements;constructor(t,e){super(t),this.modelElements=e}refresh(){const t=Ye(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some((e=>jA(t,e,this.editor.model.schema)))}execute(t){const e=this.editor.model,n=e.document,i=t.value;e.change((s=>{const l=Array.from(n.selection.getSelectedBlocks()).filter((d=>jA(d,i,e.schema)));for(const d of l)d.is("element",i)||s.rename(d,i)}))}}function jA(o,t,e){return e.checkChild(o.parent,t)&&!e.isObject(o)}const PA="paragraph";class Nx extends ft{static get pluginName(){return"HeadingEditing"}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[ip]}init(){const t=this.editor,e=t.config.get("heading.options"),n=[];for(const i of e)i.model!=="paragraph"&&(t.model.schema.register(i.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(i),n.push(i.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new Ix(t,n))}afterInit(){const t=this.editor,e=t.commands.get("enter"),n=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",((i,s)=>{const l=t.model.document.selection.getFirstPosition().parent;n.some((d=>l.is("element",d.model)))&&!l.is("element",PA)&&l.childCount===0&&s.writer.rename(l,PA)}))}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:Rt.low+1})}}var FA=D(6269),zx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(FA.A,zx),FA.A.locals;class Ox extends ft{static get pluginName(){return"HeadingUI"}init(){const t=this.editor,e=t.t,n=(function(l){const d=l.t,u={Paragraph:d("Paragraph"),"Heading 1":d("Heading 1"),"Heading 2":d("Heading 2"),"Heading 3":d("Heading 3"),"Heading 4":d("Heading 4"),"Heading 5":d("Heading 5"),"Heading 6":d("Heading 6")};return l.config.get("heading.options").map((m=>{const g=u[m.title];return g&&g!=m.title&&(m.title=g),m}))})(t),i=e("Choose heading"),s=e("Heading");t.ui.componentFactory.add("heading",(l=>{const d={},u=new pe,m=t.commands.get("heading"),g=t.commands.get("paragraph"),k=[m];for(const v of n){const E={type:"button",model:new iw({label:v.title,class:v.class,role:"menuitemradio",withText:!0})};v.model==="paragraph"?(E.model.bind("isOn").to(g,"value"),E.model.set("commandName","paragraph"),k.push(g)):(E.model.bind("isOn").to(m,"value",(z=>z===v.model)),E.model.set({commandName:"heading",commandValue:v.model})),u.add(E),d[v.model]=v.title}const _=K(l);return Nt(_,u,{ariaLabel:s,role:"menu"}),_.buttonView.set({ariaLabel:s,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:s}),_.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),_.bind("isEnabled").toMany(k,"isEnabled",((...v)=>v.some((E=>E)))),_.buttonView.bind("label").to(m,"value",g,"value",((v,E)=>{const z=E?"paragraph":v;return typeof z=="boolean"?i:d[z]?d[z]:i})),_.buttonView.bind("ariaLabel").to(m,"value",g,"value",((v,E)=>{const z=E?"paragraph":v;return typeof z=="boolean"?s:d[z]?`${d[z]}, ${s}`:s})),this.listenTo(_,"execute",(v=>{const{commandName:E,commandValue:z}=v.source;t.execute(E,z?{value:z}:void 0),t.editing.view.focus()})),_})),t.ui.componentFactory.add("menuBar:heading",(l=>{const d=new za(l),u=t.commands.get("heading"),m=t.commands.get("paragraph"),g=[u],k=new qg(l);d.set({class:"ck-heading-dropdown"}),k.set({ariaLabel:e("Heading"),role:"menu"}),d.buttonView.set({label:e("Heading")}),d.panelView.children.add(k);for(const _ of n){const v=new Hg(l,d),E=new Ze(l);v.children.add(E),k.items.add(v),E.set({label:_.title,role:"menuitemradio",class:_.class}),E.bind("ariaChecked").to(E,"isOn"),E.delegate("execute").to(d),E.on("execute",(()=>{const z=_.model==="paragraph"?"paragraph":"heading";t.execute(z,{value:_.model}),t.editing.view.focus()})),_.model==="paragraph"?(E.bind("isOn").to(m,"value"),g.push(m)):E.bind("isOn").to(u,"value",(z=>z===_.model))}return d.bind("isEnabled").toMany(g,"isEnabled",((..._)=>_.some((v=>v)))),d}))}}class Lx extends ft{static get requires(){return[Nx,Ox]}static get pluginName(){return"Heading"}}function VA(o){return o.createContainerElement("figure",{class:"image"},[o.createEmptyElement("img"),o.createSlot("children")])}function UA(o,t){const e=o.plugins.get("ImageUtils"),n=o.plugins.has("ImageInlineEditing")&&o.plugins.has("ImageBlockEditing");return s=>e.isInlineImageView(s)?n&&(s.getStyle("display")=="block"||s.findAncestor(e.isBlockImageView)?"imageBlock":"imageInline")!==t?null:i(s):null;function i(s){const l={name:!0};return s.hasAttribute("src")&&(l.attributes=["src"]),l}}function Yk(o,t){const e=Ye(t.getSelectedBlocks());return!e||o.isObject(e)||e.isEmpty&&e.name!="listItem"?"imageBlock":"imageInline"}function op(o){return o&&o.endsWith("px")?parseInt(o):null}function HA(o){const t=op(o.getStyle("width")),e=op(o.getStyle("height"));return!(!t||!e)}const Rx=/^(image|image-inline)$/;class Di extends ft{_domEmitter=new(Vn());static get pluginName(){return"ImageUtils"}isImage(t){return this.isInlineImage(t)||this.isBlockImage(t)}isInlineImageView(t){return!!t&&t.is("element","img")}isBlockImageView(t){return!!t&&t.is("element","figure")&&t.hasClass("image")}insertImage(t={},e=null,n=null,i={}){const s=this.editor,l=s.model,d=l.document.selection,u=qA(s,e||d,n);t={...Object.fromEntries(d.getAttributes()),...t};for(const m in t)l.schema.checkAttribute(u,m)||delete t[m];return l.change((m=>{const{setImageSizes:g=!0}=i,k=m.createElement(u,t);return l.insertObject(k,e,null,{setSelection:"on",findOptimalPosition:e||u=="imageInline"?void 0:"auto"}),k.parent?(g&&this.setImageNaturalSizeAttributes(k),k):null}))}setImageNaturalSizeAttributes(t){const e=t.getAttribute("src");e&&(t.getAttribute("width")||t.getAttribute("height")||this.editor.model.change((n=>{const i=new S.window.Image;this._domEmitter.listenTo(i,"load",(()=>{t.getAttribute("width")||t.getAttribute("height")||this.editor.model.enqueueChange(n.batch,(s=>{s.setAttribute("width",i.naturalWidth,t),s.setAttribute("height",i.naturalHeight,t)})),this._domEmitter.stopListening(i,"load")})),i.src=e})))}getClosestSelectedImageWidget(t){const e=t.getFirstPosition();if(!e)return null;const n=t.getSelectedElement();if(n&&this.isImageWidget(n))return n;let i=e.parent;for(;i;){if(i.is("element")&&this.isImageWidget(i))return i;i=i.parent}return null}getClosestSelectedImageElement(t){const e=t.getSelectedElement();return this.isImage(e)?e:t.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(t){return t.findAncestor({classes:Rx})}isImageAllowed(){const t=this.editor.model.document.selection;return(function(e,n){if(qA(e,n,null)=="imageBlock"){const s=(function(l,d){const u=Zw(l,d),m=u.start.parent;return m.isEmpty&&!m.is("element","$root")?m.parent:m})(n,e.model);if(e.model.schema.checkChild(s,"imageBlock"))return!0}else if(e.model.schema.checkChild(n.focus,"imageInline"))return!0;return!1})(this.editor,t)&&(function(e){return[...e.focus.getAncestors()].every((n=>!n.is("element","imageBlock")))})(t)}toImageWidget(t,e,n){return e.setCustomProperty("image",!0,t),Uk(t,e,{label:()=>{const i=this.findViewImgElement(t).getAttribute("alt");return i?`${i} ${n}`:n}})}isImageWidget(t){return!!t.getCustomProperty("image")&&rn(t)}isBlockImage(t){return!!t&&t.is("element","imageBlock")}isInlineImage(t){return!!t&&t.is("element","imageInline")}findViewImgElement(t){if(this.isInlineImageView(t))return t;const e=this.editor.editing.view;for(const{item:n}of e.createRangeIn(t))if(this.isInlineImageView(n))return n}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function qA(o,t,e){const n=o.model.schema,i=o.config.get("image.insert.type");return o.plugins.has("ImageBlockEditing")?o.plugins.has("ImageInlineEditing")?e||(i==="inline"?"imageInline":i!=="auto"?"imageBlock":t.is("selection")?Yk(n,t):n.checkChild(t,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class jx extends Ht{refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}execute(t){const e=this.editor,n=e.plugins.get("ImageUtils"),i=e.model,s=n.getClosestSelectedImageElement(i.document.selection);i.change((l=>{l.setAttribute("alt",t.newValue,s)}))}}class Px extends ft{static get requires(){return[Di]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new jx(this.editor))}}var GA=D(4062),Fx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(GA.A,Fx),GA.A.locals;var KA=D(2722),Vx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(KA.A,Vx),KA.A.locals;class Ux extends It{focusTracker;keystrokes;labeledInput;saveButtonView;cancelButtonView;_focusables;_focusCycler;constructor(t){super(t);const e=this.locale.t;this.focusTracker=new Qe,this.keystrokes=new cn,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(e("Save"),St.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(e("Cancel"),St.cancel,"ck-button-cancel","cancel"),this._focusables=new kn,this._focusCycler=new $n({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),ea({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)}))}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(t,e,n,i){const s=new ee(this.locale);return s.set({label:t,icon:e,tooltip:!0}),s.extendTemplate({attributes:{class:n}}),i&&s.delegate("execute").to(this,i),s}_createLabeledInputView(){const t=this.locale.t,e=new sm(this.locale,Wt);return e.label=t("Text alternative"),e}}function YA(o){const t=o.editing.view,e=Hi.defaultPositions,n=o.plugins.get("ImageUtils");return{target:t.domConverter.mapViewToDom(n.getClosestSelectedImageWidget(t.document.selection)),positions:[e.northArrowSouth,e.northArrowSouthWest,e.northArrowSouthEast,e.southArrowNorth,e.southArrowNorthWest,e.southArrowNorthEast,e.viewportStickyNorth]}}class Hx extends ft{_balloon;_form;static get requires(){return[Ug]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageTextAlternative",(n=>{const i=t.commands.get("imageTextAlternative"),s=new ee(n);return s.set({label:e("Change image text alternative"),icon:St.textAlternative,tooltip:!0}),s.bind("isEnabled").to(i,"isEnabled"),s.bind("isOn").to(i,"value",(l=>!!l)),this.listenTo(s,"execute",(()=>{this._showForm()})),s}))}_createForm(){const t=this.editor,e=t.editing.view.document,n=t.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(hl(Ux))(t.locale),this._form.render(),this.listenTo(this._form,"submit",(()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)})),this.listenTo(this._form,"cancel",(()=>{this._hideForm(!0)})),this._form.keystrokes.set("Esc",((i,s)=>{this._hideForm(!0),s()})),this.listenTo(t.ui,"update",(()=>{n.getClosestSelectedImageWidget(e.selection)?this._isVisible&&(function(i){const s=i.plugins.get("ContextualBalloon");if(i.plugins.get("ImageUtils").getClosestSelectedImageWidget(i.editing.view.document.selection)){const l=YA(i);s.updatePosition(l)}})(t):this._hideForm(!0)})),fr({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const t=this.editor,e=t.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:YA(t)}),n.fieldView.value=n.fieldView.element.value=e.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(t=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class QA extends ft{static get requires(){return[Px,Hx]}static get pluginName(){return"ImageTextAlternative"}}function WA(o,t){const e=(n,i,s)=>{if(!s.consumable.consume(i.item,n.name))return;const l=s.writer,d=s.mapper.toViewElement(i.item),u=o.findViewImgElement(d);i.attributeNewValue===null?(l.removeAttribute("srcset",u),l.removeAttribute("sizes",u)):i.attributeNewValue&&(l.setAttribute("srcset",i.attributeNewValue,u),l.setAttribute("sizes","100vw",u))};return n=>{n.on(`attribute:srcset:${t}`,e)}}function rp(o,t,e){const n=(i,s,l)=>{if(!l.consumable.consume(s.item,i.name))return;const d=l.writer,u=l.mapper.toViewElement(s.item),m=o.findViewImgElement(u);d.setAttribute(s.attributeKey,s.attributeNewValue||"",m)};return i=>{i.on(`attribute:${e}:${t}`,n)}}class $A extends Ri{observe(t){this.listenTo(t,"load",((e,n)=>{const i=n.target;this.checkShouldIgnoreEventFromTarget(i)||i.tagName=="IMG"&&this._fireEvents(n)}),{useCapture:!0})}stopObserving(t){this.stopListening(t)}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}class qx extends Ht{constructor(t){super(t);const e=t.config.get("image.insert.type");t.plugins.has("ImageBlockEditing")||e==="block"&&Bt("image-block-plugin-required"),t.plugins.has("ImageInlineEditing")||e==="inline"&&Bt("image-inline-plugin-required")}refresh(){const t=this.editor.plugins.get("ImageUtils");this.isEnabled=t.isImageAllowed()}execute(t){const e=Yt(t.source),n=this.editor.model.document.selection,i=this.editor.plugins.get("ImageUtils"),s=Object.fromEntries(n.getAttributes());e.forEach(((l,d)=>{const u=n.getSelectedElement();if(typeof l=="string"&&(l={src:l}),d&&u&&i.isImage(u)){const m=this.editor.model.createPositionAfter(u);i.insertImage({...l,...s},m)}else i.insertImage({...l,...s})}))}}class Gx extends Ht{constructor(t){super(t),this.decorate("cleanupImage")}refresh(){const t=this.editor.plugins.get("ImageUtils"),e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(e),this.value=this.isEnabled?e.getAttribute("src"):null}execute(t){const e=this.editor.model.document.selection.getSelectedElement(),n=this.editor.plugins.get("ImageUtils");this.editor.model.change((i=>{i.setAttribute("src",t.source,e),this.cleanupImage(i,e),n.setImageNaturalSizeAttributes(e)}))}cleanupImage(t,e){t.removeAttribute("srcset",e),t.removeAttribute("sizes",e),t.removeAttribute("sources",e),t.removeAttribute("width",e),t.removeAttribute("height",e),t.removeAttribute("alt",e)}}class Qk extends ft{static get requires(){return[Di]}static get pluginName(){return"ImageEditing"}init(){const t=this.editor,e=t.conversion;t.editing.view.addObserver($A),e.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const n=new qx(t),i=new Gx(t);t.commands.add("insertImage",n),t.commands.add("replaceImageSource",i),t.commands.add("imageInsert",n)}}class ZA extends ft{static get requires(){return[Di]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(t){const e=this.editor,n=e.plugins.get("ImageUtils"),i=t==="imageBlock"?"figure":"img";function s(l,d,u,m){l.on(`attribute:${d}:${t}`,((g,k,_)=>{if(!_.consumable.consume(k.item,g.name))return;const v=_.writer,E=_.mapper.toViewElement(k.item),z=n.findViewImgElement(E);if(k.attributeNewValue!==null?v.setAttribute(u,k.attributeNewValue,z):v.removeAttribute(u,z),k.item.hasAttribute("sources"))return;const L=k.item.hasAttribute("resizedWidth");if(t==="imageInline"&&!L&&!m)return;const F=k.item.getAttribute("width"),G=k.item.getAttribute("height");F&&G&&v.setStyle("aspect-ratio",`${F}/${G}`,z)}))}e.conversion.for("upcast").attributeToAttribute({view:{name:i,styles:{width:/.+/}},model:{key:"width",value:l=>HA(l)?op(l.getStyle("width")):null}}).attributeToAttribute({view:{name:i,key:"width"},model:"width"}).attributeToAttribute({view:{name:i,styles:{height:/.+/}},model:{key:"height",value:l=>HA(l)?op(l.getStyle("height")):null}}).attributeToAttribute({view:{name:i,key:"height"},model:"height"}),e.conversion.for("editingDowncast").add((l=>{s(l,"width","width",!0),s(l,"height","height",!0)})),e.conversion.for("dataDowncast").add((l=>{s(l,"width","width",!1),s(l,"height","height",!1)}))}}class JA extends Ht{_modelElementName;constructor(t,e){super(t),this._modelElementName=e}refresh(){const t=this.editor.plugins.get("ImageUtils"),e=t.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=t.isInlineImage(e):this.isEnabled=t.isBlockImage(e)}execute(t={}){const e=this.editor,n=this.editor.model,i=e.plugins.get("ImageUtils"),s=i.getClosestSelectedImageElement(n.document.selection),l=Object.fromEntries(s.getAttributes());return l.src||l.uploadId?n.change((d=>{const{setImageSizes:u=!0}=t,m=Array.from(n.markers).filter((_=>_.getRange().containsItem(s))),g=i.insertImage(l,n.createSelection(s,"on"),this._modelElementName,{setImageSizes:u});if(!g)return null;const k=d.createRangeOn(g);for(const _ of m){const v=_.getRange(),E=v.root.rootName!="$graveyard"?v.getJoined(k,!0):k;d.updateMarker(_,{range:E})}return{oldElement:s,newElement:g}})):null}}var XA=D(7378),Kx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(XA.A,Kx),XA.A.locals;class t_ extends ft{static get requires(){return[Di]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const t=this.editor.model.schema;t.isRegistered("imageBlock")&&t.extend("imageBlock",{allowAttributes:["placeholder"]}),t.isRegistered("imageInline")&&t.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const t=this.editor,e=t.conversion,n=t.plugins.get("ImageUtils");e.for("editingDowncast").add((i=>{i.on("attribute:placeholder",((s,l,d)=>{if(!d.consumable.test(l.item,s.name)||!l.item.is("element","imageBlock")&&!l.item.is("element","imageInline"))return;d.consumable.consume(l.item,s.name);const u=d.writer,m=d.mapper.toViewElement(l.item),g=n.findViewImgElement(m);l.attributeNewValue?(u.addClass("image_placeholder",g),u.setStyle("background-image",`url(${l.attributeNewValue})`,g),u.setCustomProperty("editingPipeline:doNotReuseOnce",!0,g)):(u.removeClass("image_placeholder",g),u.removeStyle("background-image",g))}))}))}_setupLoadListener(){const t=this.editor,e=t.model,n=t.editing,i=n.view,s=t.plugins.get("ImageUtils");i.addObserver($A),this.listenTo(i.document,"imageLoaded",((l,d)=>{const u=i.domConverter.mapDomToView(d.target);if(!u)return;const m=s.getImageWidgetFromImageView(u);if(!m)return;const g=n.mapper.toModelElement(m);g&&g.hasAttribute("placeholder")&&e.enqueueChange({isUndoable:!1},(k=>{k.removeAttribute("placeholder",g)}))}))}}class e_ extends ft{static get requires(){return[Qk,ZA,Di,t_,io]}static get pluginName(){return"ImageBlockEditing"}init(){const t=this.editor;t.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),t.plugins.has("ImageInlineEditing")&&(t.commands.add("imageTypeBlock",new JA(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,n=t.conversion,i=t.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(s,{writer:l})=>VA(l)}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(s,{writer:l})=>i.toImageWidget(VA(l),l,e("image widget"))}),n.for("downcast").add(rp(i,"imageBlock","src")).add(rp(i,"imageBlock","alt")).add(WA(i,"imageBlock")),n.for("upcast").elementToElement({view:UA(t,"imageBlock"),model:(s,{writer:l})=>l.createElement("imageBlock",s.hasAttribute("src")?{src:s.getAttribute("src")}:void 0)}).add((function(s){const l=(d,u,m)=>{if(!m.consumable.test(u.viewItem,{name:!0,classes:"image"}))return;const g=s.findViewImgElement(u.viewItem);if(!g||!m.consumable.test(g,{name:!0}))return;m.consumable.consume(u.viewItem,{name:!0,classes:"image"});const k=Ye(m.convertItem(g,u.modelCursor).modelRange.getItems());k?(m.convertChildren(u.viewItem,k),m.updateConversionResult(k,u)):m.consumable.revert(u.viewItem,{name:!0,classes:"image"})};return d=>{d.on("element:figure",l)}})(i))}_setupClipboardIntegration(){const t=this.editor,e=t.model,n=t.editing.view,i=t.plugins.get("ImageUtils"),s=t.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",((l,d)=>{const u=Array.from(d.content.getChildren());let m;if(!u.every(i.isInlineImageView))return;m=d.targetRanges?t.editing.mapper.toModelRange(d.targetRanges[0]):e.document.selection.getFirstRange();const g=e.createSelection(m);if(Yk(e.schema,g)==="imageBlock"){const k=new no(n.document),_=u.map((v=>k.createElement("figure",{class:"image"},v)));d.content=k.createDocumentFragment(_)}})),this.listenTo(s,"contentInsertion",((l,d)=>{d.method==="paste"&&e.change((u=>{const m=u.createRangeIn(d.content);for(const g of m.getItems())g.is("element","imageBlock")&&i.setImageNaturalSizeAttributes(g)}))}))}}var n_=D(3350),Yx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(n_.A,Yx),n_.A.locals;class Qx extends It{focusTracker;keystrokes;_focusables;_focusCycler;children;constructor(t,e=[]){super(t),this.focusTracker=new Qe,this.keystrokes=new cn,this._focusables=new kn,this.children=this.createCollection(),this._focusCycler=new $n({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const n of e)this.children.add(n),this._focusables.add(n),n instanceof Tr&&this._focusables.addMany(n.children);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),ea({view:this});for(const e of this._focusables)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element);const t=e=>e.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}class i_ extends ft{static get pluginName(){return"ImageInsertUI"}static get requires(){return[Di]}dropdownView;_integrations=new Map;constructor(t){super(t),t.config.define("image.insert.integrations",["upload","assetManager","url"])}init(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(t.model.document,"change",(()=>{this.isImageSelected=n.isImage(e.getSelectedElement())}));const i=s=>this._createToolbarComponent(s);t.ui.componentFactory.add("insertImage",i),t.ui.componentFactory.add("imageInsert",i),t.ui.componentFactory.add("menuBar:insertImage",(s=>this._createMenuBarComponent(s)))}registerIntegration({name:t,observable:e,buttonViewCreator:n,formViewCreator:i,menuBarButtonViewCreator:s,requiresForm:l=!1}){this._integrations.has(t)&&Bt("image-insert-integration-exists",{name:t}),this._integrations.set(t,{observable:e,buttonViewCreator:n,menuBarButtonViewCreator:s,formViewCreator:i,requiresForm:l})}_createToolbarComponent(t){const e=this.editor,n=t.t,i=this._prepareIntegrations();if(!i.length)return null;let s;const l=i[0];if(i.length==1){if(!l.requiresForm)return l.buttonViewCreator(!0);s=l.buttonViewCreator(!0)}else{const m=l.buttonViewCreator(!1);s=new ot(t,m),s.tooltip=!0,s.bind("label").to(this,"isImageSelected",(g=>n(g?"Replace image":"Insert image")))}const d=this.dropdownView=K(t,s),u=i.map((({observable:m})=>typeof m=="function"?m():m));return d.bind("isEnabled").toMany(u,"isEnabled",((...m)=>m.some((g=>g)))),d.once("change:isOpen",(()=>{const m=i.map((({formViewCreator:k})=>k(i.length==1))),g=new Qx(e.locale,m);d.panelView.children.add(g)})),d}_createMenuBarComponent(t){const e=t.t,n=this._prepareIntegrations();if(!n.length)return null;let i;const s=n[0];if(n.length==1)i=s.menuBarButtonViewCreator(!0);else{i=new za(t);const l=new qg(t);i.panelView.children.add(l),i.buttonView.set({icon:St.image,label:e("Image")});for(const d of n){const u=new Hg(t,i),m=d.menuBarButtonViewCreator(!1);u.children.add(m),l.items.add(u)}}return i}_prepareIntegrations(){const t=this.editor.config.get("image.insert.integrations"),e=[];if(!t.length)return Bt("image-insert-integrations-not-specified"),e;for(const n of t)this._integrations.has(n)?e.push(this._integrations.get(n)):["upload","assetManager","url"].includes(n)||Bt("image-insert-unknown-integration",{item:n});return e.length||Bt("image-insert-integrations-not-registered"),e}}var o_=D(265),Wx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(o_.A,Wx),o_.A.locals;class $x extends ft{static get requires(){return[e_,gm,QA,i_]}static get pluginName(){return"ImageBlock"}}class Zx extends ft{static get requires(){return[Qk,ZA,Di,t_,io]}static get pluginName(){return"ImageInlineEditing"}init(){const t=this.editor;t.model.schema.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"],disallowIn:["caption"]}),this._setupConversion(),t.plugins.has("ImageBlockEditing")&&(t.commands.add("imageTypeInline",new JA(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,n=t.conversion,i=t.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(s,{writer:l})=>l.createEmptyElement("img")}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(s,{writer:l})=>i.toImageWidget((function(d){return d.createContainerElement("span",{class:"image-inline"},d.createEmptyElement("img"))})(l),l,e("image widget"))}),n.for("downcast").add(rp(i,"imageInline","src")).add(rp(i,"imageInline","alt")).add(WA(i,"imageInline")),n.for("upcast").elementToElement({view:UA(t,"imageInline"),model:(s,{writer:l})=>l.createElement("imageInline",s.hasAttribute("src")?{src:s.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const t=this.editor,e=t.model,n=t.editing.view,i=t.plugins.get("ImageUtils"),s=t.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",((l,d)=>{const u=Array.from(d.content.getChildren());let m;if(!u.every(i.isBlockImageView))return;m=d.targetRanges?t.editing.mapper.toModelRange(d.targetRanges[0]):e.document.selection.getFirstRange();const g=e.createSelection(m);if(Yk(e.schema,g)==="imageInline"){const k=new no(n.document),_=u.map((v=>v.childCount===1?(Array.from(v.getAttributes()).forEach((E=>k.setAttribute(...E,i.findViewImgElement(v)))),v.getChild(0)):v));d.content=k.createDocumentFragment(_)}})),this.listenTo(s,"contentInsertion",((l,d)=>{d.method==="paste"&&e.change((u=>{const m=u.createRangeIn(d.content);for(const g of m.getItems())g.is("element","imageInline")&&i.setImageNaturalSizeAttributes(g)}))}))}}class Jx extends ft{static get requires(){return[Zx,gm,QA,i_]}static get pluginName(){return"ImageInline"}}class Xx extends ft{static get requires(){return[$x,Jx]}static get pluginName(){return"Image"}}class r_ extends ft{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Di]}getCaptionFromImageModelElement(t){for(const e of t.getChildren())if(e&&e.is("element","caption"))return e;return null}getCaptionFromModelSelection(t){const e=this.editor.plugins.get("ImageUtils"),n=t.getFirstPosition().findAncestor("caption");return n&&e.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(t){const e=this.editor.plugins.get("ImageUtils");return t.name=="figcaption"&&e.isBlockImageView(t.parent)?{name:!0}:null}}class tE extends Ht{refresh(){const t=this.editor,e=t.plugins.get("ImageCaptionUtils"),n=t.plugins.get("ImageUtils");if(!t.plugins.has(e_))return this.isEnabled=!1,void(this.value=!1);const i=t.model.document.selection,s=i.getSelectedElement();if(!s){const l=e.getCaptionFromModelSelection(i);return this.isEnabled=!!l,void(this.value=!!l)}this.isEnabled=n.isImage(s),this.isEnabled?this.value=!!e.getCaptionFromImageModelElement(s):this.value=!1}execute(t={}){const{focusCaptionOnShow:e}=t;this.editor.model.change((n=>{this.value?this._hideImageCaption(n):this._showImageCaption(n,e)}))}_showImageCaption(t,e){const n=this.editor.model.document.selection,i=this.editor.plugins.get("ImageCaptionEditing"),s=this.editor.plugins.get("ImageUtils");let l=n.getSelectedElement();const d=i._getSavedCaption(l);s.isInlineImage(l)&&(this.editor.execute("imageTypeBlock"),l=n.getSelectedElement());const u=d||t.createElement("caption");t.append(u,l),e&&t.setSelection(u,"in")}_hideImageCaption(t){const e=this.editor,n=e.model.document.selection,i=e.plugins.get("ImageCaptionEditing"),s=e.plugins.get("ImageCaptionUtils");let l,d=n.getSelectedElement();d?l=s.getCaptionFromImageModelElement(d):(l=s.getCaptionFromModelSelection(n),d=l.parent),i._saveCaption(d,l),t.setSelection(d,"on"),t.remove(l)}}class eE extends ft{static get requires(){return[Di,r_]}static get pluginName(){return"ImageCaptionEditing"}_savedCaptionsMap;constructor(t){super(t),this._savedCaptionsMap=new WeakMap}init(){const t=this.editor,e=t.model.schema;e.isRegistered("caption")?e.extend("caption",{allowIn:"imageBlock"}):e.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),t.commands.add("toggleImageCaption",new tE(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const t=this.editor,e=t.editing.view,n=t.plugins.get("ImageUtils"),i=t.plugins.get("ImageCaptionUtils"),s=t.t;t.conversion.for("upcast").elementToElement({view:l=>i.matchImageCaptionViewElement(l),model:"caption"}),t.conversion.for("dataDowncast").elementToElement({model:"caption",view:(l,{writer:d})=>n.isBlockImage(l.parent)?d.createContainerElement("figcaption"):null}),t.conversion.for("editingDowncast").elementToElement({model:"caption",view:(l,{writer:d})=>{if(!n.isBlockImage(l.parent))return null;const u=d.createEditableElement("figcaption");d.setCustomProperty("imageCaption",!0,u),u.placeholder=s("Enter image caption"),_o({view:e,element:u,keepOnFocus:!0});const m=l.parent.getAttribute("alt");return $w(u,d,{label:m?s("Caption for image: %0",[m]):s("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const t=this.editor,e=t.plugins.get("ImageUtils"),n=t.plugins.get("ImageCaptionUtils"),i=t.commands.get("imageTypeInline"),s=t.commands.get("imageTypeBlock"),l=d=>{if(!d.return)return;const{oldElement:u,newElement:m}=d.return;if(!u)return;if(e.isBlockImage(u)){const k=n.getCaptionFromImageModelElement(u);if(k)return void this._saveCaption(m,k)}const g=this._getSavedCaption(u);g&&this._saveCaption(m,g)};i&&this.listenTo(i,"execute",l,{priority:"low"}),s&&this.listenTo(s,"execute",l,{priority:"low"})}_getSavedCaption(t){const e=this._savedCaptionsMap.get(t);return e?be.fromJSON(e):null}_saveCaption(t,e){this._savedCaptionsMap.set(t,e.toJSON())}_registerCaptionReconversion(){const t=this.editor,e=t.model,n=t.plugins.get("ImageUtils"),i=t.plugins.get("ImageCaptionUtils");e.document.on("change:data",(()=>{const s=e.document.differ.getChanges();for(const l of s){if(l.attributeKey!=="alt")continue;const d=l.range.start.nodeAfter;if(n.isBlockImage(d)){const u=i.getCaptionFromImageModelElement(d);if(!u)return;t.editing.reconvertItem(u)}}}))}}class nE extends ft{static get requires(){return[r_]}static get pluginName(){return"ImageCaptionUI"}init(){const t=this.editor,e=t.editing.view,n=t.plugins.get("ImageCaptionUtils"),i=t.t;t.ui.componentFactory.add("toggleImageCaption",(s=>{const l=t.commands.get("toggleImageCaption"),d=new ee(s);return d.set({icon:St.caption,tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(l,"value","isEnabled"),d.bind("label").to(l,"value",(u=>i(u?"Toggle caption off":"Toggle caption on"))),this.listenTo(d,"execute",(()=>{t.execute("toggleImageCaption",{focusCaptionOnShow:!0});const u=n.getCaptionFromModelSelection(t.model.document.selection);if(u){const m=t.editing.mapper.toViewElement(u);e.scrollToTheSelection(),e.change((g=>{g.addClass("image__caption_highlighted",m)}))}t.editing.view.focus()})),d}))}}var s_=D(5247),iE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(s_.A,iE),s_.A.locals;class oE extends ft{static get requires(){return[eE,nE]}static get pluginName(){return"ImageCaption"}}function a_(o){const t=o.map((e=>e.replace("+","\\+")));return new RegExp(`^image\\/(${t.join("|")})$`)}function rE(o){return new Promise(((t,e)=>{const n=o.getAttribute("src");fetch(n).then((i=>i.blob())).then((i=>{const s=l_(i,n),l=s.replace("image/",""),d=new File([i],`image.${l}`,{type:s});t(d)})).catch((i=>i&&i.name==="TypeError"?(function(s){return(function(l){return new Promise(((d,u)=>{const m=S.document.createElement("img");m.addEventListener("load",(()=>{const g=S.document.createElement("canvas");g.width=m.width,g.height=m.height,g.getContext("2d").drawImage(m,0,0),g.toBlob((k=>k?d(k):u()))})),m.addEventListener("error",(()=>u())),m.src=l}))})(s).then((l=>{const d=l_(l,s),u=d.replace("image/","");return new File([l],`image.${u}`,{type:d})}))})(n).then(t).catch(e):e(i)))}))}function l_(o,t){return o.type?o.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class sE extends ft{static get pluginName(){return"ImageUploadUI"}init(){const t=this.editor;t.ui.componentFactory.add("uploadImage",(()=>this._createToolbarButton())),t.ui.componentFactory.add("imageUpload",(()=>this._createToolbarButton())),t.ui.componentFactory.add("menuBar:uploadImage",(()=>this._createMenuBarButton("standalone"))),t.plugins.has("ImageInsertUI")&&t.plugins.get("ImageInsertUI").registerIntegration({name:"upload",observable:()=>t.commands.get("uploadImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:e=>this._createMenuBarButton(e?"insertOnly":"insertNested")})}_createButton(t){const e=this.editor,n=e.locale,i=e.commands.get("uploadImage"),s=e.config.get("image.upload.types"),l=a_(s),d=new t(e.locale),u=n.t;return d.set({acceptedType:s.map((m=>`image/${m}`)).join(","),allowMultipleFiles:!0,label:u("Upload from computer"),icon:St.imageUpload}),d.bind("isEnabled").to(i),d.on("done",((m,g)=>{const k=Array.from(g).filter((_=>l.test(_.type)));k.length&&(e.execute("uploadImage",{file:k}),e.editing.view.focus())})),d}_createToolbarButton(){const t=this.editor.locale.t,e=this.editor.plugins.get("ImageInsertUI"),n=this._createButton(Ba);return n.tooltip=!0,n.bind("label").to(e,"isImageSelected",(i=>t(i?"Replace image from computer":"Upload image from computer"))),n}_createDropdownButton(){const t=this.editor.locale.t,e=this.editor.plugins.get("ImageInsertUI"),n=this._createButton(Ba);return n.withText=!0,n.bind("label").to(e,"isImageSelected",(i=>t(i?"Replace from computer":"Upload from computer"))),n.on("execute",(()=>{e.dropdownView.isOpen=!1})),n}_createMenuBarButton(t){const e=this.editor.locale.t,n=this._createButton(_w);switch(n.withText=!0,t){case"standalone":n.label=e("Image from computer");break;case"insertOnly":n.label=e("Image");break;case"insertNested":n.label=e("From computer")}return n}}var c_=D(2267),aE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(c_.A,aE),c_.A.locals;var d_=D(7693),lE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(d_.A,lE),d_.A.locals;var u_=D(1559),cE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(u_.A,cE),u_.A.locals;class dE extends ft{static get pluginName(){return"ImageUploadProgress"}placeholder;constructor(t){super(t),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const t=this.editor;t.plugins.has("ImageBlockEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),t.plugins.has("ImageInlineEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}uploadStatusChange=(t,e,n)=>{const i=this.editor,s=e.item,l=s.getAttribute("uploadId");if(!n.consumable.consume(e.item,t.name))return;const d=i.plugins.get("ImageUtils"),u=i.plugins.get(Po),m=l?e.attributeNewValue:null,g=this.placeholder,k=i.editing.mapper.toViewElement(s),_=n.writer;if(m=="reading")return h_(k,_),void m_(d,g,k,_);if(m=="uploading"){const v=u.loaders.get(l);return h_(k,_),void(v?(f_(k,_),(function(E,z,L,F){const G=(function(X){const lt=X.createUIElement("div",{class:"ck-progress-bar"});return X.setCustomProperty("progressBar",!0,lt),lt})(z);z.insert(z.createPositionAt(E,"end"),G),L.on("change:uploadedPercent",((X,lt,vt)=>{F.change((jt=>{jt.setStyle("width",vt+"%",G)}))}))})(k,_,v,i.editing.view),(function(E,z,L,F){if(F.data){const G=E.findViewImgElement(z);L.setAttribute("src",F.data,G)}})(d,k,_,v)):m_(d,g,k,_))}m=="complete"&&u.loaders.get(l)&&(function(v,E,z){const L=E.createUIElement("div",{class:"ck-image-upload-complete-icon"});E.insert(E.createPositionAt(v,"end"),L),setTimeout((()=>{z.change((F=>F.remove(F.createRangeOn(L))))}),3e3)})(k,_,i.editing.view),(function(v,E){p_(v,E,"progressBar")})(k,_),f_(k,_),(function(v,E){E.removeClass("ck-appear",v)})(k,_)}}function h_(o,t){o.hasClass("ck-appear")||t.addClass("ck-appear",o)}function m_(o,t,e,n){e.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",e);const i=o.findViewImgElement(e);i.getAttribute("src")!==t&&n.setAttribute("src",t,i),g_(e,"placeholder")||n.insert(n.createPositionAfter(i),(function(s){const l=s.createUIElement("div",{class:"ck-upload-placeholder-loader"});return s.setCustomProperty("placeholder",!0,l),l})(n))}function f_(o,t){o.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",o),p_(o,t,"placeholder")}function g_(o,t){for(const e of o.getChildren())if(e.getCustomProperty(t))return e}function p_(o,t,e){const n=g_(o,e);n&&t.remove(t.createRangeOn(n))}class uE extends Ht{refresh(){const t=this.editor,e=t.plugins.get("ImageUtils"),n=t.model.document.selection.getSelectedElement();this.isEnabled=e.isImageAllowed()||e.isImage(n)}execute(t){const e=Yt(t.file),n=this.editor.model.document.selection,i=this.editor.plugins.get("ImageUtils"),s=Object.fromEntries(n.getAttributes());e.forEach(((l,d)=>{const u=n.getSelectedElement();if(d&&u&&i.isImage(u)){const m=this.editor.model.createPositionAfter(u);this._uploadImage(l,s,m)}else this._uploadImage(l,s)}))}_uploadImage(t,e,n){const i=this.editor,s=i.plugins.get(Po).createLoader(t),l=i.plugins.get("ImageUtils");s&&l.insertImage({...e,uploadId:s.id},n)}}class hE extends ft{static get requires(){return[Po,jk,io,Di]}static get pluginName(){return"ImageUploadEditing"}_uploadImageElements;constructor(t){super(t),t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const t=this.editor,e=t.model.document,n=t.conversion,i=t.plugins.get(Po),s=t.plugins.get("ImageUtils"),l=t.plugins.get("ClipboardPipeline"),d=a_(t.config.get("image.upload.types")),u=new uE(t);t.commands.add("uploadImage",u),t.commands.add("imageUpload",u),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",((m,g)=>{if(k=g.dataTransfer,Array.from(k.types).includes("text/html")&&k.getData("text/html")!=="")return;var k;const _=Array.from(g.dataTransfer.files).filter((v=>!!v&&d.test(v.type)));_.length&&(m.stop(),t.model.change((v=>{g.targetRanges&&v.setSelection(g.targetRanges.map((E=>t.editing.mapper.toModelRange(E)))),t.execute("uploadImage",{file:_})})))})),this.listenTo(l,"inputTransformation",((m,g)=>{const k=Array.from(t.editing.view.createRangeIn(g.content)).map((v=>v.item)).filter((v=>(function(E,z){return!(!E.isInlineImageView(z)||!z.getAttribute("src")||!z.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!z.getAttribute("src").match(/^blob:/g))})(s,v)&&!v.getAttribute("uploadProcessed"))).map((v=>({promise:rE(v),imageElement:v})));if(!k.length)return;const _=new no(t.editing.view.document);for(const v of k){_.setAttribute("uploadProcessed",!0,v.imageElement);const E=i.createLoader(v.promise);E&&(_.setAttribute("src","",v.imageElement),_.setAttribute("uploadId",E.id,v.imageElement))}})),t.editing.view.document.on("dragover",((m,g)=>{g.preventDefault()})),e.on("change",(()=>{const m=e.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),g=new Set;for(const k of m)if(k.type=="insert"&&k.name!="$text"){const _=k.position.nodeAfter,v=k.position.root.rootName=="$graveyard";for(const E of mE(t,_)){const z=E.getAttribute("uploadId");if(!z)continue;const L=i.loaders.get(z);L&&(v?g.has(z)||L.abort():(g.add(z),this._uploadImageElements.set(z,E),L.status=="idle"&&this._readAndUpload(L)))}}})),this.on("uploadComplete",((m,{imageElement:g,data:k})=>{const _=k.urls?k.urls:k;this.editor.model.change((v=>{v.setAttribute("src",_.default,g),this._parseAndSetSrcsetAttributeOnImage(_,g,v),s.setImageNaturalSizeAttributes(g)}))}),{priority:"low"})}afterInit(){const t=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&t.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(t){const e=this.editor,n=e.model,i=e.locale.t,s=e.plugins.get(Po),l=e.plugins.get(jk),d=e.plugins.get("ImageUtils"),u=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},(g=>{g.setAttribute("uploadStatus","reading",u.get(t.id))})),t.read().then((()=>{const g=t.upload(),k=u.get(t.id);if(N.isSafari){const _=e.editing.mapper.toViewElement(k),v=d.findViewImgElement(_);e.editing.view.once("render",(()=>{if(!v.parent)return;const E=e.editing.view.domConverter.mapViewToDom(v.parent);if(!E)return;const z=E.style.display;E.style.display="none",E._ckHack=E.offsetHeight,E.style.display=z}))}return e.ui&&e.ui.ariaLiveAnnouncer.announce(i("Uploading image")),n.enqueueChange({isUndoable:!1},(_=>{_.setAttribute("uploadStatus","uploading",k)})),g})).then((g=>{n.enqueueChange({isUndoable:!1},(k=>{const _=u.get(t.id);k.setAttribute("uploadStatus","complete",_),e.ui&&e.ui.ariaLiveAnnouncer.announce(i("Image upload complete")),this.fire("uploadComplete",{data:g,imageElement:_})})),m()})).catch((g=>{if(e.ui&&e.ui.ariaLiveAnnouncer.announce(i("Error during image upload")),t.status!=="error"&&t.status!=="aborted")throw g;t.status=="error"&&g&&l.showWarning(g,{title:i("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},(k=>{k.remove(u.get(t.id))})),m()}));function m(){n.enqueueChange({isUndoable:!1},(g=>{const k=u.get(t.id);g.removeAttribute("uploadId",k),g.removeAttribute("uploadStatus",k),u.delete(t.id)})),s.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,e,n){let i=0;const s=Object.keys(t).filter((l=>{const d=parseInt(l,10);if(!isNaN(d))return i=Math.max(i,d),!0})).map((l=>`${t[l]} ${l}w`)).join(", ");if(s!=""){const l={srcset:s};e.hasAttribute("width")||e.hasAttribute("height")||(l.width=i),n.setAttributes(l,e)}}}function mE(o,t){const e=o.plugins.get("ImageUtils");return Array.from(o.model.createRangeOn(t)).filter((n=>e.isImage(n.item))).map((n=>n.item))}class fE extends ft{static get pluginName(){return"ImageUpload"}static get requires(){return[hE,sE,dE]}}var k_=D(4642),gE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(k_.A,gE),k_.A.locals;var b_=D(3469),pE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(b_.A,pE),b_.A.locals;class kE extends Ht{_defaultStyles;_styles;constructor(t,e){super(t),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(e.map((n=>{if(n.isDefault)for(const i of n.modelElements)this._defaultStyles[i]=n.name;return[n.name,n]})))}refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled?t.hasAttribute("imageStyle")?this.value=t.getAttribute("imageStyle"):this.value=this._defaultStyles[t.name]:this.value=!1}execute(t={}){const e=this.editor,n=e.model,i=e.plugins.get("ImageUtils");n.change((s=>{const l=t.value,{setImageSizes:d=!0}=t;let u=i.getClosestSelectedImageElement(n.document.selection);l&&this.shouldConvertImageType(l,u)&&(this.editor.execute(i.isBlockImage(u)?"imageTypeInline":"imageTypeBlock",{setImageSizes:d}),u=i.getClosestSelectedImageElement(n.document.selection)),!l||this._styles.get(l).isDefault?s.removeAttribute("imageStyle",u):s.setAttribute("imageStyle",l,u),d&&i.setImageNaturalSizeAttributes(u)}))}shouldConvertImageType(t,e){return!this._styles.get(t).modelElements.includes(e.name)}}const sp={get inline(){return{name:"inline",title:"In line",icon:St.objectInline,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:St.objectLeft,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:St.objectBlockLeft,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:St.objectCenter,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:St.objectRight,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:St.objectBlockRight,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:St.objectCenter,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:St.objectRight,modelElements:["imageBlock"],className:"image-style-side"}}},w_={full:St.objectFullWidth,left:St.objectBlockLeft,right:St.objectBlockRight,center:St.objectCenter,inlineLeft:St.objectLeft,inlineRight:St.objectRight,inline:St.objectInline},A_=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function __(o){Bt("image-style-configuration-definition-invalid",o)}const Wk={normalizeStyles:function(o){return(o.configuredStyles.options||[]).map((t=>(function(e){return e=typeof e=="string"?sp[e]?{...sp[e]}:{name:e}:(function(n,i){const s={...i};for(const l in n)Object.prototype.hasOwnProperty.call(i,l)||(s[l]=n[l]);return s})(sp[e.name],e),typeof e.icon=="string"&&(e.icon=w_[e.icon]||e.icon),e})(t))).filter((t=>(function(e,{isBlockPluginLoaded:n,isInlinePluginLoaded:i}){const{modelElements:s,name:l}=e;if(!(s&&s.length&&l))return __({style:e}),!1;{const d=[n?"imageBlock":null,i?"imageInline":null];if(!s.some((u=>d.includes(u))))return Bt("image-style-missing-dependency",{style:e,missingPlugins:s.map((u=>u==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing"))}),!1}return!0})(t,o)))},getDefaultStylesConfiguration:function(o,t){return o&&t?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:o?{options:["block","side"]}:t?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(o){return o.has("ImageBlockEditing")&&o.has("ImageInlineEditing")?[...A_]:[]},warnInvalidStyle:__,DEFAULT_OPTIONS:sp,DEFAULT_ICONS:w_,DEFAULT_DROPDOWN_DEFINITIONS:A_};function C_(o,t){for(const e of t)if(e.name===o)return e}class v_ extends ft{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Di]}normalizedStyles;init(){const{normalizeStyles:t,getDefaultStylesConfiguration:e}=Wk,n=this.editor,i=n.plugins.has("ImageBlockEditing"),s=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",e(i,s)),this.normalizedStyles=t({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:i,isInlinePluginLoaded:s}),this._setupConversion(i,s),this._setupPostFixer(),n.commands.add("imageStyle",new kE(n,this.normalizedStyles))}_setupConversion(t,e){const n=this.editor,i=n.model.schema,s=(l=this.normalizedStyles,(u,m,g)=>{if(!g.consumable.consume(m.item,u.name))return;const k=C_(m.attributeNewValue,l),_=C_(m.attributeOldValue,l),v=g.mapper.toViewElement(m.item),E=g.writer;_&&E.removeClass(_.className,v),k&&E.addClass(k.className,v)});var l;const d=(function(u){const m={imageInline:u.filter((g=>!g.isDefault&&g.modelElements.includes("imageInline"))),imageBlock:u.filter((g=>!g.isDefault&&g.modelElements.includes("imageBlock")))};return(g,k,_)=>{if(!k.modelRange)return;const v=k.viewItem,E=Ye(k.modelRange.getItems());if(E&&_.schema.checkAttribute(E,"imageStyle"))for(const z of m[E.name])_.consumable.consume(v,{classes:z.className})&&_.writer.setAttribute("imageStyle",z.name,E)}})(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",s),n.data.downcastDispatcher.on("attribute:imageStyle",s),t&&(i.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",d,{priority:"low"})),e&&(i.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",d,{priority:"low"}))}_setupPostFixer(){const t=this.editor,e=t.model.document,n=t.plugins.get(Di),i=new Map(this.normalizedStyles.map((s=>[s.name,s])));e.registerPostFixer((s=>{let l=!1;for(const d of e.differ.getChanges())if(d.type=="insert"||d.type=="attribute"&&d.attributeKey=="imageStyle"){let u=d.type=="insert"?d.position.nodeAfter:d.range.start.nodeAfter;if(u&&u.is("element","paragraph")&&u.childCount>0&&(u=u.getChild(0)),!n.isImage(u))continue;const m=u.getAttribute("imageStyle");if(!m)continue;const g=i.get(m);g&&g.modelElements.includes(u.name)||(s.removeAttribute("imageStyle",u),l=!0)}return l}))}}var y_=D(6386),bE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(y_.A,bE),y_.A.locals;class wE extends ft{static get requires(){return[v_]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Wrap text":t("Wrap text"),"Break text":t("Break text"),"In line":t("In line"),"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}init(){const t=this.editor.plugins,e=this.editor.config.get("image.toolbar")||[],n=x_(t.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const s of n)this._createButton(s);const i=x_([...e.filter(xe),...Wk.getDefaultDropdownDefinitions(t)],this.localizedDefaultStylesTitles);for(const s of i)this._createDropdown(s,n)}_createDropdown(t,e){const n=this.editor.ui.componentFactory;n.add(t.name,(i=>{let s;const{defaultItem:l,items:d,title:u}=t,m=d.filter((v=>e.find((({name:E})=>E_(E)===v)))).map((v=>{const E=n.create(v);return v===l&&(s=E),E}));d.length!==m.length&&Wk.warnInvalidStyle({dropdown:t});const g=K(i,ot),k=g.buttonView,_=k.arrowView;return J(g,m,{enableActiveItemFocusOnDropdownOpen:!0}),k.set({label:D_(u,s.label),class:null,tooltip:!0}),_.unbind("label"),_.set({label:u}),k.bind("icon").toMany(m,"isOn",((...v)=>{const E=v.findIndex(_i);return E<0?s.icon:m[E].icon})),k.bind("label").toMany(m,"isOn",((...v)=>{const E=v.findIndex(_i);return D_(u,E<0?s.label:m[E].label)})),k.bind("isOn").toMany(m,"isOn",((...v)=>v.some(_i))),k.bind("class").toMany(m,"isOn",((...v)=>v.some(_i)?"ck-splitbutton_flatten":void 0)),k.on("execute",(()=>{m.some((({isOn:v})=>v))?g.isOpen=!g.isOpen:s.fire("execute")})),g.bind("isEnabled").toMany(m,"isEnabled",((...v)=>v.some(_i))),this.listenTo(g,"execute",(()=>{this.editor.editing.view.focus()})),g}))}_createButton(t){const e=t.name;this.editor.ui.componentFactory.add(E_(e),(n=>{const i=this.editor.commands.get("imageStyle"),s=new ee(n);return s.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),s.bind("isEnabled").to(i,"isEnabled"),s.bind("isOn").to(i,"value",(l=>l===e)),s.on("execute",this._executeCommand.bind(this,e)),s}))}_executeCommand(t){this.editor.execute("imageStyle",{value:t}),this.editor.editing.view.focus()}}function x_(o,t){for(const e of o)t[e.title]&&(e.title=t[e.title]);return o}function E_(o){return`imageStyle:${o}`}function D_(o,t){return(o?o+": ":"")+t}class AE extends ft{static get requires(){return[v_,wE]}static get pluginName(){return"ImageStyle"}}class _E extends ft{static get requires(){return[$g,Di]}static get pluginName(){return"ImageToolbar"}afterInit(){const t=this.editor,e=t.t,n=t.plugins.get($g),i=t.plugins.get("ImageUtils");var s;n.register("image",{ariaLabel:e("Image toolbar"),items:(s=t.config.get("image.toolbar")||[],s.map((l=>xe(l)?l.name:l))),getRelatedElement:l=>i.getClosestSelectedImageWidget(l)})}}class CE extends ft{static get requires(){return[Qk,Di]}static get pluginName(){return"PictureEditing"}afterInit(){const t=this.editor;t.plugins.has("ImageBlockEditing")&&t.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),t.plugins.has("ImageInlineEditing")&&t.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const t=this.editor,e=t.conversion,n=t.plugins.get("ImageUtils");e.for("upcast").add((function(i){const s=["srcset","media","type","sizes"],l=(d,u,m)=>{const g=u.viewItem;if(!m.consumable.test(g,{name:!0}))return;const k=new Map;for(const E of g.getChildren())if(E.is("element","source")){const z={};for(const L of s)E.hasAttribute(L)&&m.consumable.test(E,{attributes:L})&&(z[L]=E.getAttribute(L));Object.keys(z).length&&k.set(E,z)}const _=i.findViewImgElement(g);if(!_)return;let v=u.modelCursor.parent;if(!v.is("element","imageBlock")){const E=m.convertItem(_,u.modelCursor);u.modelRange=E.modelRange,u.modelCursor=E.modelCursor,v=Ye(E.modelRange.getItems())}m.consumable.consume(g,{name:!0});for(const[E,z]of k)m.consumable.consume(E,{attributes:Object.keys(z)});k.size&&m.writer.setAttribute("sources",Array.from(k.values()),v),m.convertChildren(g,v)};return d=>{d.on("element:picture",l)}})(n)),e.for("downcast").add((function(i){const s=(l,d,u)=>{if(!u.consumable.consume(d.item,l.name))return;const m=u.writer,g=u.mapper.toViewElement(d.item),k=i.findViewImgElement(g),_=d.attributeNewValue;if(_&&_.length){const v=m.createContainerElement("picture",null,_.map((L=>m.createEmptyElement("source",L)))),E=[];let z=k.parent;for(;z&&z.is("attributeElement");){const L=z.parent;m.unwrap(m.createRangeOn(k),z),E.unshift(z),z=L}m.insert(m.createPositionBefore(k),v),m.move(m.createRangeOn(k),m.createPositionAt(v,"end"));for(const L of E)m.wrap(m.createRangeOn(v),L)}else if(k.parent.is("element","picture")){const v=k.parent;m.move(m.createRangeOn(k),m.createPositionBefore(v)),m.remove(v)}};return l=>{l.on("attribute:sources:imageBlock",s),l.on("attribute:sources:imageInline",s)}})(n))}_setupImageUploadEditingIntegration(){const t=this.editor;if(!t.plugins.has("ImageUploadEditing"))return;const e=t.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",((n,{imageElement:i,data:s})=>{const l=s.sources;l&&t.model.change((d=>{d.setAttributes({sources:l},i)}))}))}}class vE extends ft{static get pluginName(){return"IndentEditing"}init(){const t=this.editor;t.commands.add("indent",new fl(t)),t.commands.add("outdent",new fl(t))}}class yE extends ft{static get pluginName(){return"IndentUI"}init(){const t=this.editor,e=t.locale,n=t.t,i=e.uiLanguageDirection=="ltr"?St.indent:St.outdent,s=e.uiLanguageDirection=="ltr"?St.outdent:St.indent;this._defineButton("indent",n("Increase indent"),i),this._defineButton("outdent",n("Decrease indent"),s)}_defineButton(t,e,n){const i=this.editor;i.ui.componentFactory.add(t,(()=>{const s=this._createButton(ee,t,e,n);return s.set({tooltip:!0}),s})),i.ui.componentFactory.add("menuBar:"+t,(()=>this._createButton(Ze,t,e,n)))}_createButton(t,e,n,i){const s=this.editor,l=s.commands.get(e),d=new t(s.locale);return d.set({label:n,icon:i}),d.bind("isEnabled").to(l,"isEnabled"),this.listenTo(d,"execute",(()=>{s.execute(e),s.editing.view.focus()})),d}}class xE extends ft{static get pluginName(){return"Indent"}static get requires(){return[vE,yE]}}class EE{_definitions=new Set;get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach((e=>this._definitions.add(e))):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",((e,n,i)=>{if(!i.consumable.test(n.item,"attribute:linkHref")||!n.item.is("selection")&&!i.schema.isInline(n.item))return;const s=i.writer,l=s.document.selection;for(const d of this._definitions){const u=s.createAttributeElement("a",d.attributes,{priority:5});d.classes&&s.addClass(d.classes,u);for(const m in d.styles)s.setStyle(m,d.styles[m],u);s.setCustomProperty("link",!0,u),d.callback(n.attributeNewValue)?n.item.is("selection")?s.wrap(l.getFirstRange(),u):s.wrap(i.mapper.toViewRange(n.range),u):s.unwrap(i.mapper.toViewRange(n.range),u)}}),{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:imageBlock",((e,n,{writer:i,mapper:s})=>{const l=s.toViewElement(n.item),d=Array.from(l.getChildren()).find((u=>u.is("element","a")));for(const u of this._definitions){const m=Ci(u.attributes);if(u.callback(n.attributeNewValue)){for(const[g,k]of m)g==="class"?i.addClass(k,d):i.setAttribute(g,k,d);u.classes&&i.addClass(u.classes,d);for(const g in u.styles)i.setStyle(g,u.styles[g],d)}else{for(const[g,k]of m)g==="class"?i.removeClass(k,d):i.removeAttribute(g,d);u.classes&&i.removeClass(u.classes,d);for(const g in u.styles)i.removeStyle(g,d)}}}))}}}const DE=function(o,t,e){var n=o.length;return e=e===void 0?n:e,!t&&e>=n?o:jc(o,t,e)};var SE=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const S_=function(o){return SE.test(o)},TE=function(o){return o.split("")};var T_="\\ud800-\\udfff",ME="["+T_+"]",$k="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Zk="\\ud83c[\\udffb-\\udfff]",M_="[^"+T_+"]",B_="(?:\\ud83c[\\udde6-\\uddff]){2}",I_="[\\ud800-\\udbff][\\udc00-\\udfff]",N_="(?:"+$k+"|"+Zk+")?",z_="[\\ufe0e\\ufe0f]?",BE=z_+N_+("(?:\\u200d(?:"+[M_,B_,I_].join("|")+")"+z_+N_+")*"),IE="(?:"+[M_+$k+"?",$k,B_,I_,ME].join("|")+")",NE=RegExp(Zk+"(?="+Zk+")|"+IE+BE,"g");const zE=function(o){return o.match(NE)||[]},OE=function(o){return S_(o)?zE(o):TE(o)},LE=(function(o){return function(t){t=oa(t);var e=S_(t)?OE(t):void 0,n=e?e[0]:t.charAt(0),i=e?DE(e,1).join(""):t.slice(1);return n[o]()+i}})("toUpperCase"),RE=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,jE=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,PE=/^((\w+:(\/{2,})?)|(\W))/i,FE=["https?","ftps?","mailto"],ap="Ctrl+K";function O_(o,{writer:t}){const e=t.createAttributeElement("a",{href:o},{priority:5});return t.setCustomProperty("link",!0,e),e}function L_(o,t=FE){const e=String(o),n=t.join("|");return(function(i,s){return!!i.replace(RE,"").match(s)})(e,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",n)}`,"i"))?e:"#"}function Jk(o,t){return!!o&&t.checkAttribute(o.name,"linkHref")}function Xk(o,t){const e=(n=o,jE.test(n)?"mailto:":t);var n;const i=!!e&&!R_(o);return o&&i?e+o:o}function R_(o){return PE.test(o)}function j_(o){window.open(o,"_blank","noopener")}class VE extends Ht{manualDecorators=new pe;automaticDecorators=new EE;restoreManualDecoratorStates(){for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}refresh(){const t=this.editor.model,e=t.document.selection,n=e.getSelectedElement()||Ye(e.getSelectedBlocks());Jk(n,t.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttribute(n,"linkHref")):(this.value=e.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref"));for(const i of this.manualDecorators)i.value=this._getDecoratorStateFromModel(i.id)}execute(t,e={}){const n=this.editor.model,i=n.document.selection,s=[],l=[];for(const d in e)e[d]?s.push(d):l.push(d);n.change((d=>{if(i.isCollapsed){const u=i.getFirstPosition();if(i.hasAttribute("linkHref")){const m=P_(i);let g=Yg(u,"linkHref",i.getAttribute("linkHref"),n);i.getAttribute("linkHref")===m&&(g=this._updateLinkContent(n,d,g,t)),d.setAttribute("linkHref",t,g),s.forEach((k=>{d.setAttribute(k,!0,g)})),l.forEach((k=>{d.removeAttribute(k,g)})),d.setSelection(d.createPositionAfter(g.end.nodeBefore))}else if(t!==""){const m=Ci(i.getAttributes());m.set("linkHref",t),s.forEach((k=>{m.set(k,!0)}));const{end:g}=n.insertContent(d.createText(t,m),u);d.setSelection(g)}["linkHref",...s,...l].forEach((m=>{d.removeSelectionAttribute(m)}))}else{const u=n.schema.getValidRanges(i.getRanges(),"linkHref"),m=[];for(const k of i.getSelectedBlocks())n.schema.checkAttribute(k,"linkHref")&&m.push(d.createRangeOn(k));const g=m.slice();for(const k of u)this._isRangeToUpdate(k,m)&&g.push(k);for(const k of g){let _=k;if(g.length===1){const v=P_(i);i.getAttribute("linkHref")===v&&(_=this._updateLinkContent(n,d,k,t),d.setSelection(d.createSelection(_)))}d.setAttribute("linkHref",t,_),s.forEach((v=>{d.setAttribute(v,!0,_)})),l.forEach((v=>{d.removeAttribute(v,_)}))}}}))}_getDecoratorStateFromModel(t){const e=this.editor.model,n=e.document.selection,i=n.getSelectedElement();return Jk(i,e.schema)?i.getAttribute(t):n.getAttribute(t)}_isRangeToUpdate(t,e){for(const n of e)if(n.containsRange(t))return!1;return!0}_updateLinkContent(t,e,n,i){const s=e.createText(i,{linkHref:i});return t.insertContent(s,n)}}function P_(o){if(o.isCollapsed){const t=o.getFirstPosition();return t.textNode&&t.textNode.data}{const t=Array.from(o.getFirstRange().getItems());if(t.length>1)return null;const e=t[0];return e.is("$text")||e.is("$textProxy")?e.data:null}}class UE extends Ht{refresh(){const t=this.editor.model,e=t.document.selection,n=e.getSelectedElement();Jk(n,t.schema)?this.isEnabled=t.schema.checkAttribute(n,"linkHref"):this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref")}execute(){const t=this.editor,e=this.editor.model,n=e.document.selection,i=t.commands.get("link");e.change((s=>{const l=n.isCollapsed?[Yg(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),e)]:e.schema.getValidRanges(n.getRanges(),"linkHref");for(const d of l)if(s.removeAttribute("linkHref",d),i)for(const u of i.manualDecorators)s.removeAttribute(u.id,d)}))}}class HE extends ge(){id;defaultValue;label;attributes;classes;styles;constructor({id:t,label:e,attributes:n,classes:i,styles:s,defaultValue:l}){super(),this.id=t,this.set("value",void 0),this.defaultValue=l,this.label=e,this.attributes=n,this.classes=i,this.styles=s}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var F_=D(7719),qE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(F_.A,qE),F_.A.locals;const V_="automatic",GE=/^(https?:)?\/\//;class U_ extends ft{static get pluginName(){return"LinkEditing"}static get requires(){return[Pw,Iw,io]}constructor(t){super(t),t.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const t=this.editor,e=this.editor.config.get("link.allowedProtocols");t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:O_}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(i,s)=>O_(L_(i,e),s)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:i=>i.getAttribute("href")}}),t.commands.add("link",new VE(t)),t.commands.add("unlink",new UE(t));const n=(function(i,s){const l={"Open in a new tab":i("Open in a new tab"),Downloadable:i("Downloadable")};return s.forEach((d=>("label"in d&&l[d.label]&&(d.label=l[d.label]),d))),s})(t.t,(function(i){const s=[];if(i)for(const[l,d]of Object.entries(i)){const u=Object.assign({},d,{id:`link${LE(l)}`});s.push(u)}return s})(t.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter((i=>i.mode===V_))),this._enableManualDecorators(n.filter((i=>i.mode==="manual"))),t.plugins.get(Pw).registerAttribute("linkHref"),(function(i,s,l,d){const u=i.editing.view,m=new Set;u.document.registerPostFixer((g=>{const k=i.model.document.selection;let _=!1;if(k.hasAttribute(s)){const v=Yg(k.getFirstPosition(),s,k.getAttribute(s),i.model),E=i.editing.mapper.toViewRange(v);for(const z of E.getItems())z.is("element",l)&&!z.hasClass(d)&&(g.addClass(d,z),m.add(z),_=!0)}return _})),i.conversion.for("editingDowncast").add((g=>{function k(){u.change((_=>{for(const v of m.values())_.removeClass(d,v),m.delete(v)}))}g.on("insert",k,{priority:"highest"}),g.on("remove",k,{priority:"highest"}),g.on("attribute",k,{priority:"highest"}),g.on("selection",k,{priority:"highest"})}))})(t,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(t){const e=this.editor,n=e.commands.get("link").automaticDecorators;e.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:V_,callback:i=>!!i&&GE.test(i),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(t),n.length&&e.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const e=this.editor,n=e.commands.get("link").manualDecorators;t.forEach((i=>{e.model.schema.extend("$text",{allowAttributes:i.id});const s=new HE(i);n.add(s),e.conversion.for("downcast").attributeToElement({model:s.id,view:(l,{writer:d,schema:u},{item:m})=>{if((m.is("selection")||u.isInline(m))&&l){const g=d.createAttributeElement("a",s.attributes,{priority:5});s.classes&&d.addClass(s.classes,g);for(const k in s.styles)d.setStyle(k,s.styles[k],g);return d.setCustomProperty("link",!0,g),g}}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",...s._createPattern()},model:{key:s.id}})}))}_enableLinkOpen(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"click",((n,i)=>{if(!(N.isMac?i.domEvent.metaKey:i.domEvent.ctrlKey))return;let s=i.domTarget;if(s.tagName.toLowerCase()!="a"&&(s=s.closest("a")),!s)return;const l=s.getAttribute("href");l&&(n.stop(),i.preventDefault(),j_(l))}),{context:"$capture"}),this.listenTo(e,"keydown",((n,i)=>{const s=t.commands.get("link").value;s&&i.keyCode===$t.enter&&i.altKey&&(n.stop(),j_(s))}))}_enableSelectionAttributesFixer(){const t=this.editor.model,e=t.document.selection;this.listenTo(e,"change:attribute",((n,{attributeKeys:i})=>{i.includes("linkHref")&&!e.hasAttribute("linkHref")&&t.change((s=>{var l;(function(d,u){d.removeSelectionAttribute("linkHref");for(const m of u)d.removeSelectionAttribute(m)})(s,(l=t.schema,l.getDefinition("$text").allowAttributes.filter((d=>d.startsWith("link")))))}))}))}_enableClipboardIntegration(){const t=this.editor,e=t.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(t.plugins.get("ClipboardPipeline"),"contentInsertion",((i,s)=>{e.change((l=>{const d=l.createRangeIn(s.content);for(const u of d.getItems())if(u.hasAttribute("linkHref")){const m=Xk(u.getAttribute("linkHref"),n);l.setAttribute("linkHref",m,u)}}))}))}}var H_=D(3817),KE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(H_.A,KE),H_.A.locals;class YE extends It{focusTracker=new Qe;keystrokes=new cn;urlInputView;saveButtonView;cancelButtonView;_manualDecoratorSwitches;children;_validators;_focusables=new kn;_focusCycler;constructor(t,e,n){super(t);const i=t.t;this._validators=n,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(i("Save"),St.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),St.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(e),this.children=this._createFormChildren(e.manualDecorators),this._focusCycler=new $n({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const s=["ck","ck-link-form","ck-responsive-form"];e.manualDecorators.length&&s.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:s,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce(((t,e)=>(t[e.name]=e.isOn,t)),{})}render(){super.render(),ea({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const t=this.locale.t,e=new sm(this.locale,Wt);return e.fieldView.inputMode="url",e.label=t("Link URL"),e}_createButton(t,e,n,i){const s=new ee(this.locale);return s.set({label:t,icon:e,tooltip:!0}),s.extendTemplate({attributes:{class:n}}),i&&s.delegate("execute").to(this,i),s}_createManualDecoratorSwitches(t){const e=this.createCollection();for(const n of t.manualDecorators){const i=new Ma(this.locale);i.set({name:n.id,label:n.label,withText:!0}),i.bind("isOn").toMany([n,t],"value",((s,l)=>l===void 0&&s===void 0?!!n.defaultValue:!!s)),i.on("execute",(()=>{n.set("value",!i.isOn)})),e.add(i)}return e}_createFormChildren(t){const e=this.createCollection();if(e.add(this.urlInputView),t.length){const n=new It;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map((i=>({tag:"li",children:[i],attributes:{class:["ck","ck-list__item"]}}))),attributes:{class:["ck","ck-reset","ck-list"]}}),e.add(n)}return e.add(this.saveButtonView),e.add(this.cancelButtonView),e}get url(){const{element:t}=this.urlInputView.fieldView;return t?t.value.trim():null}}var q_=D(8762),QE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(q_.A,QE),q_.A.locals;class WE extends It{focusTracker=new Qe;keystrokes=new cn;previewButtonView;unlinkButtonView;editButtonView;_focusables=new kn;_focusCycler;_linkConfig;constructor(t,e={}){super(t);const n=t.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(n("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(n("Edit link"),St.pencil,"edit"),this.set("href",void 0),this._linkConfig=e,this._focusCycler=new $n({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(t,e,n){const i=new ee(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.delegate("execute").to(this,n),i}_createPreviewButton(){const t=new ee(this.locale),e=this.bindTemplate,n=this.t;return t.set({withText:!0,tooltip:n("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",(i=>i&&L_(i,this._linkConfig.allowedProtocols))),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",(i=>i||n("This link has no URL"))),t.bind("isEnabled").to(this,"href",(i=>!!i)),t.template.tag="a",t.template.eventListeners={},t}}const Ir="link-ui";class $E extends ft{actionsView=null;formView=null;_balloon;static get requires(){return[Ug]}static get pluginName(){return"LinkUI"}init(){const t=this.editor,e=this.editor.t;t.editing.view.addObserver(Er),this._balloon=t.plugins.get(Ug),this._createToolbarLinkButton(),this._enableBalloonActivators(),t.conversion.for("editingDowncast").markerToHighlight({model:Ir,view:{classes:["ck-fake-link-selection"]}}),t.conversion.for("editingDowncast").markerToElement({model:Ir,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Create link"),keystroke:ap},{label:e("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const t=this.editor,e=new WE(t.locale,t.config.get("link")),n=t.commands.get("link"),i=t.commands.get("unlink");return e.bind("href").to(n,"value"),e.editButtonView.bind("isEnabled").to(n),e.unlinkButtonView.bind("isEnabled").to(i),this.listenTo(e,"edit",(()=>{this._addFormView()})),this.listenTo(e,"unlink",(()=>{t.execute("unlink"),this._hideUI()})),e.keystrokes.set("Esc",((s,l)=>{this._hideUI(),l()})),e.keystrokes.set(ap,((s,l)=>{this._addFormView(),l()})),e}_createFormView(){const t=this.editor,e=t.commands.get("link"),n=t.config.get("link.defaultProtocol"),i=new(hl(YE))(t.locale,e,(function(s){const l=s.t,d=s.config.get("link.allowCreatingEmptyLinks");return[u=>{if(!d&&!u.url.length)return l("Link URL must not be empty.")}]})(t));return i.urlInputView.fieldView.bind("value").to(e,"value"),i.urlInputView.bind("isEnabled").to(e,"isEnabled"),i.saveButtonView.bind("isEnabled").to(e,"isEnabled"),this.listenTo(i,"submit",(()=>{if(i.isValid()){const{value:s}=i.urlInputView.fieldView.element,l=Xk(s,n);t.execute("link",l,i.getDecoratorSwitchesState()),this._closeFormView()}})),this.listenTo(i.urlInputView,"change:errorText",(()=>{t.ui.update()})),this.listenTo(i,"cancel",(()=>{this._closeFormView()})),i.keystrokes.set("Esc",((s,l)=>{this._closeFormView(),l()})),i}_createToolbarLinkButton(){const t=this.editor,e=t.commands.get("link");t.ui.componentFactory.add("link",(()=>{const n=this._createButton(ee);return n.set({tooltip:!0,isToggleable:!0}),n.bind("isOn").to(e,"value",(i=>!!i)),n})),t.ui.componentFactory.add("menuBar:link",(()=>this._createButton(Ze)))}_createButton(t){const e=this.editor,n=e.locale,i=e.commands.get("link"),s=new t(e.locale),l=n.t;return s.set({label:l("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:ap}),s.bind("isEnabled").to(i,"isEnabled"),this.listenTo(s,"execute",(()=>this._showUI(!0))),s}_enableBalloonActivators(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"click",(()=>{this._getSelectedLinkElement()&&this._showUI()})),t.keystrokes.set(ap,((n,i)=>{i(),t.commands.get("link").isEnabled&&this._showUI(!0)}))}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",((t,e)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),e())}),{priority:"high"}),this.editor.keystrokes.set("Esc",((t,e)=>{this._isUIVisible&&(this._hideUI(),e())})),fr({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=t.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),t.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(t=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const t=this.editor,e=t.editing.view.document;let n=this._getSelectedLinkElement(),i=l();const s=()=>{const d=this._getSelectedLinkElement(),u=l();n&&!d||!n&&u!==i?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=d,i=u};function l(){return e.selection.focus.getAncestors().reverse().find((d=>d.is("element")))}this.listenTo(t.ui,"update",s),this.listenTo(this._balloon,"change:visibleView",s)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const t=this._balloon.visibleView;return!!this.formView&&t==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,e=this.editor.model,n=t.document;let i;if(e.markers.has(Ir)){const s=Array.from(this.editor.editing.mapper.markerNameToElements(Ir)),l=t.createRange(t.createPositionBefore(s[0]),t.createPositionAfter(s[s.length-1]));i=t.domConverter.viewRangeToDom(l)}else i=()=>{const s=this._getSelectedLinkElement();return s?t.domConverter.mapViewToDom(s):t.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:i}}_getSelectedLinkElement(){const t=this.editor.editing.view,e=t.document.selection,n=e.getSelectedElement();if(e.isCollapsed||n&&rn(n))return tb(e.getFirstPosition());{const i=e.getFirstRange().getTrimmed(),s=tb(i.start),l=tb(i.end);return s&&s==l&&t.createRangeIn(s).getTrimmed().isEqual(i)?s:null}}_showFakeVisualSelection(){const t=this.editor.model;t.change((e=>{const n=t.document.selection.getFirstRange();if(t.markers.has(Ir))e.updateMarker(Ir,{range:n});else if(n.start.isAtEnd){const i=n.start.getLastMatchingPosition((({item:s})=>!t.schema.isContent(s)),{boundaries:n});e.addMarker(Ir,{usingOperation:!1,affectsData:!1,range:e.createRange(i,n.end)})}else e.addMarker(Ir,{usingOperation:!1,affectsData:!1,range:n})}))}_hideFakeVisualSelection(){const t=this.editor.model;t.markers.has(Ir)&&t.change((e=>{e.removeMarker(Ir)}))}}function tb(o){return o.getAncestors().find((t=>{return(e=t).is("attributeElement")&&!!e.getCustomProperty("link");var e}))||null}const G_=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class ZE extends ft{static get requires(){return[vs,U_]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",(()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")})),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(t,e){return e.textNode&&e.textNode.hasAttribute("linkHref")?Yg(e,"linkHref",e.textNode.getAttribute("linkHref"),t):null}_selectEntireLinks(t,e){const n=this.editor.model,i=n.document.selection,s=i.getFirstPosition(),l=i.getLastPosition();let d=e.getJoined(this._expandLinkRange(n,s)||e);d&&(d=d.getJoined(this._expandLinkRange(n,l)||e)),d&&(d.start.isBefore(s)||d.end.isAfter(l))&&t.setSelection(d)}_enablePasteLinking(){const t=this.editor,e=t.model,n=e.document.selection,i=t.plugins.get("ClipboardPipeline"),s=t.commands.get("link");i.on("inputTransformation",((l,d)=>{if(!this.isEnabled||!s.isEnabled||n.isCollapsed||d.method!=="paste"||n.rangeCount>1)return;const u=n.getFirstRange(),m=d.dataTransfer.getData("text/plain");if(!m)return;const g=m.match(G_);g&&g[2]===m&&(e.change((k=>{this._selectEntireLinks(k,u),s.execute(m)})),l.stop())}),{priority:"high"})}_enableTypingHandling(){const t=this.editor,e=new jw(t.model,(n=>{if(!(function(s){return s.length>4&&s[s.length-1]===" "&&s[s.length-2]!==" "})(n))return;const i=K_(n.substr(0,n.length-1));return i?{url:i}:void 0}));e.on("matched:data",((n,i)=>{const{batch:s,range:l,url:d}=i;if(!s.isTyping)return;const u=l.end.getShiftedBy(-1),m=u.getShiftedBy(-d.length),g=t.model.createRange(m,u);this._applyAutoLink(d,g)})),e.bind("isEnabled").to(this)}_enableEnterHandling(){const t=this.editor,e=t.model,n=t.commands.get("enter");n&&n.on("execute",(()=>{const i=e.document.selection.getFirstPosition();if(!i.parent.previousSibling)return;const s=e.createRangeIn(i.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(s)}))}_enableShiftEnterHandling(){const t=this.editor,e=t.model,n=t.commands.get("shiftEnter");n&&n.on("execute",(()=>{const i=e.document.selection.getFirstPosition(),s=e.createRange(e.createPositionAt(i.parent,0),i.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(s)}))}_checkAndApplyAutoLinkOnRange(t){const e=this.editor.model,{text:n,range:i}=Rw(t,e),s=K_(n);if(s){const l=e.createRange(i.end.getShiftedBy(-s.length),i.end);this._applyAutoLink(s,l)}}_applyAutoLink(t,e){const n=this.editor.model,i=Xk(t,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&(function(s,l){return l.schema.checkAttributeInSelection(l.createSelection(s),"linkHref")})(e,n)&&R_(i)&&!(function(s){const l=s.start.nodeAfter;return!!l&&l.hasAttribute("linkHref")})(e)&&this._persistAutoLink(i,e)}_persistAutoLink(t,e){const n=this.editor.model,i=this.editor.plugins.get("Delete");n.enqueueChange((s=>{s.setAttribute("linkHref",t,e),n.enqueueChange((()=>{i.requestUndoOnBackspace()}))}))}}function K_(o){const t=G_.exec(o);return t?t[2]:null}class JE extends ft{static get requires(){return[U_,$E,ZE]}static get pluginName(){return"Link"}}var Y_=D(4808),XE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Y_.A,XE),Y_.A.locals;class ro{_startElement;_referenceIndent;_isForward;_includeSelf;_sameAttributes;_sameIndent;_lowerIndent;_higherIndent;constructor(t,e){this._startElement=t,this._referenceIndent=t.getAttribute("listIndent"),this._isForward=e.direction=="forward",this._includeSelf=!!e.includeSelf,this._sameAttributes=Yt(e.sameAttributes||[]),this._sameIndent=!!e.sameIndent,this._lowerIndent=!!e.lowerIndent,this._higherIndent=!!e.higherIndent}static first(t,e){return Ye(new this(t,e)[Symbol.iterator]())}*[Symbol.iterator](){const t=[];for(const{node:e}of bm(this._getStartNode(),this._isForward?"forward":"backward")){const n=e.getAttribute("listIndent");if(n<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=n}else if(n>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){t.push(e);continue}}else{if(!this._sameIndent){if(this._higherIndent){t.length&&(yield*t,t.length=0);break}continue}if(this._sameAttributes.some((i=>e.getAttribute(i)!==this._startElement.getAttribute(i))))break}t.length&&(yield*t,t.length=0),yield e}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*bm(o,t="forward"){const e=t=="forward",n=[];let i=null;for(;_n(o);){let s=null;if(i){const l=o.getAttribute("listIndent"),d=i.getAttribute("listIndent");l>d?n[d]=i:l<d?(s=n[l],n.length=l):s=i}yield{node:o,previous:i,previousNodeInList:s},i=o,o=e?o.nextSibling:o.previousSibling}}class t2{_listHead;constructor(t){this._listHead=t}[Symbol.iterator](){return bm(this._listHead,"forward")}}class jd{static next(){return Mt()}}function _n(o){return!!o&&o.is("element")&&o.hasAttribute("listItemId")}function eb(o,t={}){return[...ja(o,{...t,direction:"backward"}),...ja(o,{...t,direction:"forward"})]}function ja(o,t={}){const e=t.direction=="forward",n=Array.from(new ro(o,{...t,includeSelf:e,sameIndent:!0,sameAttributes:"listItemId"}));return e?n:n.reverse()}function Q_(o,t){const e=new ro(o,{sameIndent:!0,sameAttributes:"listType",...t}),n=new ro(o,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward",...t});return[...Array.from(e).reverse(),...n]}function nc(o){return!ro.first(o,{sameIndent:!0,sameAttributes:"listItemId"})}function W_(o){return!ro.first(o,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function wm(o,t={}){o=Yt(o);const e=t.withNested!==!1,n=new Set;for(const i of o)for(const s of eb(i,{higherIndent:e}))n.add(s);return ic(n)}function e2(o){o=Yt(o);const t=new Set;for(const e of o)for(const n of Q_(e))t.add(n);return ic(t)}function nb(o,t){const e=ja(o,{direction:"forward"}),n=jd.next();for(const i of e)t.setAttribute("listItemId",n,i);return e}function ib(o,t,e){const n={};for(const[s,l]of t.getAttributes())s.startsWith("list")&&(n[s]=l);const i=ja(o,{direction:"forward"});for(const s of i)e.setAttributes(n,s);return i}function ob(o,t,{expand:e,indentBy:n=1}={}){o=Yt(o);const i=e?wm(o):o;for(const s of i){const l=s.getAttribute("listIndent")+n;l<0?lp(s,t):t.setAttribute("listIndent",l,s)}return i}function lp(o,t){o=Yt(o);for(const e of o)e.is("element","listItem")&&t.rename(e,"paragraph");for(const e of o)for(const n of e.getAttributeKeys())n.startsWith("list")&&t.removeAttribute(n,e);return o}function Am(o){if(!o.length)return!1;const t=o[0].getAttribute("listItemId");return!!t&&!o.some((e=>e.getAttribute("listItemId")!=t))}function ic(o){return Array.from(o).filter((t=>t.root.rootName!=="$graveyard")).sort(((t,e)=>t.index-e.index))}function _m(o){const t=o.document.selection.getSelectedElement();return t&&o.schema.isObject(t)&&o.schema.isBlock(t)?t:null}function rb(o,t){return t.checkChild(o.parent,"listItem")&&t.checkChild(o,"$text")&&!t.isObject(o)}function n2(o){return o=="numbered"||o=="customNumbered"}function i2(o,t,e){return ja(t,{direction:"forward"}).pop().index>o.index?ib(o,t,e):[]}class $_ extends Ht{_direction;constructor(t,e){super(t),this._direction=e}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=Z_(t.document.selection);t.change((n=>{const i=[];Am(e)&&!nc(e[0])?(this._direction=="forward"&&i.push(...ob(e,n)),i.push(...nb(e[0],n))):this._direction=="forward"?i.push(...ob(e,n,{expand:!0})):i.push(...(function(s,l){const d=wm(s=Yt(s)),u=new Set,m=Math.min(...d.map((k=>k.getAttribute("listIndent")))),g=new Map;for(const k of d)g.set(k,ro.first(k,{lowerIndent:!0}));for(const k of d){if(u.has(k))continue;u.add(k);const _=k.getAttribute("listIndent")-1;if(_<0)lp(k,l);else{if(k.getAttribute("listIndent")==m){const v=i2(k,g.get(k),l);for(const E of v)u.add(E);if(v.length)continue}l.setAttribute("listIndent",_,k)}}return ic(u)})(e,n));for(const s of i){if(!s.hasAttribute("listType"))continue;const l=ro.first(s,{sameIndent:!0});l&&n.setAttribute("listType",l.getAttribute("listType"),s)}this._fireAfterExecute(i)}))}_fireAfterExecute(t){this.fire("afterExecute",ic(new Set(t)))}_checkEnabled(){let t=Z_(this.editor.model.document.selection),e=t[0];if(!e)return!1;if(this._direction=="backward"||Am(t)&&!nc(t[0]))return!0;t=wm(t),e=t[0];const n=ro.first(e,{sameIndent:!0});return!!n&&n.getAttribute("listType")==e.getAttribute("listType")}}function Z_(o){const t=Array.from(o.getSelectedBlocks()),e=t.findIndex((n=>!_n(n)));return e!=-1&&(t.length=e),t}class cp extends Ht{type;_listWalkerOptions;constructor(t,e,n={}){super(t),this.type=e,this._listWalkerOptions=n.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,n=e.document,i=_m(e),s=Array.from(n.selection.getSelectedBlocks()).filter((d=>e.schema.checkAttribute(d,"listType")||rb(d,e.schema))),l=t.forceValue!==void 0?!t.forceValue:this.value;e.change((d=>{if(l){const u=s[s.length-1],m=ja(u,{direction:"forward"}),g=[];m.length>1&&g.push(...nb(m[1],d)),g.push(...lp(s,d)),g.push(...(function(k,_){const v=[];let E=Number.POSITIVE_INFINITY;for(const{node:z}of bm(k.nextSibling,"forward")){const L=z.getAttribute("listIndent");if(L==0)break;L<E&&(E=L);const F=L-E;_.setAttribute("listIndent",F,z),v.push(z)}return v})(u,d)),this._fireAfterExecute(g)}else if((i||n.selection.isCollapsed)&&_n(s[0])){const u=Q_(i||s[0],this._listWalkerOptions);for(const m of u)d.setAttributes({...t.additionalAttributes,listType:this.type},m);this._fireAfterExecute(u)}else{const u=[];for(const m of s)if(m.hasAttribute("listType"))for(const g of wm(m,{withNested:!1}))g.getAttribute("listType")!=this.type&&(d.setAttributes({...t.additionalAttributes,listType:this.type},g),u.push(g));else!m.is("element","listItem")&&rb(m,e.schema)&&d.rename(m,"listItem"),d.setAttributes({...t.additionalAttributes,listIndent:0,listItemId:jd.next(),listType:this.type},m),u.push(m);this._fireAfterExecute(u)}}))}_fireAfterExecute(t){this.fire("afterExecute",ic(new Set(t)))}_getValue(){const t=this.editor.model.document.selection,e=Array.from(t.getSelectedBlocks());if(!e.length)return!1;for(const n of e)if(n.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const t=this.editor.model,e=t.schema,n=t.document.selection,i=Array.from(n.getSelectedBlocks());if(!i.length)return!1;if(this.value)return!0;for(const s of i)if(e.checkAttribute(s,"listType")||rb(s,e))return!0;return!1}}class J_ extends Ht{_direction;constructor(t,e){super(t),this._direction=e}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:t=!1}={}){const e=this.editor.model,n=e.document.selection,i=[];e.change((s=>{const{firstElement:l,lastElement:d}=this._getMergeSubjectElements(n,t),u=l.getAttribute("listIndent")||0,m=d.getAttribute("listIndent"),g=d.getAttribute("listItemId");if(u!=m){const _=(k=d,Array.from(new ro(k,{direction:"forward",higherIndent:!0})));i.push(...ob([d,..._],s,{indentBy:u-m,expand:u<m}))}var k;if(t){let _=n;n.isCollapsed&&(_=s.createSelection(s.createRange(s.createPositionAt(l,"end"),s.createPositionAt(d,0)))),e.deleteContent(_,{doNotResetEntireContent:n.isCollapsed});const v=_.getLastPosition().parent,E=v.nextSibling;i.push(v),E&&E!==d&&E.getAttribute("listItemId")==g&&i.push(...ib(E,v,s))}else i.push(...ib(d,l,s));this._fireAfterExecute(i)}))}_fireAfterExecute(t){this.fire("afterExecute",ic(new Set(t)))}_checkEnabled(){const t=this.editor.model,e=t.document.selection,n=_m(t);if(e.isCollapsed||n){const i=n||e.getFirstPosition().parent;if(!_n(i))return!1;const s=this._direction=="backward"?i.previousSibling:i.nextSibling;if(!s||Am([i,s]))return!1}else{const i=e.getLastPosition(),s=e.getFirstPosition();if(i.parent===s.parent||!_n(i.parent))return!1}return!0}_getMergeSubjectElements(t,e){const n=_m(this.editor.model);let i,s;if(t.isCollapsed||n){const l=n||t.getFirstPosition().parent,d=nc(l);this._direction=="backward"?(s=l,i=d&&!e?ro.first(l,{sameIndent:!0,lowerIndent:!0}):l.previousSibling):(i=l,s=l.nextSibling)}else i=t.getFirstPosition().parent,s=t.getLastPosition().parent;return{firstElement:i,lastElement:s}}}class X_ extends Ht{_direction;constructor(t,e){super(t),this._direction=e}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change((t=>{const e=nb(this._getStartBlock(),t);this._fireAfterExecute(e)}))}_fireAfterExecute(t){this.fire("afterExecute",ic(new Set(t)))}_checkEnabled(){const t=this.editor.model.document.selection,e=this._getStartBlock();return t.isCollapsed&&_n(e)&&!nc(e)}_getStartBlock(){const t=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?t:t.nextSibling}}class o2 extends ft{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(t){return e2(t)}isFirstBlockOfListItem(t){return nc(t)}isListItemBlock(t){return _n(t)}expandListBlocksToCompleteItems(t,e={}){return wm(t,e)}isNumberedListType(t){return n2(t)}}function tC(o){return o.is("element","ol")||o.is("element","ul")}function dp(o){return o.is("element","li")}function r2(o,t,e,n=nC(e,t)){return o.createAttributeElement(eC(e),null,{priority:2*t/100-100,id:n})}function s2(o,t,e){return o.createAttributeElement("li",null,{priority:(2*t+1)/100-100,id:e})}function eC(o){return o=="numbered"||o=="customNumbered"?"ol":"ul"}function nC(o,t){return`list-${o}-${t}`}function Fo(o,t){const e=o.nodeBefore;if(_n(e)){let n=e;for(const{node:i}of bm(n,"backward"))if(n=i,t.has(n))return;t.set(e,n)}else{const n=o.nodeAfter;_n(n)&&t.set(n,n)}}function a2(){return(o,t,e)=>{const{writer:n,schema:i}=e;if(!t.modelRange)return;const s=Array.from(t.modelRange.getItems({shallow:!0})).filter((k=>i.checkAttribute(k,"listItemId")));if(!s.length)return;const l=jd.next(),d=(function(k){let _=0,v=k.parent;for(;v;){if(dp(v))_++;else{const E=v.previousSibling;E&&dp(E)&&_++}v=v.parent}return _})(t.viewItem);let u=t.viewItem.parent&&t.viewItem.parent.is("element","ol")?"numbered":"bulleted";const m=s[0].getAttribute("listType");m&&(u=m);const g={listItemId:l,listIndent:d,listType:u};for(const k of s)k.hasAttribute("listItemId")||n.setAttributes(g,k);s.length>1&&s[1].getAttribute("listItemId")!=g.listItemId&&e.keepEmptyElement(s[0])}}function iC(){return(o,t,e)=>{if(!e.consumable.test(t.viewItem,{name:!0}))return;const n=new no(t.viewItem.document);for(const i of Array.from(t.viewItem.getChildren()))dp(i)||tC(i)||n.remove(i)}}function oC(o,t,e,{dataPipeline:n}={}){const i=(function(s){return(l,d)=>{const u=[];for(const m of s)l.hasAttribute(m)&&u.push(`attribute:${m}`);return!!u.every((m=>d.test(l,m)!==!1))&&(u.forEach((m=>d.consume(l,m))),!0)}})(o);return(s,l,d)=>{const{writer:u,mapper:m,consumable:g}=d,k=l.item;if(!o.includes(l.attributeKey)||!i(k,g))return;const _=(function(E,z,L){const F=L.createRangeOn(E);return z.toViewRange(F).getTrimmed().end.nodeBefore})(k,m,e);sC(_,u,m),(function(E,z){let L=E.parent;for(;L.is("attributeElement")&&["ul","ol","li"].includes(L.name);){const F=L.parent;z.unwrap(z.createRangeOn(E),L),L=F}})(_,u);const v=(function(E,z,L,F,{dataPipeline:G}){let X=F.createRangeOn(z);if(!nc(E))return X;for(const lt of L){if(lt.scope!="itemMarker")continue;const vt=lt.createElement(F,E,{dataPipeline:G});if(!vt||(F.setCustomProperty("listItemMarker",!0,vt),lt.canInjectMarkerIntoElement&&lt.canInjectMarkerIntoElement(E)?F.insert(F.createPositionAt(z,0),vt):(F.insert(X.start,vt),X=F.createRange(F.createPositionBefore(vt),F.createPositionAfter(z))),!lt.createWrapperElement||!lt.canWrapElement))continue;const jt=lt.createWrapperElement(F,E,{dataPipeline:G});F.setCustomProperty("listItemWrapper",!0,jt),lt.canWrapElement(E)?X=F.wrap(X,jt):(X=F.wrap(F.createRangeOn(vt),jt),X=F.createRange(X.start,F.createPositionAfter(z)))}return X})(k,_,t,u,{dataPipeline:n});(function(E,z,L,F){if(!E.hasAttribute("listIndent"))return;const G=E.getAttribute("listIndent");let X=E;for(let lt=G;lt>=0;lt--){const vt=s2(F,lt,X.getAttribute("listItemId")),jt=r2(F,lt,X.getAttribute("listType"));for(const Gt of L)Gt.scope!="list"&&Gt.scope!="item"||!X.hasAttribute(Gt.attributeName)||Gt.setAttributeOnDowncast(F,X.getAttribute(Gt.attributeName),Gt.scope=="list"?jt:vt);if(z=F.wrap(z,vt),z=F.wrap(z,jt),lt==0||(X=ro.first(X,{lowerIndent:!0}),!X))break}})(k,v,t,u)}}function rC(o,{dataPipeline:t}={}){return(e,{writer:n})=>{if(!aC(e,o))return null;if(!t)return n.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const i=n.createContainerElement("p");return n.setCustomProperty("dataPipeline:transparentRendering",!0,i),i}}function sC(o,t,e){for(;o.parent.is("attributeElement")&&o.parent.getCustomProperty("listItemWrapper");)t.unwrap(t.createRangeOn(o),o.parent);const n=[];i(t.createPositionBefore(o).getWalker({direction:"backward"})),i(t.createRangeIn(o).getWalker());for(const s of n)t.remove(s);function i(s){for(const{item:l}of s){if(l.is("element")&&e.toModelElement(l))break;l.is("element")&&l.getCustomProperty("listItemMarker")&&n.push(l)}}}function aC(o,t,e=eb(o)){if(!_n(o))return!1;for(const n of o.getAttributeKeys())if(!n.startsWith("selection:")&&!t.includes(n))return!1;return e.length<2}var lC=D(1232),l2={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(lC.A,l2),lC.A.locals;var cC=D(6903),c2={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(cC.A,c2),cC.A.locals;const up=["listType","listIndent","listItemId"];class d2 extends ft{_downcastStrategies=[];static get pluginName(){return"ListEditing"}static get requires(){return[Qg,vs,o2,io]}constructor(t){super(t),t.config.define("list.multiBlock",!0)}init(){const t=this.editor,e=t.model,n=t.config.get("list.multiBlock");if(t.plugins.has("LegacyListEditing"))throw new H("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});e.schema.register("$listItem",{allowAttributes:up}),n?(e.schema.extend("$container",{allowAttributesOf:"$listItem"}),e.schema.extend("$block",{allowAttributesOf:"$listItem"}),e.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):e.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const i of up)e.schema.setAttributeProperties(i,{copyOnReplace:!0});t.commands.add("numberedList",new cp(t,"numbered")),t.commands.add("bulletedList",new cp(t,"bulleted")),t.commands.add("customNumberedList",new cp(t,"customNumbered",{multiLevel:!0})),t.commands.add("customBulletedList",new cp(t,"customBulleted",{multiLevel:!0})),t.commands.add("indentList",new $_(t,"forward")),t.commands.add("outdentList",new $_(t,"backward")),t.commands.add("splitListItemBefore",new X_(t,"before")),t.commands.add("splitListItemAfter",new X_(t,"after")),n&&(t.commands.add("mergeListItemBackward",new J_(t,"backward")),t.commands.add("mergeListItemForward",new J_(t,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const t=this.editor.commands,e=t.get("indent"),n=t.get("outdent");e&&e.registerChildCommand(t.get("indentList"),{priority:"high"}),n&&n.registerChildCommand(t.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(t){this._downcastStrategies.push(t)}getListAttributeNames(){return[...up,...this._downcastStrategies.map((t=>t.attributeName))]}_setupDeleteIntegration(){const t=this.editor,e=t.commands.get("mergeListItemBackward"),n=t.commands.get("mergeListItemForward");this.listenTo(t.editing.view.document,"delete",((i,s)=>{const l=t.model.document.selection;_m(t.model)||t.model.change((()=>{const d=l.getFirstPosition();if(l.isCollapsed&&s.direction=="backward"){if(!d.isAtStart)return;const u=d.parent;if(!_n(u))return;if(ro.first(u,{sameAttributes:"listType",sameIndent:!0})||u.getAttribute("listIndent")!==0){if(!e||!e.isEnabled)return;e.execute({shouldMergeOnBlocksContentLevel:dC(t.model,"backward")})}else W_(u)||t.execute("splitListItemAfter"),t.execute("outdentList");s.preventDefault(),i.stop()}else{if(l.isCollapsed&&!l.getLastPosition().isAtEnd||!n||!n.isEnabled)return;n.execute({shouldMergeOnBlocksContentLevel:dC(t.model,"forward")}),s.preventDefault(),i.stop()}}))}),{context:"li"})}_setupEnterIntegration(){const t=this.editor,e=t.model,n=t.commands,i=n.get("enter");this.listenTo(t.editing.view.document,"enter",((s,l)=>{const d=e.document,u=d.selection.getFirstPosition().parent;if(d.selection.isCollapsed&&_n(u)&&u.isEmpty&&!l.isSoft){const m=nc(u),g=W_(u);m&&g?(t.execute("outdentList"),l.preventDefault(),s.stop()):m&&!g?(t.execute("splitListItemAfter"),l.preventDefault(),s.stop()):g&&(t.execute("splitListItemBefore"),l.preventDefault(),s.stop())}}),{context:"li"}),this.listenTo(i,"afterExecute",(()=>{const s=n.get("splitListItemBefore");s.refresh(),s.isEnabled&&eb(t.model.document.selection.getLastPosition().parent).length===2&&s.execute()}))}_setupTabIntegration(){const t=this.editor;this.listenTo(t.editing.view.document,"tab",((e,n)=>{const i=n.shiftKey?"outdentList":"indentList";this.editor.commands.get(i).isEnabled&&(t.execute(i),n.stopPropagation(),n.preventDefault(),e.stop())}),{context:"li"})}_setupConversion(){const t=this.editor,e=t.model,n=this.getListAttributeNames(),i=t.config.get("list.multiBlock"),s=i?"paragraph":"listItem";t.conversion.for("upcast").elementToElement({view:"li",model:(m,{writer:g})=>g.createElement(s,{listType:""})}).elementToElement({view:"p",model:(m,{writer:g})=>m.parent&&m.parent.is("element","li")?g.createElement(s,{listType:""}):null,converterPriority:"high"}).add((m=>{m.on("element:li",a2()),m.on("element:ul",iC(),{priority:"high"}),m.on("element:ol",iC(),{priority:"high"})})),i||t.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),t.conversion.for("editingDowncast").elementToElement({model:s,view:rC(n),converterPriority:"high"}).add((m=>{var g;m.on("attribute",oC(n,this._downcastStrategies,e)),m.on("remove",(g=e.schema,(k,_,v)=>{const{writer:E,mapper:z}=v,L=k.name.split(":")[1];if(!g.checkAttribute(L,"listItemId"))return;const F=z.toViewPosition(_.position),G=_.position.getShiftedBy(_.length),X=z.toViewPosition(G,{isPhantom:!0}),lt=E.createRange(F,X).getTrimmed().end.nodeBefore;lt&&sC(lt,E,z)}))})),t.conversion.for("dataDowncast").elementToElement({model:s,view:rC(n,{dataPipeline:!0}),converterPriority:"high"}).add((m=>{m.on("attribute",oC(n,this._downcastStrategies,e,{dataPipeline:!0}))}));const l=(d=this._downcastStrategies,u=t.editing.view,(m,g)=>{if(g.modelPosition.offset>0)return;const k=g.modelPosition.parent;if(!_n(k)||!d.some((L=>L.scope=="itemMarker"&&L.canInjectMarkerIntoElement&&L.canInjectMarkerIntoElement(k))))return;const _=g.mapper.toViewElement(k),v=u.createRangeIn(_),E=v.getWalker();let z=v.start;for(const{item:L}of E){if(L.is("element")&&g.mapper.toModelElement(L)||L.is("$textProxy"))break;L.is("element")&&L.getCustomProperty("listItemMarker")&&(z=u.createPositionAfter(L),E.skip((({previousPosition:F})=>!F.isEqual(z))))}g.viewPosition=z});var d,u;t.editing.mapper.on("modelToViewPosition",l),t.data.mapper.on("modelToViewPosition",l),this.listenTo(e.document,"change:data",(function(m,g,k,_){return()=>{const L=m.document.differ.getChanges(),F=[],G=new Map,X=new Set;for(const lt of L)if(lt.type=="insert"&&lt.name!="$text")Fo(lt.position,G),lt.attributes.has("listItemId")?X.add(lt.position.nodeAfter):Fo(lt.position.getShiftedBy(lt.length),G);else if(lt.type=="remove"&&lt.attributes.has("listItemId"))Fo(lt.position,G);else if(lt.type=="attribute"){const vt=lt.range.start.nodeAfter;k.includes(lt.attributeKey)?(Fo(lt.range.start,G),lt.attributeNewValue===null?(Fo(lt.range.start.getShiftedBy(1),G),E(vt)&&F.push(vt)):X.add(vt)):_n(vt)&&E(vt)&&F.push(vt)}for(const lt of G.values())F.push(...v(lt,X));for(const lt of new Set(F))g.reconvertItem(lt)};function v(L,F){const G=[],X=new Set,lt=[];for(const{node:vt,previous:jt}of bm(L,"forward")){if(X.has(vt))continue;const Gt=vt.getAttribute("listIndent");jt&&Gt<jt.getAttribute("listIndent")&&(lt.length=Gt+1),lt[Gt]=Object.fromEntries(Array.from(vt.getAttributes()).filter((([Cn])=>k.includes(Cn))));const Oe=ja(vt,{direction:"forward"});for(const Cn of Oe)X.add(Cn),(E(Cn,Oe)||z(Cn,lt,F))&&G.push(Cn)}return G}function E(L,F){const G=g.mapper.toViewElement(L);if(!G)return!1;if(_.fire("checkElement",{modelElement:L,viewElement:G}))return!0;if(!L.is("element","paragraph")&&!L.is("element","listItem"))return!1;const X=aC(L,k,F);return!(!X||!G.is("element","p"))||!(X||!G.is("element","span"))}function z(L,F,G){if(G.has(L))return!1;const X=g.mapper.toViewElement(L);let lt=F.length-1;for(let vt=X.parent;!vt.is("editableElement");vt=vt.parent){const jt=dp(vt),Gt=tC(vt);if(!Gt&&!jt)continue;const Oe="checkAttributes:"+(jt?"item":"list");if(_.fire(Oe,{viewElement:vt,modelAttributes:F[lt]}))break;if(Gt&&(lt--,lt<0))return!1}return!0}})(e,t.editing,n,this),{priority:"high"}),this.on("checkAttributes:item",((m,{viewElement:g,modelAttributes:k})=>{g.id!=k.listItemId&&(m.return=!0,m.stop())})),this.on("checkAttributes:list",((m,{viewElement:g,modelAttributes:k})=>{g.name==eC(k.listType)&&g.id==nC(k.listType,k.listIndent)||(m.return=!0,m.stop())}))}_setupModelPostFixing(){const t=this.editor.model,e=this.getListAttributeNames();t.document.registerPostFixer((n=>(function(i,s,l,d){const u=i.document.differ.getChanges(),m=new Map,g=d.editor.config.get("list.multiBlock");let k=!1;for(const v of u){if(v.type=="insert"&&v.name!="$text"){const E=v.position.nodeAfter;if(!i.schema.checkAttribute(E,"listItemId"))for(const z of Array.from(E.getAttributeKeys()))l.includes(z)&&(s.removeAttribute(z,E),k=!0);Fo(v.position,m),v.attributes.has("listItemId")||Fo(v.position.getShiftedBy(v.length),m);for(const{item:z,previousPosition:L}of i.createRangeIn(E))_n(z)&&Fo(L,m)}else v.type=="remove"?Fo(v.position,m):v.type=="attribute"&&l.includes(v.attributeKey)&&(Fo(v.range.start,m),v.attributeNewValue===null&&Fo(v.range.start.getShiftedBy(1),m));if(!g&&v.type=="attribute"&&up.includes(v.attributeKey)){const E=v.range.start.nodeAfter;v.attributeNewValue===null&&E&&E.is("element","listItem")?(s.rename(E,"paragraph"),k=!0):v.attributeOldValue===null&&E&&E.is("element")&&E.name!="listItem"&&(s.rename(E,"listItem"),k=!0)}}const _=new Set;for(const v of m.values())k=d.fire("postFixer",{listNodes:new t2(v),listHead:v,writer:s,seenIds:_})||k;return k})(t,n,e,this))),this.on("postFixer",((n,{listNodes:i,writer:s})=>{n.return=(function(l,d){let u=0,m=-1,g=null,k=!1;for(const{node:_}of l){const v=_.getAttribute("listIndent");if(v>u){let E;g===null?(g=v-u,E=u):(g>v&&(g=v),E=v-g),E>m+1&&(E=m+1),d.setAttribute("listIndent",E,_),k=!0,m=E}else g=null,u=v+1,m=v}return k})(i,s)||n.return}),{priority:"high"}),this.on("postFixer",((n,{listNodes:i,writer:s,seenIds:l})=>{n.return=(function(d,u,m){const g=new Set;let k=!1;for(const{node:_}of d){if(g.has(_))continue;let v=_.getAttribute("listType"),E=_.getAttribute("listItemId");if(u.has(E)&&(E=jd.next()),u.add(E),_.is("element","listItem"))_.getAttribute("listItemId")!=E&&(m.setAttribute("listItemId",E,_),k=!0);else for(const z of ja(_,{direction:"forward"}))g.add(z),z.getAttribute("listType")!=v&&(E=jd.next(),v=z.getAttribute("listType")),z.getAttribute("listItemId")!=E&&(m.setAttribute("listItemId",E,z),k=!0)}return k})(i,l,s)||n.return}),{priority:"high"})}_setupClipboardIntegration(){const t=this.editor.model,e=this.editor.plugins.get("ClipboardPipeline");this.listenTo(t,"insertContent",(function(n){return(i,[s,l])=>{const d=s.is("documentFragment")?Array.from(s.getChildren()):[s];if(!d.length)return;const u=(l?n.createSelection(l):n.document.selection).getFirstPosition();let m;if(_n(u.parent))m=u.parent;else{if(!_n(u.nodeBefore))return;m=u.nodeBefore}n.change((g=>{const k=m.getAttribute("listType"),_=m.getAttribute("listIndent"),v=d[0].getAttribute("listIndent")||0,E=Math.max(_-v,0);for(const z of d){const L=_n(z);m.is("element","listItem")&&z.is("element","paragraph")&&g.rename(z,"listItem"),g.setAttributes({listIndent:(L?z.getAttribute("listIndent"):0)+E,listItemId:L?z.getAttribute("listItemId"):jd.next(),listType:k},z)}}))}})(t),{priority:"high"}),this.listenTo(e,"outputTransformation",((n,i)=>{t.change((s=>{const l=Array.from(i.content.getChildren()),d=l[l.length-1];if(l.length>1&&d.is("element")&&d.isEmpty&&l.slice(0,-1).every(_n)&&s.remove(d),i.method=="copy"||i.method=="cut"){const u=Array.from(i.content.getChildren());Am(u)&&lp(u,s)}}))}))}_setupAccessibilityIntegration(){const t=this.editor,e=t.t;t.accessibility.addKeystrokeInfoGroup({id:"list",label:e("Keystrokes that can be used in a list"),keystrokes:[{label:e("Increase list item indent"),keystroke:"Tab"},{label:e("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function dC(o,t){const e=o.document.selection;if(!e.isCollapsed)return!_m(o);if(t==="forward")return!0;const n=e.getFirstPosition().parent,i=n.previousSibling;return!o.schema.isObject(i)&&(!!i.isEmpty||Am([n,i]))}function uC(o,t,e,n){o.ui.componentFactory.add(t,(()=>{const i=hC(ee,o,t,e,n);return i.set({tooltip:!0,isToggleable:!0}),i})),o.ui.componentFactory.add(`menuBar:${t}`,(()=>hC(Ze,o,t,e,n)))}function hC(o,t,e,n,i){const s=t.commands.get(e),l=new o(t.locale);return l.set({label:n,icon:i}),l.bind("isOn","isEnabled").to(s,"value","isEnabled"),l.on("execute",(()=>{t.execute(e),t.editing.view.focus()})),l}class u2 extends ft{static get pluginName(){return"ListUI"}init(){const t=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||uC(this.editor,"numberedList",t("Numbered List"),St.numberedList),this.editor.ui.componentFactory.has("bulletedList")||uC(this.editor,"bulletedList",t("Bulleted List"),St.bulletedList)}}class h2 extends ft{static get requires(){return[d2,u2]}static get pluginName(){return"List"}}const m2=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:o,typeAttribute:t,listType:e}of m2);var mC=D(9968),f2={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(mC.A,f2),mC.A.locals;var fC=D(7141),g2={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(fC.A,g2),fC.A.locals;var gC=D(8991),p2={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(gC.A,p2),gC.A.locals;function pC(o,t){const e=(n,i,s)=>{if(!s.consumable.consume(i.item,n.name))return;const l=i.attributeNewValue,d=s.writer,u=s.mapper.toViewElement(i.item),m=[...u.getChildren()].find((k=>k.getCustomProperty("media-content")));d.remove(m);const g=o.getMediaViewElement(d,l,t);d.insert(d.createPositionAt(u,0),g)};return n=>{n.on("attribute:url:media",e)}}function kC(o,t,e,n){return o.createContainerElement("figure",{class:"media"},[t.getMediaViewElement(o,e,n),o.createSlot()])}function bC(o){const t=o.getSelectedElement();return t&&t.is("element","media")?t:null}function wC(o,t,e,n){o.change((i=>{const s=i.createElement("media",{url:t});o.insertObject(s,e,null,{setSelection:"on",findOptimalPosition:n?"auto":void 0})}))}class k2 extends Ht{refresh(){const t=this.editor.model,e=t.document.selection,n=bC(e);this.value=n?n.getAttribute("url"):void 0,this.isEnabled=(function(i){const s=i.getSelectedElement();return!!s&&s.name==="media"})(e)||(function(i,s){let d=Zw(i,s).start.parent;return d.isEmpty&&!s.schema.isLimit(d)&&(d=d.parent),s.schema.checkChild(d,"media")})(e,t)}execute(t){const e=this.editor.model,n=e.document.selection,i=bC(n);i?e.change((s=>{s.setAttribute("url",t,i)})):wC(e,t,n,!0)}}class b2{locale;providerDefinitions;constructor(t,e){const n=e.providers,i=e.extraProviders||[],s=new Set(e.removeProviders),l=n.concat(i).filter((d=>{const u=d.name;return u?!s.has(u):(Bt("media-embed-no-provider-name",{provider:d}),!1)}));this.locale=t,this.providerDefinitions=l}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,e,n){return this._getMedia(e).getViewElement(t,n)}_getMedia(t){if(!t)return new AC(this.locale);t=t.trim();for(const e of this.providerDefinitions){const n=e.html,i=Yt(e.url);for(const s of i){const l=this._getUrlMatches(t,s);if(l)return new AC(this.locale,t,l,n)}}return null}_getUrlMatches(t,e){let n=t.match(e);if(n)return n;let i=t.replace(/^https?:\/\//,"");return n=i.match(e),n||(i=i.replace(/^www\./,""),n=i.match(e),n||null)}}class AC{url;_locale;_match;_previewRenderer;constructor(t,e,n,i){this.url=this._getValidUrl(e),this._locale=t,this._match=n,this._previewRenderer=i}getViewElement(t,e){const n={};let i;if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),e.renderForEditingView&&(n.class="ck-media__wrapper");const s=this._getPreviewHtml(e);i=t.createRawElement("div",n,((l,d)=>{d.setContentOf(l,s)}))}else this.url&&(n.url=this.url),i=t.createEmptyElement(e.elementName,n);return t.setCustomProperty("media-content",!0,i),i}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new Lo,e=this._locale.t;return t.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',t.viewBox="0 0 64 42",new si({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":e("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}var _C=D(7048),w2={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(_C.A,w2),_C.A.locals;class hp extends ft{static get pluginName(){return"MediaEmbedEditing"}registry;constructor(t){super(t),t.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:e=>{const n=e[1],i=e[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${n}${i?`?start=${i}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new b2(t.locale,t.config.get("mediaEmbed"))}init(){const t=this.editor,e=t.model.schema,n=t.t,i=t.conversion,s=t.config.get("mediaEmbed.previewsInData"),l=t.config.get("mediaEmbed.elementName"),d=this.registry;t.commands.add("mediaEmbed",new k2(t)),e.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),i.for("dataDowncast").elementToStructure({model:"media",view:(u,{writer:m})=>{const g=u.getAttribute("url");return kC(m,d,g,{elementName:l,renderMediaPreview:!!g&&s})}}),i.for("dataDowncast").add(pC(d,{elementName:l,renderMediaPreview:s})),i.for("editingDowncast").elementToStructure({model:"media",view:(u,{writer:m})=>{const g=u.getAttribute("url");return(function(k,_,v){return _.setCustomProperty("media",!0,k),Uk(k,_,{label:v})})(kC(m,d,g,{elementName:l,renderForEditingView:!0}),m,n("media widget"))}}),i.for("editingDowncast").add(pC(d,{elementName:l,renderForEditingView:!0})),i.for("upcast").elementToElement({view:u=>["oembed",l].includes(u.name)&&u.getAttribute("url")?{name:!0}:null,model:(u,{writer:m})=>{const g=u.getAttribute("url");return d.hasMedia(g)?m.createElement("media",{url:g}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(u,{writer:m})=>{const g=u.getAttribute("data-oembed-url");return d.hasMedia(g)?m.createElement("media",{url:g}):null}}).add((u=>{u.on("element:figure",((m,g,k)=>{if(!k.consumable.consume(g.viewItem,{name:!0,classes:"media"}))return;const{modelRange:_,modelCursor:v}=k.convertChildren(g.viewItem,g.modelCursor);g.modelRange=_,g.modelCursor=v,Ye(_.getItems())||k.consumable.revert(g.viewItem,{name:!0,classes:"media"})}))}))}}const A2=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class _2 extends ft{static get requires(){return[fA,vs,kA]}static get pluginName(){return"AutoMediaEmbed"}_timeoutId;_positionToInsert;constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}init(){const t=this.editor,e=t.model.document,n=t.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",(()=>{const i=e.selection.getFirstRange(),s=on.fromPosition(i.start);s.stickiness="toPrevious";const l=on.fromPosition(i.end);l.stickiness="toNext",e.once("change:data",(()=>{this._embedMediaBetweenPositions(s,l),s.detach(),l.detach()}),{priority:"high"})})),t.commands.get("undo").on("execute",(()=>{this._timeoutId&&(S.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)}),{priority:"high"})}_embedMediaBetweenPositions(t,e){const n=this.editor,i=n.plugins.get(hp).registry,s=new Gn(t,e),l=s.getWalker({ignoreElementEnd:!0});let d="";for(const u of l)u.item.is("$textProxy")&&(d+=u.item.data);if(d=d.trim(),!d.match(A2)||!i.hasMedia(d))return void s.detach();n.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=on.fromPosition(t),this._timeoutId=S.window.setTimeout((()=>{n.model.change((u=>{this._timeoutId=null,u.remove(s),s.detach();let m=null;this._positionToInsert.root.rootName!=="$graveyard"&&(m=this._positionToInsert),wC(n.model,d,m,!1),this._positionToInsert.detach(),this._positionToInsert=null})),n.plugins.get(vs).requestUndoOnBackspace()}),100)):s.detach()}}var CC=D(5651),C2={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(CC.A,C2),CC.A.locals;class v2 extends It{focusTracker;keystrokes;urlInputView;_validators;_urlInputViewInfoDefault;_urlInputViewInfoTip;constructor(t,e){super(e),this.focusTracker=new Qe,this.keystrokes=new cn,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView]})}render(){super.render(),ea({view:this}),this.focusTracker.add(this.urlInputView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.urlInputView.focus()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(t){this.urlInputView.fieldView.value=t.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const t=this.locale.t,e=new sm(this.locale,Wt),n=e.fieldView;return this._urlInputViewInfoDefault=t("Paste the media URL in the input."),this._urlInputViewInfoTip=t("Tip: Paste the URL into the content to embed faster."),e.label=t("Media URL"),e.infoText=this._urlInputViewInfoDefault,n.inputMode="url",n.on("input",(()=>{e.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=n.element.value.trim()})),e}}class y2 extends ft{static get requires(){return[hp,mi]}static get pluginName(){return"MediaEmbedUI"}_formView;init(){const t=this.editor;t.ui.componentFactory.add("mediaEmbed",(()=>{const e=this.editor.locale.t,n=this._createDialogButton(ee);return n.tooltip=!0,n.label=e("Insert media"),n})),t.ui.componentFactory.add("menuBar:mediaEmbed",(()=>{const e=this.editor.locale.t,n=this._createDialogButton(Ze);return n.label=e("Media"),n}))}_createDialogButton(t){const e=this.editor,n=new t(e.locale),i=e.commands.get("mediaEmbed"),s=this.editor.plugins.get("Dialog");return n.icon='<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',n.bind("isEnabled").to(i,"isEnabled"),n.on("execute",(()=>{s.id==="mediaEmbed"?s.hide():this._showDialog()})),n}_showDialog(){const t=this.editor,e=t.plugins.get("Dialog"),n=t.commands.get("mediaEmbed"),i=t.locale.t;if(!this._formView){const s=t.plugins.get(hp).registry;this._formView=new(hl(v2))((function(l,d){return[u=>{if(!u.url.length)return l("The URL must not be empty.")},u=>{if(!d.hasMedia(u.url))return l("This media URL is not supported.")}]})(t.t,s),t.locale),this._formView.on("submit",(()=>this._handleSubmitForm()))}e.show({id:"mediaEmbed",title:i("Insert media"),content:this._formView,isModal:!0,onShow:()=>{this._formView.url=n.value||"",this._formView.resetFormStatus(),this._formView.urlInputView.fieldView.select()},actionButtons:[{label:i("Cancel"),withText:!0,onExecute:()=>e.hide()},{label:i("Accept"),class:"ck-button-action",withText:!0,onExecute:()=>this._handleSubmitForm()}]})}_handleSubmitForm(){const t=this.editor,e=t.plugins.get("Dialog");this._formView.isValid()&&(t.execute("mediaEmbed",this._formView.url),e.hide(),t.editing.view.focus())}}var vC=D(70),x2={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(vC.A,x2),vC.A.locals;class E2 extends ft{static get requires(){return[hp,y2,_2,gm]}static get pluginName(){return"MediaEmbed"}}function yC(o){return o!==void 0&&o.endsWith("px")}function Pd(o){return o.toFixed(2).replace(/\.?0+$/,"")+"px"}function D2(o,t,e){if(!o.childCount)return;const n=new no(o.document),i=(function(d,u){const m=u.createRangeIn(d),g=[],k=new Set;for(const _ of m.getItems()){if(!_.is("element")||!_.name.match(/^(p|h\d+|li|div)$/))continue;let v=O2(_);if(v===void 0||parseFloat(v)!=0||Array.from(_.getClassNames()).find((E=>E.startsWith("MsoList")))||(v=void 0),_.hasStyle("mso-list")||v!==void 0&&k.has(v)){const E=N2(_);g.push({element:_,id:E.id,order:E.order,indent:E.indent,marginLeft:v}),v!==void 0&&k.add(v)}else k.clear()}return g})(o,n);if(!i.length)return;const s={},l=[];for(const d of i)if(d.indent!==void 0){S2(d)||(l.length=0);const u=`${d.id}:${d.indent}`,m=Math.min(d.indent-1,l.length);if(m<l.length&&l[m].id!==d.id&&(l.length=m),m<l.length-1)l.length=m+1;else{const k=M2(d,t);if(m>l.length-1||l[m].listElement.name!=k.type){m==0&&k.type=="ol"&&d.id!==void 0&&s[u]&&(k.startIndex=s[u]);const _=I2(k,n,e);if(yC(d.marginLeft)&&(m==0||yC(l[m-1].marginLeft))){let v=d.marginLeft;m>0&&(v=Pd(parseFloat(v)-parseFloat(l[m-1].marginLeft))),n.setStyle("padding-left",v,_)}if(l.length==0){const v=d.element.parent,E=v.getChildIndex(d.element)+1;n.insertChild(E,_,v)}else{const v=l[m-1].listItemElements;n.appendChild(_,v[v.length-1])}l[m]={...d,listElement:_,listItemElements:[]},m==0&&d.id!==void 0&&(s[u]=k.startIndex||1)}}const g=d.element.name=="li"?d.element:n.createElement("li");n.appendChild(g,l[m].listElement),l[m].listItemElements.push(g),m==0&&d.id!==void 0&&s[u]++,d.element!=g&&n.appendChild(d.element,g),z2(d.element,n),n.removeStyle("text-indent",d.element),n.removeStyle("margin-left",d.element)}else{const u=l.find((m=>m.marginLeft==d.marginLeft));if(u){const m=u.listItemElements;n.appendChild(d.element,m[m.length-1]),n.removeStyle("margin-left",d.element)}else l.length=0}}function S2(o){const t=o.element.previousSibling;return T2(t||o.element.parent)}function T2(o){return o.is("element","ol")||o.is("element","ul")}function M2(o,t){const e=new RegExp(`@list l${o.id}:level${o.indent}\\s*({[^}]*)`,"gi"),n=/mso-level-number-format:([^;]{0,100});/gi,i=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,s=new RegExp(`@list\\s+l${o.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),l=new RegExp(`@list l${o.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),d=s.exec(t),u=l.exec(t),m=d&&!u,g=e.exec(t);let k="decimal",_="ol",v=null;if(g&&g[1]){const E=n.exec(g[1]);if(E&&E[1]&&(k=E[1].trim(),_=k!=="bullet"&&k!=="image"?"ol":"ul"),k==="bullet"){const z=(function(L){if(L.name=="li"&&L.parent.name=="ul"&&L.parent.hasAttribute("type"))return L.parent.getAttribute("type");const F=(function(X){if(X.getChild(0).is("$text"))return null;for(const lt of X.getChildren()){if(!lt.is("element","span"))continue;const vt=lt.getChild(0);if(vt)return vt.is("$text")?vt:vt.getChild(0)}return null})(L);if(!F)return null;const G=F._data;return G==="o"?"circle":G==="·"?"disc":G==="§"?"square":null})(o.element);z&&(k=z)}else{const z=i.exec(g[1]);z&&z[1]&&(v=parseInt(z[1]))}m&&(_="ol")}return{type:_,startIndex:v,style:B2(k),isLegalStyleList:m}}function B2(o){if(o.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(o){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return o;default:return null}}function I2(o,t,e){const n=t.createElement(o.type);return o.style&&t.setStyle("list-style-type",o.style,n),o.startIndex&&o.startIndex>1&&t.setAttribute("start",o.startIndex,n),o.isLegalStyleList&&e&&t.addClass("legal-list",n),n}function N2(o){const t=o.getStyle("mso-list");if(t===void 0)return{};const e=t.match(/(^|\s{1,100})l(\d+)/i),n=t.match(/\s{0,100}lfo(\d+)/i),i=t.match(/\s{0,100}level(\d+)/i);return e&&n&&i?{id:e[2],order:n[1],indent:parseInt(i[1])}:{indent:1}}function z2(o,t){const e=new xn({name:"span",styles:{"mso-list":"Ignore"}}),n=t.createRangeIn(o);for(const i of n)i.type==="elementStart"&&e.match(i.item)&&t.remove(i.item)}function O2(o){const t=o.getStyle("margin-left");return t===void 0||t.endsWith("px")?t:(function(e){const n=parseFloat(e);return e.endsWith("pt")?Pd(96*n/72):e.endsWith("pc")?Pd(12*n*96/72):e.endsWith("in")?Pd(96*n):e.endsWith("cm")?Pd(96*n/2.54):e.endsWith("mm")?Pd(n/10*96/2.54):e})(t)}function L2(o,t){if(!o.childCount)return;const e=new no(o.document),n=(function(s,l){const d=l.createRangeIn(s),u=new xn({name:/v:(.+)/}),m=[];for(const g of d){if(g.type!="elementStart")continue;const k=g.item,_=k.previousSibling,v=_&&_.is("element")?_.name:null,E=["Chart"],z=u.match(k),L=k.getAttribute("o:gfxdata"),F=v==="v:shapetype",G=L&&E.some((X=>k.getAttribute("id").includes(X)));z&&L&&!F&&!G&&m.push(g.item.getAttribute("id"))}return m})(o,e);(function(s,l,d){const u=d.createRangeIn(l),m=new xn({name:"img"}),g=[];for(const k of u)if(k.item.is("element")&&m.match(k.item)){const _=k.item,v=_.getAttribute("v:shapes")?_.getAttribute("v:shapes").split(" "):[];v.length&&v.every((E=>s.indexOf(E)>-1))?g.push(_):_.getAttribute("src")||g.push(_)}for(const k of g)d.remove(k)})(n,o,e),(function(s,l,d){const u=d.createRangeIn(l),m=[];for(const _ of u)if(_.type=="elementStart"&&_.item.is("element","v:shape")){const v=_.item.getAttribute("id");if(s.includes(v))continue;g(_.item.parent.getChildren(),v)||m.push(_.item)}for(const _ of m){const v={src:k(_)};_.hasAttribute("alt")&&(v.alt=_.getAttribute("alt"));const E=d.createElement("img",v);d.insertChild(_.index+1,E,_.parent)}function g(_,v){for(const E of _)if(E.is("element")&&(E.name=="img"&&E.getAttribute("v:shapes")==v||g(E.getChildren(),v)))return!0;return!1}function k(_){for(const v of _.getChildren())if(v.is("element")&&v.getAttribute("src"))return v.getAttribute("src")}})(n,o,e),(function(s,l){const d=l.createRangeIn(s),u=new xn({name:/v:(.+)/}),m=[];for(const g of d)g.type=="elementStart"&&u.match(g.item)&&m.push(g.item);for(const g of m)l.remove(g)})(o,e);const i=(function(s,l){const d=l.createRangeIn(s),u=new xn({name:"img"}),m=[];for(const g of d)g.item.is("element")&&u.match(g.item)&&g.item.getAttribute("src").startsWith("file://")&&m.push(g.item);return m})(o,e);i.length&&(function(s,l,d){if(s.length===l.length)for(let u=0;u<s.length;u++){const m=`data:${l[u].type};base64,${R2(l[u].hex)}`;d.setAttribute("src",m,s[u])}})(i,(function(s){if(!s)return[];const l=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,d=new RegExp("(?:("+l.source+"))([\\da-fA-F\\s]+)\\}","g"),u=s.match(d),m=[];if(u)for(const g of u){let k=!1;g.includes("\\pngblip")?k="image/png":g.includes("\\jpegblip")&&(k="image/jpeg"),k&&m.push({hex:g.replace(l,"").replace(/[^\da-fA-F]/g,""),type:k})}return m})(t),e)}function R2(o){return btoa(o.match(/\w{2}/g).map((t=>String.fromCharCode(parseInt(t,16)))).join(""))}const j2=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,P2=/xmlns:o="urn:schemas-microsoft-com/i;class F2{document;hasMultiLevelListPlugin;constructor(t,e=!1){this.document=t,this.hasMultiLevelListPlugin=e}isActive(t){return j2.test(t)||P2.test(t)}execute(t){const{body:e,stylesString:n}=t._parsedData;D2(e,n,this.hasMultiLevelListPlugin),L2(e,t.dataTransfer.getData("text/rtf")),(function(i){const s=[],l=new no(i.document);for(const{item:d}of l.createRangeIn(i))if(d.is("element")){for(const u of d.getClassNames())/\bmso/gi.exec(u)&&l.removeClass(u,d);for(const u of d.getStyleNames())/\bmso/gi.exec(u)&&l.removeStyle(u,d);(d.is("element","w:sdt")||d.is("element","w:sdtpr")&&d.isEmpty||d.is("element","o:p")&&d.isEmpty)&&s.push(d)}for(const d of s){const u=d.parent,m=u.getChildIndex(d);l.insertChild(m,d.getChildren(),u),l.remove(d)}})(e),t.content=e}}function xC(o,t,e,{blockElements:n,inlineObjectElements:i}){let s=e.createPositionAt(o,t=="forward"?"after":"before");return s=s.getLastMatchingPosition((({item:l})=>l.is("element")&&!n.includes(l.name)&&!i.includes(l.name)),{direction:t}),t=="forward"?s.nodeAfter:s.nodeBefore}function EC(o,t){return!!o&&o.is("element")&&t.includes(o.name)}const V2=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class U2{document;constructor(t){this.document=t}isActive(t){return V2.test(t)}execute(t){const e=new no(this.document),{body:n}=t._parsedData;(function(i,s){for(const l of i.getChildren())if(l.is("element","b")&&l.getStyle("font-weight")==="normal"){const d=i.getChildIndex(l);s.remove(l),s.insertChild(d,l.getChildren(),i)}})(n,e),(function(i,s){for(const l of s.createRangeIn(i)){const d=l.item;if(d.is("element","li")){const u=d.getChild(0);u&&u.is("element","p")&&s.unwrapElement(u)}}})(n,e),(function(i,s){const l=new El(s.document.stylesProcessor),d=new Bl(l,{renderingMode:"data"}),u=d.blockElements,m=d.inlineObjectElements,g=[];for(const k of s.createRangeIn(i)){const _=k.item;if(_.is("element","br")){const v=xC(_,"forward",s,{blockElements:u,inlineObjectElements:m}),E=xC(_,"backward",s,{blockElements:u,inlineObjectElements:m}),z=EC(v,u);(EC(E,u)||z)&&g.push(_)}}for(const k of g)k.hasClass("Apple-interchange-newline")?s.remove(k):s.replace(k,s.createElement("p"))})(n,e),t.content=n}}const H2=/<google-sheets-html-origin/i;class q2{document;constructor(t){this.document=t}isActive(t){return H2.test(t)}execute(t){const e=new no(this.document),{body:n}=t._parsedData;(function(i,s){for(const l of i.getChildren())if(l.is("element","google-sheets-html-origin")){const d=i.getChildIndex(l);s.remove(l),s.insertChild(d,l.getChildren(),i)}})(n,e),(function(i,s){for(const l of i.getChildren())l.is("element","table")&&l.hasAttribute("xmlns")&&s.removeAttribute("xmlns",l)})(n,e),(function(i,s){for(const l of i.getChildren())l.is("element","table")&&l.getStyle("width")==="0px"&&s.removeStyle("width",l)})(n,e),(function(i,s){for(const l of Array.from(i.getChildren()))l.is("element","style")&&s.remove(l)})(n,e),t.content=n}}function DC(o){return o.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((t,e)=>e.length===1?" ":Array(e.length+1).join("  ").substr(0,e.length)))}function G2(o,t){const e=new DOMParser,n=(function(u){return DC(DC(u)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")})((function(u){const m="</body>",g="</html>",k=u.indexOf(m);if(k<0)return u;const _=u.indexOf(g,k+m.length);return u.substring(0,k+m.length)+(_>=0?u.substring(_):"")})(o=(o=o.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),i=e.parseFromString(n,"text/html");(function(u){u.querySelectorAll("span[style*=spacerun]").forEach((m=>{const g=m,k=g.innerText.length||0;g.innerText=Array(k+1).join("  ").substr(0,k)}))})(i);const s=i.body.innerHTML,l=(function(u,m){const g=new El(m),k=new Bl(g,{renderingMode:"data"}),_=u.createDocumentFragment(),v=u.body.childNodes;for(;v.length>0;)_.appendChild(v[0]);return k.domToView(_,{skipComments:!0})})(i,t),d=(function(u){const m=[],g=[],k=Array.from(u.getElementsByTagName("style"));for(const _ of k)_.sheet&&_.sheet.cssRules&&_.sheet.cssRules.length&&(m.push(_.sheet),g.push(_.innerHTML));return{styles:m,stylesString:g.join(" ")}})(i);return{body:l,bodyString:s,styles:d.styles,stylesString:d.stylesString}}class K2 extends ft{static get pluginName(){return"PasteFromOffice"}static get requires(){return[io]}init(){const t=this.editor,e=t.plugins.get("ClipboardPipeline"),n=t.editing.view.document,i=[],s=this.editor.plugins.has("MultiLevelList");i.push(new F2(n,s)),i.push(new U2(n)),i.push(new q2(n)),e.on("inputTransformation",((l,d)=>{if(d._isTransformedWithPasteFromOffice||t.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const u=d.dataTransfer.getData("text/html"),m=i.find((g=>g.isActive(u)));m&&(d._parsedData||(d._parsedData=G2(u,n.stylesProcessor)),m.execute(d),d._isTransformedWithPasteFromOffice=!0)}),{priority:"high"})}}function Je(o,t,e,n,i=1){t!=null&&i!=null&&t>i?n.setAttribute(o,t,e):n.removeAttribute(o,e)}function oc(o,t,e={}){const n=o.createElement("tableCell",e);return o.insertElement("paragraph",n),o.insert(n,t),n}function sb(o,t){const e=t.parent.parent,n=parseInt(e.getAttribute("headingColumns")||"0"),{column:i}=o.getCellLocation(t);return!!n&&i<n}function Y2(){return o=>{o.on("element:table",((t,e,n)=>{const i=e.viewItem;if(!n.consumable.test(i,{name:!0}))return;const{rows:s,headingRows:l,headingColumns:d}=(function(g){let k,_=0;const v=[],E=[];let z;for(const L of Array.from(g.getChildren())){if(L.name!=="tbody"&&L.name!=="thead"&&L.name!=="tfoot")continue;L.name!=="thead"||z||(z=L);const F=Array.from(L.getChildren()).filter((G=>G.is("element","tr")));for(const G of F)if(z&&L===z||L.name==="tbody"&&Array.from(G.getChildren()).length&&Array.from(G.getChildren()).every((X=>X.is("element","th"))))_++,v.push(G);else{E.push(G);const X=Q2(G);(!k||X<k)&&(k=X)}}return{headingRows:_,headingColumns:k||0,rows:[...v,...E]}})(i),u={};d&&(u.headingColumns=d),l&&(u.headingRows=l);const m=n.writer.createElement("table",u);if(n.safeInsert(m,e.modelCursor)){if(n.consumable.consume(i,{name:!0}),s.forEach((g=>n.convertItem(g,n.writer.createPositionAt(m,"end")))),n.convertChildren(i,n.writer.createPositionAt(m,"end")),m.isEmpty){const g=n.writer.createElement("tableRow");n.writer.insert(g,n.writer.createPositionAt(m,"end")),oc(n.writer,n.writer.createPositionAt(g,"end"))}n.updateConversionResult(m,e)}}))}}function SC(o){return t=>{t.on(`element:${o}`,((e,n,{writer:i})=>{if(!n.modelRange)return;const s=n.modelRange.start.nodeAfter,l=i.createPositionAt(s,0);if(n.viewItem.isEmpty)return void i.insertElement("paragraph",l);const d=Array.from(s.getChildren());if(d.every((u=>u.is("element","$marker")))){const u=i.createElement("paragraph");i.insert(u,i.createPositionAt(s,0));for(const m of d)i.move(i.createRangeOn(m),i.createPositionAt(u,"end"))}}),{priority:"low"})}}function Q2(o){let t=0,e=0;const n=Array.from(o.getChildren()).filter((i=>i.name==="th"||i.name==="td"));for(;e<n.length&&n[e].name==="th";){const i=n[e];t+=parseInt(i.getAttribute("colspan")||"1"),e++}return t}class De{_table;_startRow;_endRow;_startColumn;_endColumn;_includeAllSlots;_skipRows;_row;_rowIndex;_column;_cellIndex;_spannedCells;_nextCellAtColumn;_jumpedToStartRow=!1;constructor(t,e={}){this._table=t,this._startRow=e.row!==void 0?e.row:e.startRow||0,this._endRow=e.row!==void 0?e.row:e.endRow,this._startColumn=e.column!==void 0?e.column:e.startColumn||0,this._endColumn=e.column!==void 0?e.column:e.endColumn,this._includeAllSlots=!!e.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const t=this._table.getChild(this._rowIndex);if(!t||this._isOverEndRow())return{done:!0,value:void 0};if(!t.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let e=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(e=this._formatOutValue(n.cell,n.row,n.column));else{const i=t.getChild(this._cellIndex);if(!i)return this._advanceToNextRow();const s=parseInt(i.getAttribute("colspan")||"1"),l=parseInt(i.getAttribute("rowspan")||"1");(s>1||l>1)&&this._recordSpans(i,l,s),this._shouldSkipSlot()||(e=this._formatOutValue(i)),this._nextCellAtColumn=this._column+s}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,e||this.next()}skipRow(t){this._skipRows.add(t)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(t,e=this._row,n=this._column){return{done:!1,value:new W2(this,t,e,n)}}_shouldSkipSlot(){const t=this._skipRows.has(this._row),e=this._row<this._startRow,n=this._column<this._startColumn,i=this._endColumn!==void 0&&this._column>this._endColumn;return t||e||n||i}_getSpanned(){const t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}_recordSpans(t,e,n){const i={cell:t,row:this._row,column:this._column};for(let s=this._row;s<this._row+e;s++)for(let l=this._column;l<this._column+n;l++)s==this._row&&l==this._column||this._markSpannedCell(s,l,i)}_markSpannedCell(t,e,n){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(e,n)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const t=this._getRowLength(0);for(let e=this._startRow;!this._jumpedToStartRow;e--)t===this._getRowLength(e)&&(this._row=e,this._rowIndex=e,this._jumpedToStartRow=!0)}_getRowLength(t){return[...this._table.getChild(t).getChildren()].reduce(((e,n)=>e+parseInt(n.getAttribute("colspan")||"1")),0)}}class W2{cell;row;column;cellAnchorRow;cellAnchorColumn;_cellIndex;_rowIndex;_table;constructor(t,e,n,i){this.cell=e,this.row=t._row,this.column=t._column,this.cellAnchorRow=n,this.cellAnchorColumn=i,this._cellIndex=t._cellIndex,this._rowIndex=t._rowIndex,this._table=t._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function TC(o,t){return(e,{writer:n})=>{const i=e.getAttribute("headingRows")||0,s=n.createContainerElement("table",null,[]),l=n.createContainerElement("figure",{class:"table"},s);i>0&&n.insert(n.createPositionAt(s,"end"),n.createContainerElement("thead",null,n.createSlot((d=>d.is("element","tableRow")&&d.index<i)))),i<o.getRows(e)&&n.insert(n.createPositionAt(s,"end"),n.createContainerElement("tbody",null,n.createSlot((d=>d.is("element","tableRow")&&d.index>=i))));for(const{positionOffset:d,filter:u}of t.additionalSlots)n.insert(n.createPositionAt(s,d),n.createSlot(u));return n.insert(n.createPositionAt(s,"after"),n.createSlot((d=>!d.is("element","tableRow")&&!t.additionalSlots.some((({filter:u})=>u(d)))))),t.asWidget?(function(d,u){return u.setCustomProperty("table",!0,d),Uk(d,u,{hasSelectionHandle:!0})})(l,n):l}}function MC(o={}){return(t,{writer:e})=>{const n=t.parent,i=n.parent,s=i.getChildIndex(n),l=new De(i,{row:s}),d=i.getAttribute("headingRows")||0,u=i.getAttribute("headingColumns")||0;let m=null;for(const g of l)if(g.cell==t){const k=g.row<d||g.column<u?"th":"td";m=o.asWidget?$w(e.createEditableElement(k),e):e.createContainerElement(k);break}return m}}function BC(o={}){return(t,{writer:e})=>{if(!t.parent.is("element","tableCell")||!IC(t))return null;if(o.asWidget)return e.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const n=e.createContainerElement("p");return e.setCustomProperty("dataPipeline:transparentRendering",!0,n),n}}}function IC(o){return o.parent.childCount==1&&!!o.getAttributeKeys().next().done}class $2 extends Ht{refresh(){const t=this.editor.model,e=t.document.selection,n=t.schema;this.isEnabled=(function(i,s){const l=i.getFirstPosition().parent,d=l===l.root?l:l.parent;return s.checkChild(d,"table")})(e,n)}execute(t={}){const e=this.editor,n=e.model,i=e.plugins.get("TableUtils"),s=e.config.get("table.defaultHeadings.rows"),l=e.config.get("table.defaultHeadings.columns");t.headingRows===void 0&&s&&(t.headingRows=s),t.headingColumns===void 0&&l&&(t.headingColumns=l),n.change((d=>{const u=i.createTable(d,t);n.insertObject(u,null,null,{findOptimalPosition:"auto"}),d.setSelection(d.createPositionAt(u.getNodeByPath([0,0,0]),0))}))}}class NC extends Ht{order;constructor(t,e={}){super(t),this.order=e.order||"below"}refresh(){const t=this.editor.model.document.selection,e=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=e}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),i=this.order==="above",s=n.getSelectionAffectedTableCells(e),l=n.getRowIndexes(s),d=i?l.first:l.last,u=s[0].findAncestor("table");n.insertRows(u,{at:i?d:d+1,copyStructureFromAbove:!i})}}class zC extends Ht{order;constructor(t,e={}){super(t),this.order=e.order||"right"}refresh(){const t=this.editor.model.document.selection,e=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=e}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),i=this.order==="left",s=n.getSelectionAffectedTableCells(e),l=n.getColumnIndexes(s),d=i?l.first:l.last,u=s[0].findAncestor("table");n.insertColumns(u,{columns:1,at:i?d:d+1})}}class OC extends Ht{direction;constructor(t,e={}){super(t),this.direction=e.direction||"horizontally"}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length===1}execute(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?t.splitCellHorizontally(e,2):t.splitCellVertically(e,2)}}function LC(o,t,e){const{startRow:n,startColumn:i,endRow:s,endColumn:l}=t,d=e.createElement("table"),u=s-n+1;for(let g=0;g<u;g++)e.insertElement("tableRow",d,"end");const m=[...new De(o,{startRow:n,endRow:s,startColumn:i,endColumn:l,includeAllSlots:!0})];for(const{row:g,column:k,cell:_,isAnchor:v,cellAnchorRow:E,cellAnchorColumn:z}of m){const L=g-n,F=d.getChild(L);if(v){const G=e.cloneElement(_);e.append(G,F),VC(G,g,k,s,l,e)}else(E<n||z<i)&&oc(e,e.createPositionAt(F,"end"))}return(function(g,k,_,v,E){const z=parseInt(k.getAttribute("headingRows")||"0");z>0&&Je("headingRows",z-_,g,E,0);const L=parseInt(k.getAttribute("headingColumns")||"0");L>0&&Je("headingColumns",L-v,g,E,0)})(d,o,n,i,e),d}function RC(o,t,e=0){const n=[],i=new De(o,{startRow:e,endRow:t-1});for(const s of i){const{row:l,cellHeight:d}=s;l<t&&t<=l+d-1&&n.push(s)}return n}function jC(o,t,e){const n=o.parent,i=n.parent,s=n.index,l=t-s,d={},u=parseInt(o.getAttribute("rowspan"))-l;u>1&&(d.rowspan=u);const m=parseInt(o.getAttribute("colspan")||"1");m>1&&(d.colspan=m);const g=s+l,k=[...new De(i,{startRow:s,endRow:g,includeAllSlots:!0})];let _,v=null;for(const E of k){const{row:z,column:L,cell:F}=E;F===o&&_===void 0&&(_=L),_!==void 0&&_===L&&z===g&&(v=oc(e,E.getPositionBefore(),d))}return Je("rowspan",l,o,e),v}function PC(o,t){const e=[],n=new De(o);for(const i of n){const{column:s,cellWidth:l}=i;s<t&&t<=s+l-1&&e.push(i)}return e}function FC(o,t,e,n){const i=e-t,s={},l=parseInt(o.getAttribute("colspan"))-i;l>1&&(s.colspan=l);const d=parseInt(o.getAttribute("rowspan")||"1");d>1&&(s.rowspan=d);const u=oc(n,n.createPositionAfter(o),s);return Je("colspan",i,o,n),u}function VC(o,t,e,n,i,s){const l=parseInt(o.getAttribute("colspan")||"1"),d=parseInt(o.getAttribute("rowspan")||"1");e+l-1>i&&Je("colspan",i-e+1,o,s,1),t+d-1>n&&Je("rowspan",n-t+1,o,s,1)}function ab(o,t){const e=t.getColumns(o),n=new Array(e).fill(0);for(const{column:s}of new De(o))n[s]++;const i=n.reduce(((s,l,d)=>l?s:[...s,d]),[]);if(i.length>0){const s=i[i.length-1];return t.removeColumns(o,{at:s}),!0}return!1}function lb(o,t){const e=[],n=t.getRows(o);for(let i=0;i<n;i++)o.getChild(i).isEmpty&&e.push(i);if(e.length>0){const i=e[e.length-1];return t.removeRows(o,{at:i}),!0}return!1}function cb(o,t){ab(o,t)||lb(o,t)}function UC(o,t){const e=Array.from(new De(o,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(e.every((({cellHeight:i})=>i===1)))return t.lastRow;const n=e[0].cellHeight-1;return t.lastRow+n}function HC(o,t){const e=Array.from(new De(o,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(e.every((({cellWidth:i})=>i===1)))return t.lastColumn;const n=e[0].cellWidth-1;return t.lastColumn+n}class mp extends Ht{direction;isHorizontal;constructor(t,e){super(t),this.direction=e.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}execute(){const t=this.editor.model,e=t.document,n=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(e.selection)[0],i=this.value,s=this.direction;t.change((l=>{const d=s=="right"||s=="down",u=d?n:i,m=d?i:n,g=m.parent;(function(z,L,F){qC(z)||(qC(L)&&F.remove(F.createRangeIn(L)),F.move(F.createRangeIn(z),F.createPositionAt(L,"end"))),F.remove(z)})(m,u,l);const k=this.isHorizontal?"colspan":"rowspan",_=parseInt(n.getAttribute(k)||"1"),v=parseInt(i.getAttribute(k)||"1");l.setAttribute(k,_+v,u),l.setSelection(l.createRangeIn(u));const E=this.editor.plugins.get("TableUtils");cb(g.findAncestor("table"),E)}))}_getMergeableCell(){const t=this.editor.model.document,e=this.editor.plugins.get("TableUtils"),n=e.getTableCellsContainingSelection(t.selection)[0];if(!n)return;const i=this.isHorizontal?(function(d,u,m){const g=d.parent,k=g.parent,_=u=="right"?d.nextSibling:d.previousSibling,v=(k.getAttribute("headingColumns")||0)>0;if(!_)return;const E=u=="right"?d:_,z=u=="right"?_:d,{column:L}=m.getCellLocation(E),{column:F}=m.getCellLocation(z),G=parseInt(E.getAttribute("colspan")||"1"),X=sb(m,E),lt=sb(m,z);if(!(v&&X!=lt))return L+G===F?_:void 0})(n,this.direction,e):(function(d,u,m){const g=d.parent,k=g.parent,_=k.getChildIndex(g);if(u=="down"&&_===m.getRows(k)-1||u=="up"&&_===0)return null;const v=parseInt(d.getAttribute("rowspan")||"1"),E=k.getAttribute("headingRows")||0,z=u=="down"&&_+v===E,L=u=="up"&&_===E;if(E&&(z||L))return null;const F=parseInt(d.getAttribute("rowspan")||"1"),G=u=="down"?_+F:_,X=[...new De(k,{endRow:G})],lt=X.find((Gt=>Gt.cell===d)),vt=lt.column,jt=X.find((({row:Gt,cellHeight:Oe,column:Cn})=>Cn===vt&&(u=="down"?Gt===G:G===Gt+Oe)));return jt&&jt.cell?jt.cell:null})(n,this.direction,e);if(!i)return;const s=this.isHorizontal?"rowspan":"colspan",l=parseInt(n.getAttribute(s)||"1");return parseInt(i.getAttribute(s)||"1")===l?i:void 0}}function qC(o){const t=o.getChild(0);return o.childCount==1&&t.is("element","paragraph")&&t.isEmpty}class Z2 extends Ht{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),n=e[0];if(n){const i=n.findAncestor("table"),s=t.getRows(i)-1,l=t.getRowIndexes(e),d=l.first===0&&l.last===s;this.isEnabled=!d}else this.isEnabled=!1}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),i=e.getRowIndexes(n),s=n[0],l=s.findAncestor("table"),d=e.getCellLocation(s).column;t.change((u=>{const m=i.last-i.first+1;e.removeRows(l,{at:i.first,rows:m});const g=(function(k,_,v,E){const z=k.getChild(Math.min(_,E-1));let L=z.getChild(0),F=0;for(const G of z.getChildren()){if(F>v)return L;L=G,F+=parseInt(G.getAttribute("colspan")||"1")}return L})(l,i.first,d,e.getRows(l));u.setSelection(u.createPositionAt(g,0))}))}}class J2 extends Ht{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),n=e[0];if(n){const i=n.findAncestor("table"),s=t.getColumns(i),{first:l,last:d}=t.getColumnIndexes(e);this.isEnabled=d-l<s-1}else this.isEnabled=!1}execute(){const t=this.editor.plugins.get("TableUtils"),[e,n]=(function(u,m){const g=m.getSelectionAffectedTableCells(u),k=g[0],_=g.pop(),v=[k,_];return k.isBefore(_)?v:v.reverse()})(this.editor.model.document.selection,t),i=e.parent.parent,s=[...new De(i)],l={first:s.find((u=>u.cell===e)).column,last:s.find((u=>u.cell===n)).column},d=(function(u,m,g,k){return parseInt(g.getAttribute("colspan")||"1")>1?g:m.previousSibling||g.nextSibling?g.nextSibling||m.previousSibling:k.first?u.reverse().find((({column:v})=>v<k.first)).cell:u.reverse().find((({column:v})=>v>k.last)).cell})(s,e,n,l);this.editor.model.change((u=>{const m=l.last-l.first+1;t.removeColumns(i,{at:l.first,columns:m}),u.setSelection(u.createPositionAt(d,0))}))}}class X2 extends Ht{refresh(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,n=t.getSelectionAffectedTableCells(e.document.selection),i=n.length>0;this.isEnabled=i,this.value=i&&n.every((s=>this._isInHeading(s,s.parent.parent)))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,i=e.getSelectionAffectedTableCells(n.document.selection),s=i[0].findAncestor("table"),{first:l,last:d}=e.getRowIndexes(i),u=this.value?l:d+1,m=s.getAttribute("headingRows")||0;n.change((g=>{if(u){const k=RC(s,u,u>m?m:0);for(const{cell:_}of k)jC(_,u,g)}Je("headingRows",u,s,g,0)}))}_isInHeading(t,e){const n=parseInt(e.getAttribute("headingRows")||"0");return!!n&&t.parent.index<n}}class tD extends Ht{refresh(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),i=n.length>0;this.isEnabled=i,this.value=i&&n.every((s=>sb(e,s)))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,i=e.getSelectionAffectedTableCells(n.document.selection),s=i[0].findAncestor("table"),{first:l,last:d}=e.getColumnIndexes(i),u=this.value?l:d+1;n.change((m=>{if(u){const g=PC(s,u);for(const{cell:k,column:_}of g)FC(k,_,u,m)}Je("headingColumns",u,s,m,0)}))}}function eD(o){if(o.is("element","tableColumnGroup"))return o;const t=o.getChildren();return Array.from(t).find((e=>e.is("element","tableColumnGroup")))}function nD(o){const t=eD(o);return t?Array.from(t.getChildren()):[]}class zn extends ft{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(t){const e=t.parent,n=e.parent,i=n.getChildIndex(e),s=new De(n,{row:i});for(const{cell:l,row:d,column:u}of s)if(l===t)return{row:d,column:u}}createTable(t,e){const n=t.createElement("table"),i=e.rows||2,s=e.columns||2;return db(t,n,0,i,s),e.headingRows&&Je("headingRows",Math.min(e.headingRows,i),n,t,0),e.headingColumns&&Je("headingColumns",Math.min(e.headingColumns,s),n,t,0),n}insertRows(t,e={}){const n=this.editor.model,i=e.at||0,s=e.rows||1,l=e.copyStructureFromAbove!==void 0,d=e.copyStructureFromAbove?i-1:i,u=this.getRows(t),m=this.getColumns(t);if(i>u)throw new H("tableutils-insertrows-insert-out-of-range",this,{options:e});n.change((g=>{const k=t.getAttribute("headingRows")||0;if(k>i&&Je("headingRows",k+s,t,g,0),!l&&(i===0||i===u))return void db(g,t,i,s,m);const _=l?Math.max(i,d):i,v=new De(t,{endRow:_}),E=new Array(m).fill(1);for(const{row:z,column:L,cellHeight:F,cellWidth:G,cell:X}of v){const lt=z+F-1,vt=z<=d&&d<=lt;z<i&&i<=lt?(g.setAttribute("rowspan",F+s,X),E[L]=-G):l&&vt&&(E[L]=G)}for(let z=0;z<s;z++){const L=g.createElement("tableRow");g.insert(L,t,i);for(let F=0;F<E.length;F++){const G=E[F],X=g.createPositionAt(L,"end");G>0&&oc(g,X,G>1?{colspan:G}:void 0),F+=Math.abs(G)-1}}}))}insertColumns(t,e={}){const n=this.editor.model,i=e.at||0,s=e.columns||1;n.change((l=>{const d=t.getAttribute("headingColumns");i<d&&l.setAttribute("headingColumns",d+s,t);const u=this.getColumns(t);if(i===0||u===i){for(const g of t.getChildren())g.is("element","tableRow")&&Fd(s,l,l.createPositionAt(g,i?"end":0));return}const m=new De(t,{column:i,includeAllSlots:!0});for(const g of m){const{row:k,cell:_,cellAnchorColumn:v,cellAnchorRow:E,cellWidth:z,cellHeight:L}=g;if(v<i){l.setAttribute("colspan",z+s,_);const F=E+L-1;for(let G=k;G<=F;G++)m.skipRow(G)}else Fd(s,l,g.getPositionBefore())}}))}removeRows(t,e){const n=this.editor.model,i=e.rows||1,s=this.getRows(t),l=e.at,d=l+i-1;if(d>s-1)throw new H("tableutils-removerows-row-index-out-of-range",this,{table:t,options:e});n.change((u=>{const m={first:l,last:d},{cellsToMove:g,cellsToTrim:k}=(function(_,{first:v,last:E}){const z=new Map,L=[];for(const{row:F,column:G,cellHeight:X,cell:lt}of new De(_,{endRow:E})){const vt=F+X-1;if(F>=v&&F<=E&&vt>E){const jt=X-(E-F+1);z.set(G,{cell:lt,rowspan:jt})}if(F<v&&vt>=v){let jt;jt=vt>=E?E-v+1:vt-v+1,L.push({cell:lt,rowspan:X-jt})}}return{cellsToMove:z,cellsToTrim:L}})(t,m);g.size&&(function(_,v,E,z){const L=new De(_,{includeAllSlots:!0,row:v}),F=[...L],G=_.getChild(v);let X;for(const{column:lt,cell:vt,isAnchor:jt}of F)if(E.has(lt)){const{cell:Gt,rowspan:Oe}=E.get(lt),Cn=X?z.createPositionAfter(X):z.createPositionAt(G,0);z.move(z.createRangeOn(Gt),Cn),Je("rowspan",Oe,Gt,z),X=Gt}else jt&&(X=vt)})(t,d+1,g,u);for(let _=d;_>=l;_--)u.remove(t.getChild(_));for(const{rowspan:_,cell:v}of k)Je("rowspan",_,v,u);(function(_,{first:v,last:E},z){const L=_.getAttribute("headingRows")||0;v<L&&Je("headingRows",E<L?L-(E-v+1):v,_,z,0)})(t,m,u),ab(t,this)||lb(t,this)}))}removeColumns(t,e){const n=this.editor.model,i=e.at,s=e.columns||1,l=e.at+s-1;n.change((d=>{(function(m,g,k){const _=m.getAttribute("headingColumns")||0;if(_&&g.first<_){const v=Math.min(_-1,g.last)-g.first+1;k.setAttribute("headingColumns",_-v,m)}})(t,{first:i,last:l},d);const u=nD(t);for(let m=l;m>=i;m--){for(const{cell:g,column:k,cellWidth:_}of[...new De(t)])k<=m&&_>1&&k+_>m?Je("colspan",_-1,g,d):k===m&&d.remove(g);if(u[m]){const g=m===0?u[1]:u[m-1],k=parseFloat(u[m].getAttribute("columnWidth")),_=parseFloat(g.getAttribute("columnWidth"));d.remove(u[m]),d.setAttribute("columnWidth",k+_+"%",g)}}lb(t,this)||ab(t,this)}))}splitCellVertically(t,e=2){const n=this.editor.model,i=t.parent.parent,s=parseInt(t.getAttribute("rowspan")||"1"),l=parseInt(t.getAttribute("colspan")||"1");n.change((d=>{if(l>1){const{newCellsSpan:u,updatedSpan:m}=GC(l,e);Je("colspan",m,t,d);const g={};u>1&&(g.colspan=u),s>1&&(g.rowspan=s),Fd(l>e?e-1:l-1,d,d.createPositionAfter(t),g)}if(l<e){const u=e-l,m=[...new De(i)],{column:g}=m.find((({cell:E})=>E===t)),k=m.filter((({cell:E,cellWidth:z,column:L})=>E!==t&&L===g||L<g&&L+z>g));for(const{cell:E,cellWidth:z}of k)d.setAttribute("colspan",z+u,E);const _={};s>1&&(_.rowspan=s),Fd(u,d,d.createPositionAfter(t),_);const v=i.getAttribute("headingColumns")||0;v>g&&Je("headingColumns",v+u,i,d)}}))}splitCellHorizontally(t,e=2){const n=this.editor.model,i=t.parent,s=i.parent,l=s.getChildIndex(i),d=parseInt(t.getAttribute("rowspan")||"1"),u=parseInt(t.getAttribute("colspan")||"1");n.change((m=>{if(d>1){const g=[...new De(s,{startRow:l,endRow:l+d-1,includeAllSlots:!0})],{newCellsSpan:k,updatedSpan:_}=GC(d,e);Je("rowspan",_,t,m);const{column:v}=g.find((({cell:z})=>z===t)),E={};k>1&&(E.rowspan=k),u>1&&(E.colspan=u);for(const z of g){const{column:L,row:F}=z;F>=l+_&&L===v&&(F+l+_)%k==0&&Fd(1,m,z.getPositionBefore(),E)}}if(d<e){const g=e-d,k=[...new De(s,{startRow:0,endRow:l})];for(const{cell:E,cellHeight:z,row:L}of k)if(E!==t&&L+z>l){const F=z+g;m.setAttribute("rowspan",F,E)}const _={};u>1&&(_.colspan=u),db(m,s,l+1,g,1,_);const v=s.getAttribute("headingRows")||0;v>l&&Je("headingRows",v+g,s,m)}}))}getColumns(t){return[...t.getChild(0).getChildren()].filter((e=>e.is("element","tableCell"))).reduce(((e,n)=>e+parseInt(n.getAttribute("colspan")||"1")),0)}getRows(t){return Array.from(t.getChildren()).reduce(((e,n)=>n.is("element","tableRow")?e+1:e),0)}createTableWalker(t,e={}){return new De(t,e)}getSelectedTableCells(t){const e=[];for(const n of this.sortRanges(t.getRanges())){const i=n.getContainedElement();i&&i.is("element","tableCell")&&e.push(i)}return e}getTableCellsContainingSelection(t){const e=[];for(const n of t.getRanges()){const i=n.start.findAncestor("tableCell");i&&e.push(i)}return e}getSelectionAffectedTableCells(t){const e=this.getSelectedTableCells(t);return e.length?e:this.getTableCellsContainingSelection(t)}getRowIndexes(t){const e=t.map((n=>n.parent.index));return this._getFirstLastIndexesObject(e)}getColumnIndexes(t){const e=t[0].findAncestor("table"),n=[...new De(e)].filter((i=>t.includes(i.cell))).map((i=>i.column));return this._getFirstLastIndexesObject(n)}isSelectionRectangular(t){if(t.length<2||!this._areCellInTheSameTableSection(t))return!1;const e=new Set,n=new Set;let i=0;for(const l of t){const{row:d,column:u}=this.getCellLocation(l),m=parseInt(l.getAttribute("rowspan"))||1,g=parseInt(l.getAttribute("colspan"))||1;e.add(d),n.add(u),m>1&&e.add(d+m-1),g>1&&n.add(u+g-1),i+=m*g}return(function(l,d){const u=Array.from(l.values()),m=Array.from(d.values()),g=Math.max(...u),k=Math.min(...u),_=Math.max(...m),v=Math.min(...m);return(g-k+1)*(_-v+1)})(e,n)==i}sortRanges(t){return Array.from(t).sort(iD)}_getFirstLastIndexesObject(t){const e=t.sort(((n,i)=>n-i));return{first:e[0],last:e[e.length-1]}}_areCellInTheSameTableSection(t){const e=t[0].findAncestor("table"),n=this.getRowIndexes(t),i=parseInt(e.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(n,i))return!1;const s=this.getColumnIndexes(t),l=parseInt(e.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(s,l)}_areIndexesInSameSection({first:t,last:e},n){return t<n==e<n}}function db(o,t,e,n,i,s={}){for(let l=0;l<n;l++){const d=o.createElement("tableRow");o.insert(d,t,e),Fd(i,o,o.createPositionAt(d,"end"),s)}}function Fd(o,t,e,n={}){for(let i=0;i<o;i++)oc(t,e,n)}function GC(o,t){if(o<t)return{newCellsSpan:1,updatedSpan:1};const e=Math.floor(o/t);return{newCellsSpan:e,updatedSpan:o-e*t+e}}function iD(o,t){const e=o.start,n=t.start;return e.isBefore(n)?-1:1}class oD extends Ht{refresh(){const t=this.editor.plugins.get(zn),e=t.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=t.isSelectionRectangular(e)}execute(){const t=this.editor.model,e=this.editor.plugins.get(zn);t.change((n=>{const i=e.getSelectedTableCells(t.document.selection),s=i.shift(),{mergeWidth:l,mergeHeight:d}=(function(u,m,g){let k=0,_=0;for(const F of m){const{row:G,column:X}=g.getCellLocation(F);k=YC(F,X,k,"colspan"),_=YC(F,G,_,"rowspan")}const{row:v,column:E}=g.getCellLocation(u),z=k-E,L=_-v;return{mergeWidth:z,mergeHeight:L}})(s,i,e);Je("colspan",l,s,n),Je("rowspan",d,s,n);for(const u of i)rD(u,s,n);cb(s.findAncestor("table"),e),n.setSelection(s,"in")}))}}function rD(o,t,e){KC(o)||(KC(t)&&e.remove(e.createRangeIn(t)),e.move(e.createRangeIn(o),e.createPositionAt(t,"end"))),e.remove(o)}function KC(o){const t=o.getChild(0);return o.childCount==1&&t.is("element","paragraph")&&t.isEmpty}function YC(o,t,e,n){const i=parseInt(o.getAttribute(n)||"1");return Math.max(e,t+i)}class sD extends Ht{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),i=e.getRowIndexes(n),s=n[0].findAncestor("table"),l=[];for(let d=i.first;d<=i.last;d++)for(const u of s.getChild(d).getChildren())l.push(t.createRangeOn(u));t.change((d=>{d.setSelection(l)}))}}class aD extends Ht{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,n=t.getSelectionAffectedTableCells(e.document.selection),i=n[0],s=n.pop(),l=i.findAncestor("table"),d=t.getCellLocation(i),u=t.getCellLocation(s),m=Math.min(d.column,u.column),g=Math.max(d.column,u.column),k=[];for(const _ of new De(l,{startColumn:m,endColumn:g}))k.push(e.createRangeOn(_.cell));e.change((_=>{_.setSelection(k)}))}}function lD(o){o.document.registerPostFixer((t=>(function(e,n){const i=n.document.differ.getChanges();let s=!1;const l=new Set;for(const d of i){let u=null;d.type=="insert"&&d.name=="table"&&(u=d.position.nodeAfter),d.type!="insert"&&d.type!="remove"||d.name!="tableRow"&&d.name!="tableCell"||(u=d.position.findAncestor("table")),uD(d)&&(u=d.range.start.findAncestor("table")),u&&!l.has(u)&&(s=cD(u,e)||s,s=dD(u,e)||s,l.add(u))}return s})(t,o)))}function cD(o,t){let e=!1;const n=(function(i){const s=parseInt(i.getAttribute("headingRows")||"0"),l=Array.from(i.getChildren()).reduce(((u,m)=>m.is("element","tableRow")?u+1:u),0),d=[];for(const{row:u,cell:m,cellHeight:g}of new De(i)){if(g<2)continue;const k=u<s?s:l;if(u+g>k){const _=k-u;d.push({cell:m,rowspan:_})}}return d})(o);if(n.length){e=!0;for(const i of n)Je("rowspan",i.rowspan,i.cell,t,1)}return e}function dD(o,t){let e=!1;const n=(function(d){const u=new Array(d.childCount).fill(0);for(const{rowIndex:m}of new De(d,{includeAllSlots:!0}))u[m]++;return u})(o),i=[];for(const[d,u]of n.entries())!u&&o.getChild(d).is("element","tableRow")&&i.push(d);if(i.length){e=!0;for(const d of i.reverse())t.remove(o.getChild(d)),n.splice(d,1)}const s=n.filter(((d,u)=>o.getChild(u).is("element","tableRow"))),l=s[0];if(!s.every((d=>d===l))){const d=s.reduce(((u,m)=>m>u?m:u),0);for(const[u,m]of s.entries()){const g=d-m;if(g){for(let k=0;k<g;k++)oc(t,t.createPositionAt(o.getChild(u),"end"));e=!0}}}return e}function uD(o){if(o.type!=="attribute")return!1;const t=o.attributeKey;return t==="headingRows"||t==="colspan"||t==="rowspan"}function hD(o){o.document.registerPostFixer((t=>(function(e,n){const i=n.document.differ.getChanges();let s=!1;for(const l of i)l.type=="insert"&&l.name=="table"&&(s=mD(l.position.nodeAfter,e)||s),l.type=="insert"&&l.name=="tableRow"&&(s=QC(l.position.nodeAfter,e)||s),l.type=="insert"&&l.name=="tableCell"&&(s=ub(l.position.nodeAfter,e)||s),l.type!="remove"&&l.type!="insert"||!fD(l)||(s=ub(l.position.parent,e)||s);return s})(t,o)))}function mD(o,t){let e=!1;for(const n of o.getChildren())n.is("element","tableRow")&&(e=QC(n,t)||e);return e}function QC(o,t){let e=!1;for(const n of o.getChildren())e=ub(n,t)||e;return e}function ub(o,t){if(o.childCount==0)return t.insertElement("paragraph",o),!0;const e=Array.from(o.getChildren()).filter((n=>n.is("$text")));for(const n of e)t.wrap(t.createRangeOn(n),"paragraph");return!!e.length}function fD(o){return!!o.position.parent.is("element","tableCell")&&(o.type=="insert"&&o.name=="$text"||o.type=="remove")}function gD(o,t){if(!o.is("element","paragraph"))return!1;const e=t.toViewElement(o);return!!e&&IC(o)!==e.is("element","span")}var WC=D(8137),pD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(WC.A,pD),WC.A.locals;class kD extends ft{_additionalSlots;static get pluginName(){return"TableEditing"}static get requires(){return[zn]}constructor(t){super(t),this._additionalSlots=[]}init(){const t=this.editor,e=t.model,n=e.schema,i=t.conversion,s=t.plugins.get(zn);n.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),i.for("upcast").add((l=>{l.on("element:figure",((d,u,m)=>{if(!m.consumable.test(u.viewItem,{name:!0,classes:"table"}))return;const g=(function(_){for(const v of _.getChildren())if(v.is("element","table"))return v})(u.viewItem);if(!g||!m.consumable.test(g,{name:!0}))return;m.consumable.consume(u.viewItem,{name:!0,classes:"table"});const k=Ye(m.convertItem(g,u.modelCursor).modelRange.getItems());k?(m.convertChildren(u.viewItem,m.writer.createPositionAt(k,"end")),m.updateConversionResult(k,u)):m.consumable.revert(u.viewItem,{name:!0,classes:"table"})}))})),i.for("upcast").add(Y2()),i.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:TC(s,{asWidget:!0,additionalSlots:this._additionalSlots})}),i.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:TC(s,{additionalSlots:this._additionalSlots})}),i.for("upcast").elementToElement({model:"tableRow",view:"tr"}),i.for("upcast").add((l=>{l.on("element:tr",((d,u)=>{u.viewItem.isEmpty&&u.modelCursor.index==0&&d.stop()}),{priority:"high"})})),i.for("downcast").elementToElement({model:"tableRow",view:(l,{writer:d})=>l.isEmpty?d.createEmptyElement("tr"):d.createContainerElement("tr")}),i.for("upcast").elementToElement({model:"tableCell",view:"td"}),i.for("upcast").elementToElement({model:"tableCell",view:"th"}),i.for("upcast").add(SC("td")),i.for("upcast").add(SC("th")),i.for("editingDowncast").elementToElement({model:"tableCell",view:MC({asWidget:!0})}),i.for("dataDowncast").elementToElement({model:"tableCell",view:MC()}),i.for("editingDowncast").elementToElement({model:"paragraph",view:BC({asWidget:!0}),converterPriority:"high"}),i.for("dataDowncast").elementToElement({model:"paragraph",view:BC(),converterPriority:"high"}),i.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),i.for("upcast").attributeToAttribute({model:{key:"colspan",value:$C("colspan")},view:"colspan"}),i.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),i.for("upcast").attributeToAttribute({model:{key:"rowspan",value:$C("rowspan")},view:"rowspan"}),t.config.define("table.defaultHeadings.rows",0),t.config.define("table.defaultHeadings.columns",0),t.commands.add("insertTable",new $2(t)),t.commands.add("insertTableRowAbove",new NC(t,{order:"above"})),t.commands.add("insertTableRowBelow",new NC(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new zC(t,{order:"left"})),t.commands.add("insertTableColumnRight",new zC(t,{order:"right"})),t.commands.add("removeTableRow",new Z2(t)),t.commands.add("removeTableColumn",new J2(t)),t.commands.add("splitTableCellVertically",new OC(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new OC(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new oD(t)),t.commands.add("mergeTableCellRight",new mp(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new mp(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new mp(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new mp(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new tD(t)),t.commands.add("setTableRowHeader",new X2(t)),t.commands.add("selectTableRow",new sD(t)),t.commands.add("selectTableColumn",new aD(t)),lD(e),hD(e),this.listenTo(e.document,"change:data",(()=>{(function(l,d){const u=l.document.differ;for(const m of u.getChanges()){let g,k=!1;if(m.type=="attribute"){const z=m.range.start.nodeAfter;if(!z||!z.is("element","table")||m.attributeKey!="headingRows"&&m.attributeKey!="headingColumns")continue;g=z,k=m.attributeKey=="headingRows"}else m.name!="tableRow"&&m.name!="tableCell"||(g=m.position.findAncestor("table"),k=m.name=="tableRow");if(!g)continue;const _=g.getAttribute("headingRows")||0,v=g.getAttribute("headingColumns")||0,E=new De(g);for(const z of E){const L=z.row<_||z.column<v?"th":"td",F=d.mapper.toViewElement(z.cell);F&&F.is("element")&&F.name!=L&&d.reconvertItem(k?z.cell.parent:z.cell)}}})(e,t.editing),(function(l,d){const u=l.document.differ,m=new Set;for(const g of u.getChanges()){const k=g.type=="attribute"?g.range.start.parent:g.position.parent;k.is("element","tableCell")&&m.add(k)}for(const g of m.values()){const k=Array.from(g.getChildren()).filter((_=>gD(_,d.mapper)));for(const _ of k)d.reconvertItem(_)}})(e,t.editing)}))}registerAdditionalSlot(t){this._additionalSlots.push(t)}}function $C(o){return t=>{const e=parseInt(t.getAttribute(o));return Number.isNaN(e)||e<=0?null:e}}var ZC=D(5032),bD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(ZC.A,bD),ZC.A.locals;class JC extends It{items;keystrokes;focusTracker;constructor(t){super(t);const e=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new cn,this.focusTracker=new Qe,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",((n,i)=>`${i} × ${n}`)),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":e.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:e.to("label")}]}],on:{mousedown:e.to((n=>{n.preventDefault()})),click:e.to((()=>{this.fire("execute")}))}}),this.on("boxover",((n,i)=>{const{row:s,column:l}=i.target.dataset;this.items.get(10*(parseInt(s,10)-1)+(parseInt(l,10)-1)).focus()})),this.focusTracker.on("change:focusedElement",((n,i,s)=>{if(!s)return;const{row:l,column:d}=s.dataset;this.set({rows:parseInt(l),columns:parseInt(d)})})),this.on("change:columns",(()=>this._highlightGridBoxes())),this.on("change:rows",(()=>this._highlightGridBoxes()))}render(){super.render(),ml({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const t of this.items)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const t=this.rows,e=this.columns;this.items.map(((n,i)=>{const s=Math.floor(i/10)<t&&i%10<e;n.set("isOn",s)}))}_createGridButton(t,e,n,i){const s=new ee(t);return s.set({label:i,class:"ck-insert-table-dropdown-grid-box"}),s.extendTemplate({attributes:{"data-row":e,"data-column":n}}),s}_createGridCollection(){const t=[];for(let e=0;e<100;e++){const n=Math.floor(e/10),i=e%10,s=`${n+1} × ${i+1}`;t.push(this._createGridButton(this.locale,n+1,i+1,s))}return this.createCollection(t)}}class wD extends ft{static get pluginName(){return"TableUI"}init(){const t=this.editor,e=this.editor.t,n=t.locale.contentLanguageDirection==="ltr";t.ui.componentFactory.add("insertTable",(i=>{const s=t.commands.get("insertTable"),l=K(i);let d;return l.bind("isEnabled").to(s),l.buttonView.set({icon:St.table,label:e("Insert table"),tooltip:!0}),l.on("change:isOpen",(()=>{d||(d=new JC(i),l.panelView.children.add(d),d.delegate("execute").to(l),l.on("execute",(()=>{t.execute("insertTable",{rows:d.rows,columns:d.columns}),t.editing.view.focus()})))})),l})),t.ui.componentFactory.add("menuBar:insertTable",(i=>{const s=t.commands.get("insertTable"),l=new za(i),d=new JC(i);return d.delegate("execute").to(l),l.on("change:isOpen",((u,m,g)=>{g||d.reset()})),d.on("execute",(()=>{t.execute("insertTable",{rows:d.rows,columns:d.columns}),t.editing.view.focus()})),l.buttonView.set({label:e("Table"),icon:St.table}),l.panelView.children.add(d),l.bind("isEnabled").to(s),l})),t.ui.componentFactory.add("tableColumn",(i=>{const s=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:e("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:e("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:e("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:e("Select column")}}];return this._prepareDropdown(e("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',s,i)})),t.ui.componentFactory.add("tableRow",(i=>{const s=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:e("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:e("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:e("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:e("Select row")}}];return this._prepareDropdown(e("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',s,i)})),t.ui.componentFactory.add("mergeTableCells",(i=>{const s=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:e("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:e("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(e("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',s,i)}))}_prepareDropdown(t,e,n,i){const s=this.editor,l=K(i),d=this._fillDropdownWithListOptions(l,n);return l.buttonView.set({label:t,icon:e,tooltip:!0}),l.bind("isEnabled").toMany(d,"isEnabled",((...u)=>u.some((m=>m)))),this.listenTo(l,"execute",(u=>{s.execute(u.source.commandName),u.source instanceof Ma||s.editing.view.focus()})),l}_prepareMergeSplitButtonDropdown(t,e,n,i){const s=this.editor,l=K(i,ot),d="mergeTableCells",u=s.commands.get(d),m=this._fillDropdownWithListOptions(l,n);return l.buttonView.set({label:t,icon:e,tooltip:!0,isEnabled:!0}),l.bind("isEnabled").toMany([u,...m],"isEnabled",((...g)=>g.some((k=>k)))),this.listenTo(l.buttonView,"execute",(()=>{s.execute(d),s.editing.view.focus()})),this.listenTo(l,"execute",(g=>{s.execute(g.source.commandName),s.editing.view.focus()})),l}_fillDropdownWithListOptions(t,e){const n=this.editor,i=[],s=new pe;for(const l of e)AD(l,n,i,s);return Nt(t,s),i}}function AD(o,t,e,n){if(o.type==="button"||o.type==="switchbutton"){const i=o.model=new iw(o.model),{commandName:s,bindIsOn:l}=o.model,d=t.commands.get(s);e.push(d),i.set({commandName:s}),i.bind("isEnabled").to(d),l&&i.bind("isOn").to(d,"value"),i.set({withText:!0})}n.add(o)}var XC=D(8423),_D={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(XC.A,_D),XC.A.locals;class rc extends ft{static get pluginName(){return"TableSelection"}static get requires(){return[zn,zn]}init(){const t=this.editor,e=t.model,n=t.editing.view;this.listenTo(e,"deleteContent",((i,s)=>this._handleDeleteContent(i,s)),{priority:"high"}),this.listenTo(n.document,"insertText",((i,s)=>this._handleInsertTextEvent(i,s)),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const t=this.editor.plugins.get(zn),e=this.editor.model.document.selection,n=t.getSelectedTableCells(e);return n.length==0?null:n}getSelectionAsFragment(){const t=this.editor.plugins.get(zn),e=this.getSelectedTableCells();return e?this.editor.model.change((n=>{const i=n.createDocumentFragment(),{first:s,last:l}=t.getColumnIndexes(e),{first:d,last:u}=t.getRowIndexes(e),m=e[0].findAncestor("table");let g=u,k=l;if(t.isSelectionRectangular(e)){const v={firstColumn:s,lastColumn:l,firstRow:d,lastRow:u};g=UC(m,v),k=HC(m,v)}const _=LC(m,{startRow:d,startColumn:s,endRow:g,endColumn:k},n);return n.insert(_,i,0),i})):null}setCellSelection(t,e){const n=this._getCellsToSelect(t,e);this.editor.model.change((i=>{i.setSelection(n.cells.map((s=>i.createRangeOn(s))),{backward:n.backward})}))}getFocusCell(){const t=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return t&&t.is("element","tableCell")?t:null}getAnchorCell(){const t=Ye(this.editor.model.document.selection.getRanges()).getContainedElement();return t&&t.is("element","tableCell")?t:null}_defineSelectionConverter(){const t=this.editor,e=new Set;t.conversion.for("editingDowncast").add((n=>n.on("selection",((i,s,l)=>{const d=l.writer;(function(g){for(const k of e)g.removeClass("ck-editor__editable_selected",k);e.clear()})(d);const u=this.getSelectedTableCells();if(!u)return;for(const g of u){const k=l.mapper.toViewElement(g);d.addClass("ck-editor__editable_selected",k),e.add(k)}const m=l.mapper.toViewElement(u[u.length-1]);d.setSelection(m,0)}),{priority:"lowest"})))}_enablePluginDisabling(){const t=this.editor;this.on("change:isEnabled",(()=>{if(!this.isEnabled){const e=this.getSelectedTableCells();if(!e)return;t.model.change((n=>{const i=n.createPositionAt(e[0],0),s=t.model.schema.getNearestSelectionRange(i);n.setSelection(s)}))}}))}_handleDeleteContent(t,e){const n=this.editor.plugins.get(zn),i=e[0],s=e[1],l=this.editor.model,d=!s||s.direction=="backward",u=n.getSelectedTableCells(i);u.length&&(t.stop(),l.change((m=>{const g=u[d?u.length-1:0];l.change((_=>{for(const v of u)l.deleteContent(_.createSelection(v,"in"))}));const k=l.schema.getNearestSelectionRange(m.createPositionAt(g,0));i.is("documentSelection")?m.setSelection(k):i.setTo(k)})))}_handleInsertTextEvent(t,e){const n=this.editor,i=this.getSelectedTableCells();if(!i)return;const s=n.editing.view,l=n.editing.mapper,d=i.map((u=>s.createRangeOn(l.toViewElement(u))));e.selection=s.createSelection(d)}_getCellsToSelect(t,e){const n=this.editor.plugins.get("TableUtils"),i=n.getCellLocation(t),s=n.getCellLocation(e),l=Math.min(i.row,s.row),d=Math.max(i.row,s.row),u=Math.min(i.column,s.column),m=Math.max(i.column,s.column),g=new Array(d-l+1).fill(null).map((()=>[])),k={startRow:l,endRow:d,startColumn:u,endColumn:m};for(const{row:E,cell:z}of new De(t.findAncestor("table"),k))g[E-l].push(z);const _=s.row<i.row,v=s.column<i.column;return _&&g.reverse(),v&&g.forEach((E=>E.reverse())),{cells:g.flat(),backward:_||v}}}class CD extends ft{static get pluginName(){return"TableClipboard"}static get requires(){return[um,io,rc,zn]}init(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"copy",((n,i)=>this._onCopyCut(n,i))),this.listenTo(e,"cut",((n,i)=>this._onCopyCut(n,i))),this.listenTo(t.model,"insertContent",((n,[i,s])=>this._onInsertContent(n,i,s)),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(t,e){const n=this.editor.editing.view,i=this.editor.plugins.get(rc),s=this.editor.plugins.get(um);i.getSelectedTableCells()&&(t.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(e.preventDefault(),t.stop(),this.editor.model.enqueueChange({isUndoable:t.name==="cut"},(()=>{const l=s._copySelectedFragmentWithMarkers(t.name,this.editor.model.document.selection,(()=>i.getSelectionAsFragment()));n.document.fire("clipboardOutput",{dataTransfer:e.dataTransfer,content:this.editor.data.toView(l),method:t.name})})))}_onInsertContent(t,e,n){if(n&&!n.is("documentSelection"))return;const i=this.editor.model,s=this.editor.plugins.get(zn),l=this.editor.plugins.get(um),d=this.getTableIfOnlyTableInContent(e,i);if(!d)return;const u=s.getSelectionAffectedTableCells(i.document.selection);u.length?(t.stop(),e.is("documentFragment")?l._pasteMarkersIntoTransformedElement(e.markers,(m=>this._replaceSelectedCells(d,u,m))):this.editor.model.change((m=>{this._replaceSelectedCells(d,u,m)}))):cb(d,s)}_replaceSelectedCells(t,e,n){const i=this.editor.plugins.get(zn),s={width:i.getColumns(t),height:i.getRows(t)},l=(function(k,_,v,E){const z=k[0].findAncestor("table"),L=E.getColumnIndexes(k),F=E.getRowIndexes(k),G={firstColumn:L.first,lastColumn:L.last,firstRow:F.first,lastRow:F.last},X=k.length===1;return X&&(G.lastRow+=_.height-1,G.lastColumn+=_.width-1,(function(lt,vt,jt,Gt){const Oe=Gt.getColumns(lt),Cn=Gt.getRows(lt);jt>Oe&&Gt.insertColumns(lt,{at:Oe,columns:jt-Oe}),vt>Cn&&Gt.insertRows(lt,{at:Cn,rows:vt-Cn})})(z,G.lastRow+1,G.lastColumn+1,E)),X||!E.isSelectionRectangular(k)?(function(lt,vt,jt){const{firstRow:Gt,lastRow:Oe,firstColumn:Cn,lastColumn:mv}=vt,fv={first:Gt,last:Oe},gv={first:Cn,last:mv};mb(lt,Cn,fv,jt),mb(lt,mv+1,fv,jt),hb(lt,Gt,gv,jt),hb(lt,Oe+1,gv,jt,Gt)})(z,G,v):(G.lastRow=UC(z,G),G.lastColumn=HC(z,G)),G})(e,s,n,i),d=l.lastRow-l.firstRow+1,u=l.lastColumn-l.firstColumn+1;t=LC(t,{startRow:0,startColumn:0,endRow:Math.min(d,s.height)-1,endColumn:Math.min(u,s.width)-1},n);const m=e[0].findAncestor("table"),g=this._replaceSelectedCellsWithPasted(t,s,m,l,n);if(this.editor.plugins.get("TableSelection").isEnabled){const k=i.sortRanges(g.map((_=>n.createRangeOn(_))));n.setSelection(k)}else n.setSelection(g[0],0);return m}_replaceSelectedCellsWithPasted(t,e,n,i,s){const{width:l,height:d}=e,u=(function(L,F,G){const X=new Array(G).fill(null).map((()=>new Array(F).fill(null)));for(const{column:lt,row:vt,cell:jt}of new De(L))X[vt][lt]=jt;return X})(t,l,d),m=[...new De(n,{startRow:i.firstRow,endRow:i.lastRow,startColumn:i.firstColumn,endColumn:i.lastColumn,includeAllSlots:!0})],g=[];let k;for(const L of m){const{row:F,column:G}=L;G===i.firstColumn&&(k=L.getPositionBefore());const X=F-i.firstRow,lt=G-i.firstColumn,vt=u[X%d][lt%l],jt=vt?s.cloneElement(vt):null,Gt=this._replaceTableSlotCell(L,jt,k,s);Gt&&(VC(Gt,F,G,i.lastRow,i.lastColumn,s),g.push(Gt),k=s.createPositionAfter(Gt))}const _=parseInt(n.getAttribute("headingRows")||"0"),v=parseInt(n.getAttribute("headingColumns")||"0"),E=i.firstRow<_&&_<=i.lastRow,z=i.firstColumn<v&&v<=i.lastColumn;if(E){const L=hb(n,_,{first:i.firstColumn,last:i.lastColumn},s,i.firstRow);g.push(...L)}if(z){const L=mb(n,v,{first:i.firstRow,last:i.lastRow},s);g.push(...L)}return g}_replaceTableSlotCell(t,e,n,i){const{cell:s,isAnchor:l}=t;return l&&i.remove(s),e?(i.insert(e,n),e):null}getTableIfOnlyTableInContent(t,e){if(!t.is("documentFragment")&&!t.is("element"))return null;if(t.is("element","table"))return t;if(t.childCount==1&&t.getChild(0).is("element","table"))return t.getChild(0);const n=e.createRangeIn(t);for(const i of n.getItems())if(i.is("element","table")){const s=e.createRange(n.start,e.createPositionBefore(i));if(e.hasContent(s,{ignoreWhitespaces:!0}))return null;const l=e.createRange(e.createPositionAfter(i),n.end);return e.hasContent(l,{ignoreWhitespaces:!0})?null:i}return null}}function hb(o,t,e,n,i=0){if(!(t<1))return RC(o,t,i).filter((({column:s,cellWidth:l})=>tv(s,l,e))).map((({cell:s})=>jC(s,t,n)))}function mb(o,t,e,n){if(!(t<1))return PC(o,t).filter((({row:i,cellHeight:s})=>tv(i,s,e))).map((({cell:i,column:s})=>FC(i,s,t,n)))}function tv(o,t,e){const n=o+t-1,{first:i,last:s}=e;return o>=i&&o<=s||o<i&&n>=i}class vD extends ft{static get pluginName(){return"TableKeyboard"}static get requires(){return[rc,zn]}init(){const t=this.editor,e=t.editing.view.document,n=t.t;this.listenTo(e,"arrowKey",((...i)=>this._onArrowKey(...i)),{context:"table"}),this.listenTo(e,"tab",((...i)=>this._handleTabOnSelectedTable(...i)),{context:"figure"}),this.listenTo(e,"tab",((...i)=>this._handleTab(...i)),{context:["th","td"]}),t.accessibility.addKeystrokeInfoGroup({id:"table",label:n("Keystrokes that can be used in a table cell"),keystrokes:[{label:n("Move the selection to the next cell"),keystroke:"Tab"},{label:n("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:n("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:n("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(t,e){const n=this.editor,i=n.model.document.selection.getSelectedElement();i&&i.is("element","table")&&(e.preventDefault(),e.stopPropagation(),t.stop(),n.model.change((s=>{s.setSelection(s.createRangeIn(i.getChild(0).getChild(0)))})))}_handleTab(t,e){const n=this.editor,i=this.editor.plugins.get(zn),s=this.editor.plugins.get("TableSelection"),l=n.model.document.selection,d=!e.shiftKey;let u=i.getTableCellsContainingSelection(l)[0];if(u||(u=s.getFocusCell()),!u)return;e.preventDefault(),e.stopPropagation(),t.stop();const m=u.parent,g=m.parent,k=g.getChildIndex(m),_=m.getChildIndex(u),v=_===0;if(!d&&v&&k===0)return void n.model.change((F=>{F.setSelection(F.createRangeOn(g))}));const E=_===m.childCount-1,z=k===i.getRows(g)-1;if(d&&z&&E&&(n.execute("insertTableRowBelow"),k===i.getRows(g)-1))return void n.model.change((F=>{F.setSelection(F.createRangeOn(g))}));let L;if(d&&E)L=g.getChild(k+1).getChild(0);else if(!d&&v){const F=g.getChild(k-1);L=F.getChild(F.childCount-1)}else L=m.getChild(_+(d?1:-1));n.model.change((F=>{F.setSelection(F.createRangeIn(L))}))}_onArrowKey(t,e){const n=this.editor,i=Zt(e.keyCode,n.locale.contentLanguageDirection);this._handleArrowKeys(i,e.shiftKey)&&(e.preventDefault(),e.stopPropagation(),t.stop())}_handleArrowKeys(t,e){const n=this.editor.plugins.get(zn),i=this.editor.plugins.get("TableSelection"),s=this.editor.model,l=s.document.selection,d=["right","down"].includes(t),u=n.getSelectedTableCells(l);if(u.length){let g;return g=e?i.getFocusCell():d?u[u.length-1]:u[0],this._navigateFromCellInDirection(g,t,e),!0}const m=l.focus.findAncestor("tableCell");if(!m)return!1;if(!l.isCollapsed)if(e){if(l.isBackward==d&&!l.containsEntireContent(m))return!1}else{const g=l.getSelectedElement();if(!g||!s.schema.isObject(g))return!1}return!!this._isSelectionAtCellEdge(l,m,d)&&(this._navigateFromCellInDirection(m,t,e),!0)}_isSelectionAtCellEdge(t,e,n){const i=this.editor.model,s=this.editor.model.schema,l=n?t.getLastPosition():t.getFirstPosition();if(!s.getLimitElement(l).is("element","tableCell"))return i.createPositionAt(e,n?"end":0).isTouching(l);const d=i.createSelection(l);return i.modifySelection(d,{direction:n?"forward":"backward"}),l.isEqual(d.focus)}_navigateFromCellInDirection(t,e,n=!1){const i=this.editor.model,s=t.findAncestor("table"),l=[...new De(s,{includeAllSlots:!0})],{row:d,column:u}=l[l.length-1],m=l.find((({cell:z})=>z==t));let{row:g,column:k}=m;switch(e){case"left":k--;break;case"up":g--;break;case"right":k+=m.cellWidth;break;case"down":g+=m.cellHeight}if(g<0||g>d||k<0&&g<=0||k>u&&g>=d)return void i.change((z=>{z.setSelection(z.createRangeOn(s))}));k<0?(k=n?0:u,g--):k>u&&(k=n?u:0,g++);const _=l.find((z=>z.row==g&&z.column==k)).cell,v=["right","down"].includes(e),E=this.editor.plugins.get("TableSelection");if(n&&E.isEnabled){const z=E.getAnchorCell()||t;E.setCellSelection(z,_)}else{const z=i.createPositionAt(_,v?0:"end");i.change((L=>{L.setSelection(z)}))}}}class yD extends br{domEventType=["mousemove","mouseleave"];onDomEvent(t){this.fire(t.type,t)}}class xD extends ft{static get pluginName(){return"TableMouse"}static get requires(){return[rc,zn]}init(){this.editor.editing.view.addObserver(yD),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const t=this.editor,e=t.plugins.get(zn);let n=!1;const i=t.plugins.get(rc);this.listenTo(t.editing.view.document,"mousedown",((s,l)=>{const d=t.model.document.selection;if(!this.isEnabled||!i.isEnabled||!l.domEvent.shiftKey)return;const u=i.getAnchorCell()||e.getTableCellsContainingSelection(d)[0];if(!u)return;const m=this._getModelTableCellFromDomEvent(l);m&&ev(u,m)&&(n=!0,i.setCellSelection(u,m),l.preventDefault())})),this.listenTo(t.editing.view.document,"mouseup",(()=>{n=!1})),this.listenTo(t.editing.view.document,"selectionChange",(s=>{n&&s.stop()}),{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let e,n,i=!1,s=!1;const l=t.plugins.get(rc);this.listenTo(t.editing.view.document,"mousedown",((d,u)=>{this.isEnabled&&l.isEnabled&&(u.domEvent.shiftKey||u.domEvent.ctrlKey||u.domEvent.altKey||(e=this._getModelTableCellFromDomEvent(u)))})),this.listenTo(t.editing.view.document,"mousemove",((d,u)=>{if(!u.domEvent.buttons||!e)return;const m=this._getModelTableCellFromDomEvent(u);m&&ev(e,m)&&(n=m,i||n==e||(i=!0)),i&&(s=!0,l.setCellSelection(e,n),u.preventDefault())})),this.listenTo(t.editing.view.document,"mouseup",(()=>{i=!1,s=!1,e=null,n=null})),this.listenTo(t.editing.view.document,"selectionChange",(d=>{s&&d.stop()}),{priority:"highest"})}_getModelTableCellFromDomEvent(t){const e=t.target,n=this.editor.editing.view.createPositionAt(e,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}function ev(o,t){return o.parent.parent==t.parent.parent}var nv=D(2329),ED={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(nv.A,ED),nv.A.locals;class DD extends ft{static get requires(){return[kD,wD,rc,xD,vD,CD,gm]}static get pluginName(){return"Table"}}function SD(o){const t=o.getSelectedElement();return t&&iv(t)?t:null}function TD(o){const t=o.getFirstPosition();if(!t)return null;let e=t.parent;for(;e;){if(e.is("element")&&iv(e))return e;e=e.parent}return null}function iv(o){return!!o.getCustomProperty("table")&&rn(o)}class MD extends ft{static get requires(){return[$g]}static get pluginName(){return"TableToolbar"}afterInit(){const t=this.editor,e=t.t,n=t.plugins.get($g),i=t.config.get("table.contentToolbar"),s=t.config.get("table.tableToolbar");i&&n.register("tableContent",{ariaLabel:e("Table toolbar"),items:i,getRelatedElement:TD}),s&&n.register("table",{ariaLabel:e("Table toolbar"),items:s,getRelatedElement:SD})}}var ov=D(5506),BD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(ov.A,BD),ov.A.locals;var rv=D(2655),ID={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(rv.A,ID),rv.A.locals;var sv=D(4043),ND={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(sv.A,ND),sv.A.locals;var av=D(1623),zD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(av.A,zD),av.A.locals;var lv=D(8986),OD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(lv.A,OD),lv.A.locals;var cv=D(5562),LD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(cv.A,LD),cv.A.locals;var dv=D(4143),RD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(dv.A,RD),dv.A.locals;var uv=D(8795),jD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(uv.A,jD),uv.A.locals;const PD={autoRefresh:!0},hv=36e5;class fb extends ge(){_refresh;_options;_tokenRefreshTimeout;constructor(t,e={}){if(super(),!t)throw new H("token-missing-token-url",this);e.initValue&&this._validateTokenValue(e.initValue),this.set("value",e.initValue),this._refresh=typeof t=="function"?t:()=>{return n=t,new Promise(((i,s)=>{const l=new XMLHttpRequest;l.open("GET",n),l.addEventListener("load",(()=>{const d=l.status,u=l.response;return d<200||d>299?s(new H("token-cannot-download-new-token",null)):i(u)})),l.addEventListener("error",(()=>s(new Error("Network Error")))),l.addEventListener("abort",(()=>s(new Error("Abort")))),l.send()}));var n},this._options={...PD,...e}}init(){return new Promise(((t,e)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),t(this)):this.refreshToken().then(t).catch(e)}))}refreshToken(){return this._refresh().then((t=>(this._validateTokenValue(t),this.set("value",t),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this)))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(t){const e=typeof t=="string",n=!/^".*"$/.test(t),i=e&&t.split(".").length===3;if(!n||!i)throw new H("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const t=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout((()=>{this.refreshToken()}),t)}_getTokenRefreshTimeoutTime(){try{const[,t]=this.value.split("."),{exp:e}=JSON.parse(atob(t));return e?Math.floor((1e3*e-Date.now())/2):hv}catch{return hv}}static create(t,e={}){return new fb(t,e).init()}}const gb=/^data:(\S*?);base64,/;class FD extends yt(){file;xhr;_token;_apiAddress;constructor(t,e,n){if(super(),!t)throw new H("fileuploader-missing-file",null);if(!e)throw new H("fileuploader-missing-token",null);if(!n)throw new H("fileuploader-missing-api-address",null);this.file=(function(i){if(typeof i!="string")return!1;const s=i.match(gb);return!(!s||!s.length)})(t)?(function(i,s=512){try{const l=i.match(gb)[1],d=atob(i.replace(gb,"")),u=[];for(let m=0;m<d.length;m+=s){const g=d.slice(m,m+s),k=new Array(g.length);for(let _=0;_<g.length;_++)k[_]=g.charCodeAt(_);u.push(new Uint8Array(k))}return new Blob(u,{type:l})}catch{throw new H("fileuploader-decoding-image-data-error",null)}})(t):t,this._token=e,this._apiAddress=n}onProgress(t){return this.on("progress",((e,n)=>t(n))),this}onError(t){return this.once("error",((e,n)=>t(n))),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const t=new XMLHttpRequest;t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t}_attachXHRListeners(){const t=this.xhr,e=n=>()=>this.fire("error",n);t.addEventListener("error",e("Network Error")),t.addEventListener("abort",e("Abort")),t.upload&&t.upload.addEventListener("progress",(n=>{n.lengthComputable&&this.fire("progress",{total:n.total,uploaded:n.loaded})})),t.addEventListener("load",(()=>{const n=t.status,i=t.response;if(n<200||n>299)return this.fire("error",i.message||i.error)}))}_sendRequest(){const t=new FormData,e=this.xhr;return t.append("file",this.file),new Promise(((n,i)=>{e.addEventListener("load",(()=>{const s=e.status,l=e.response;return s<200||s>299?l.message?i(new H("fileuploader-uploading-data-failed",this,{message:l.message})):i(l.error):n(l)})),e.addEventListener("error",(()=>i(new Error("Network Error")))),e.addEventListener("abort",(()=>i(new Error("Abort")))),e.send(t)}))}}class VD{_token;_apiAddress;constructor(t,e){if(!t)throw new H("uploadgateway-missing-token",null);if(!e)throw new H("uploadgateway-missing-api-address",null);this._token=t,this._apiAddress=e}upload(t){return new FD(t,this._token,this._apiAddress)}}class UD extends na{static get pluginName(){return"CloudServicesCore"}createToken(t,e){return new fb(t,e)}createUploadGateway(t,e){return new VD(t,e)}}class HD extends na{tokenUrl;uploadUrl;webSocketUrl;bundleVersion;token=null;_tokens=new Map;static get pluginName(){return"CloudServices"}static get requires(){return[UD]}async init(){const t=this.context.config.get("cloudServices")||{};for(const[n,i]of Object.entries(t))this[n]=i;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=await e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)}async registerTokenUrl(t){if(this._tokens.has(t))return this.getTokenFor(t);const e=this.context.plugins.get("CloudServicesCore"),n=await e.createToken(t).init();return this._tokens.set(t,n),n}getTokenFor(t){const e=this._tokens.get(t);if(!e)throw new H("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const t of this._tokens.values())t.destroy()}}class qD extends Ry{static builtinPlugins=[U1,G1,Y1,$1,tx,rx,_x,Ex,HD,Tx,Lx,Xx,oE,AE,_E,fE,xE,JE,h2,E2,ip,K2,CE,DD,MD,i1];static defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}}})(),j=j.default})()))})(Em,Em.exports)),Em.exports}var e5=t5();const n5=$v(e5);class i5{constructor(b){this.loader=b}upload(){return this.loader.file.then(b=>new Promise((C,y)=>{fetch(`${Hv}/api/csrf-token`,{method:"GET",credentials:"include"}).then(D=>D.json()).then(D=>{const j=D.csrfToken,M=new FormData;M.append("upload",b),fetch(`${Hv}/api/paginas/upload-comment-image`,{method:"POST",body:M,credentials:"include",headers:{"x-csrf-token":j}}).then(S=>{if(!S.ok)throw new Error(`Upload failed: ${S.status}`);return S.json()}).then(S=>{S.url?C({default:S.url}):y(S.error||"Upload failed")}).catch(S=>y(S))}).catch(D=>y(D))}))}abort(){}}function o5(f){f.plugins.get("FileRepository").createUploadAdapter=b=>new i5(b)}function r5({value:f,onChange:b,placeholder:C,rows:y=8,style:D={},...j}){return at.jsx(R0,{editor:n5,data:f,onChange:(M,S)=>{const A=S.getData();b({target:{value:A}})},config:{placeholder:C,height:D.height||"200px",extraPlugins:[o5]},...j})}function s5({paginaId:f}){const{isAuthenticated:b}=Kd(),[C,y]=Le.useState(""),D=DM(),j=async A=>{if(A.preventDefault(),!!C.trim())try{await D.mutateAsync({pageId:f,comentario:C.trim()}),y("")}catch(B){console.error("Error creating comment:",B)}},M=()=>at.jsxs("form",{onSubmit:j,style:{width:400,height:300,maxWidth:400,maxHeight:300,minWidth:400,minHeight:300,boxSizing:"border-box",background:"#f7f7f7",borderRadius:8,padding:16,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start"},children:[at.jsx("label",{children:"Agregar comentario:"}),at.jsx(r5,{value:C,onChange:A=>y(A.target.value),placeholder:"Escribe tu comentario...",rows:8,style:{height:180,marginBottom:8,resize:"none"}}),at.jsx("button",{type:"submit",disabled:D.isPending||!C.trim(),style:{width:120,alignSelf:"center",marginTop:8},children:D.isPending?"Agregando...":"Agregar"}),D.isSuccess&&at.jsx("div",{style:{color:"green",marginTop:8},children:"Comentario agregado!"}),D.isError&&at.jsx("div",{style:{color:"red",marginTop:8},children:"Error al agregar comentario"})]}),S=()=>{const A=new Se({title:"Agregar Comentario",width:450,height:350});Zv.createRoot(A.body).render(at.jsx(M,{}))};return b?at.jsx("div",{style:{marginTop:16},children:at.jsx("a",{href:"#",onClick:A=>{A.preventDefault(),S()},style:{color:"#007bff",textDecoration:"underline",cursor:"pointer"},children:"Agregar comentario"})}):at.jsxs("div",{style:{color:"#888",marginTop:16},children:["Debes ",at.jsx(Va,{to:"/login",children:"iniciar sesión"})," para agregar un comentario."]})}function a5(){const{username:f}=b0(),{user:b,isAuthenticated:C}=Kd(),[y,D]=nt.useState({width:window.innerWidth,height:window.innerHeight}),{data:j,isLoading:M,error:S}=TM(f),{data:A=[],isLoading:B}=SM(j?.id),N=async()=>{if(!(!j?.user_id||b?.id!==j.user_id)&&window.confirm("¿Seguro que quieres borrar tu perfil y todo tu rastro? Esta acción es irreversible."))try{const O=(await(await fetch("/api/csrf-token",{credentials:"include"})).json()).csrfToken;(await fetch(`/api/auth/user/${j.user_id}`,{method:"DELETE",credentials:"include",headers:{"X-CSRF-Token":O}})).ok?(alert("Tu perfil y todos tus datos han sido eliminados."),window.location.href="/"):alert("Error al borrar el usuario.")}catch{alert("Error de conexión al borrar el usuario.")}};return nt.useEffect(()=>{function I(){D({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",I),document.body.style.overflowX="hidden",document.documentElement.style.overflowX="hidden",()=>{window.removeEventListener("resize",I),document.body.style.overflowX="",document.documentElement.style.overflowX=""}},[]),M?at.jsx("div",{style:{maxWidth:600,margin:"40px auto",textAlign:"center"},children:at.jsx("p",{children:"Cargando página..."})}):S||!j?at.jsxs("div",{style:{maxWidth:600,margin:"40px auto",background:"#fff",padding:32,borderRadius:12,boxShadow:"0 4px 24px #0002",textAlign:"center"},children:[at.jsx("h2",{children:"Página de usuario no encontrada"}),at.jsx("p",{children:"Este usuario aún no ha creado su página o el enlace es incorrecto."}),at.jsx("div",{style:{width:120,height:120,borderRadius:"50%",background:"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",fontSize:48,color:"#888",margin:"24px auto"},children:at.jsx("span",{children:"👤"})})]}):at.jsx("div",{style:{width:"100vw",maxWidth:"100vw",minHeight:y.height,margin:0,background:"#fff",padding:"clamp(8px, 4vw, 24px)",borderRadius:0,boxShadow:"none",position:"relative",overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},children:at.jsxs("div",{style:{width:"100%",maxWidth:900,margin:"0 auto",boxSizing:"border-box",padding:"0 5vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[at.jsx(pM,{user:b,setUser:()=>{},editable:b?.id===j?.user_id,authUserId:b?.id,id:j?.user_id||f}),at.jsx(kM,{paginaUser:j,username:j?.usuario,authUserId:b?.id,onUsernameChange:()=>{}}),at.jsx("div",{style:{width:"100%",maxWidth:"100%",boxSizing:"border-box",overflowX:"hidden"},children:at.jsx(gM,{paginaId:j?.id,editable:b?.id===j?.user_id})}),at.jsxs("div",{style:{marginTop:32,width:"100%"},children:[C?at.jsx(s5,{paginaId:j.id}):at.jsxs("div",{style:{color:"#888",marginTop:16},children:["Debes ",at.jsx(Va,{to:"/login",children:"iniciar sesión"})," para agregar un comentario."]}),at.jsx(bM,{comentarios:A})]}),b?.id===j?.user_id&&at.jsx("button",{onClick:N,style:{background:"#d32f2f",color:"#fff",border:"none",borderRadius:8,padding:"8px 24px",marginTop:48,fontWeight:"bold",cursor:"pointer",fontSize:"1.1rem",alignSelf:"center"},children:"Borrar mi perfil y todos mis datos"})]})})}function l5({showOutput:f}){const{data:b=[],isLoading:C,error:y}=EM(),D=nt.useRef("");nt.useEffect(()=>{let M="";C?M="Cargando feed...":y?M="Error al cargar el feed":b.length>0?M=`Feed cargado: ${b.length} entradas`:M="No hay entradas disponibles en el feed.",M!==D.current&&(f(M,C?"info":y?"error":"success"),D.current=M)},[C,y,b,f]);const j=M=>{M.preventDefault()};return at.jsxs(at.Fragment,{children:[at.jsx(lM,{onFeedClick:j}),at.jsx(cM,{feed:b})]})}function c5(){const{checkAuth:f}=Kd(),[b,C]=Le.useState({message:"",type:""}),[y,D]=Le.useState(!1),j=nt.useRef(!1);nt.useEffect(()=>{j.current||(f(),j.current=!0)},[f]);const M=Le.useCallback((A,B="info")=>{Array.isArray(A)?C({message:A.map(N=>at.jsx("div",{children:N},N)),type:B}):C({message:A,type:B}),D(!1)},[]);function S(){D(A=>!A)}return at.jsxs(QT,{children:[at.jsxs(xT,{children:[at.jsx(xm,{path:"/",element:at.jsx(l5,{showOutput:M})}),at.jsx(xm,{path:"/registro",element:at.jsx(mM,{showOutput:M})}),at.jsx(xm,{path:"/login",element:at.jsx(fM,{showOutput:M})}),at.jsx(xm,{path:"/pagina/:username",element:at.jsx(a5,{})})]}),at.jsx(dM,{outputMsg:b.message,outputType:b.type,outputMinimized:y,toggleOutputMinimize:S})]})}class d5 extends Le.Component{constructor(b){super(b),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(b){return{hasError:!0}}componentDidCatch(b,C){console.error("ErrorBoundary caught an error:",b,C),this.setState({error:b,errorInfo:C})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?at.jsxs("div",{style:{maxWidth:600,margin:"40px auto",padding:32,background:"#fff",borderRadius:12,boxShadow:"0 4px 24px #0002",textAlign:"center"},children:[at.jsx("h2",{children:"¡Ups! Algo salió mal"}),at.jsx("p",{children:"Ha ocurrido un error inesperado. Por favor, intenta recargar la página."}),at.jsxs("div",{style:{marginTop:24},children:[at.jsx("button",{onClick:this.handleReset,style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:8,padding:"12px 24px",fontSize:"16px",cursor:"pointer",marginRight:12},children:"Intentar de nuevo"}),at.jsx("button",{onClick:()=>window.location.reload(),style:{background:"#dc3545",color:"#fff",border:"none",borderRadius:8,padding:"12px 24px",fontSize:"16px",cursor:"pointer"},children:"Recargar página"})]}),!1]}):this.props.children}}const u5=new CS({defaultOptions:{queries:{staleTime:300*1e3,cacheTime:600*1e3,retry:(f,b)=>b?.status>=400&&b?.status<500?!1:f<3}}});Zv.createRoot(document.getElementById("root")).render(at.jsx(nt.StrictMode,{children:at.jsx(d5,{children:at.jsx(vS,{client:u5,children:at.jsx(c5,{})})})}));
